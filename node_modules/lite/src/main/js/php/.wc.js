~function(){function r(e){if("number"==typeof e){var n=i[e];if(!n){var u="./"+e;n=i[e]={exports:{},id:u},t[e](n.exports,r,n,u)}return n.exports}return require(e)}function e(n){var t="number"==typeof n?n:u.indexOf(n);return t>=0?r(t):e}function n(r,e){for(var n in r)e[n]=r[n]}var t=arguments,u=[].pop.call(t),i={},a=this.require;a&&a.backup?a.backup.push(e):(this.require=function(r){if(r instanceof Function){for(var e=arguments,t=e.length,u={};--t;)n(require(e[t]),u);return r(u),u}for(var e=require.backup,t=e.length;t--;){var i=e[t](r);if(i!=e[t])return i}return a?a.apply(this,arguments):{}},this.require.backup=[e]),n(r(0),this)}(function(o,e,r){console.log("read module err!!!fs\nError: ENOENT: no such file or directory, open 'fs'")}
,
function(t,e){function i(t){this.waitPromise=t.waitPromise,this.liteImpl=t.liteImpl||"lite__"}function n(t,e){c.call(this,t,null),this.id=e}function s(t){for(var e in t)this[e]=t[e]}function p(t,e){if(t.length){if(e&&e.length){t=t.concat();for(var i=t.length,n=e.length;n--;)t[--i]+="="+$(e[n])}return"$"+t.join(",$")}return""}function a(t){var e="'";return t=t.replace(/['\\]|(\?>)|([\r\n]+$)|[\r\n]/gm,function(i,n,s){return s?(e="","',"+JSON.stringify(i)):n?"?','>":"\\"==i?"\\\\":"'"==i?"\\'":(console.error("非法输出行!!"+JSON.stringify(t)),"\\"==i?"\\\\":"\\'")}),t="'"+t+e,"'',"==t.substring(0,3)&&(t=t.substring(3)),t}function h(t,e,i){if(-1==e)var n="htmlspecialchars("+t+",ENT_COMPAT,"+i+",false)";else if(e==d)var n="htmlspecialchars("+t+",ENT_COMPAT,"+i+")";else if(e==f)var n="htmlspecialchars("+t+",ENT_NOQUOTES,"+i+")";else var n=t;return n}function r(t,e){for(var i in e.refMap)i in e.varMap||i in e.paramMap||(i in y?t.append("$",i,"='",i,"';"):i in P||t.append("$",i,"=function_exists('lite__",i,"')?'",i,"':null;"))}if("function"==typeof e)var d=e(6).XA_TYPE,o=e(6).ELSE_TYPE,l=e(6).EL_TYPE,f=e(6).XT_TYPE,c=e(7).TranslateContext,_=e(8).getELType,u=e(8).TYPE_ANY,g=e(8).TYPE_BOOLEAN,v=e(8).TYPE_NULL,E=e(8).TYPE_NUMBER,y=e(9).GLOBAL_DEF_MAP,P=e(9).GLOBAL_VAR_MAP;var m="$__for",L="$__tmp";if(i.prototype={translate:function(t,e){var i=new n(t||this.code,e.name);i.waitPromise=this.waitPromise,i.htmlspecialcharsEncoding=i.encoding=e.encoding||"UTF-8",i.contentType=e.contentType,i.i18n=e.i18n,i.resources=e.resources,i.parse();var s=i.toSource();return"<?php"+s}},s.prototype=c.prototype,n.prototype=new s({stringifyEL:function(t){return t?b(t,this):null},parse:function(){this.depth=0,this.out=[];for(var t=this.scope.defs,e=0;e<t.length;e++){var i=this.scope.defMap[t[e]],n=i.name;this.append("if(!function_exists('lite__",n,"')){function lite__",n,"(",p(i.params,i.defaults),"){"),this.depth++,this.append("ob_start();"),r(this,i),this.appendCode(i.code),this.append("$rtv= ob_get_contents();ob_end_clean();return $rtv;"),this.depth--,this.append("}}")}try{if(this.append("function lite_template",this.id,"($__context__){"),this.depth++,this.contentType&&this.append("if(!headers_sent())header('ContentType:"+this.contentType+"');"),this.append("mb_internal_encoding('"+this.encoding+"');"),r(this,this.scope),this.append("extract($__context__,EXTR_OVERWRITE);"),this.i18n&&this.resources){for(var s=new Function("return "+this.i18n)(),a=this.resources,h={},d=[],e=0;e<a.length;e++)h[C(a[e],"_").slice(0,-1)]=a[e];console.warn(a,h);for(var n in s)n=n.substring(0,n.indexOf("__")+2),n in h&&(d.push(n.slice(0,-2)),delete h[n]);this.append("$I18N = "+$(d).replace(/^array/,"lite_i18n")+";"),this.append("$I18N = array_merge("+$(s)+",$I18N);")}this.appendCode(this.scope.code),this.__lazy_module_&&this.append("lite_lazy_block($__lazy_module_);"),this.depth--,this.append("}")}catch(o){throw console.error("PHP编译失败:"+this.id,o),o}},appendStatic:function(t){for(var e=t.match(/.+[\r\n]*|[\r\n]+/g),i=0;i<e.length;i++){var n=e[i],s=0==i?"echo ":"	,",p=i==e.length-1?";":"";n=a(n),this.append(s,n,p)}},_appendEL:function(t,e,i,n){var s="'"+this.htmlspecialcharsEncoding+"'";n=null!=n?n:"echo ";var i=i||this.stringifyEL(t),p=_(t);if(I(i))var a=i,r=i;else r=L,a="("+r+"="+i+")";if(p!=u){if(p==v)return void this.append(n,"'null';");if(p==g)return void this.append(n,i,"?'true':'false';");if(p==E)return void this.append(n,i,";");if((v|g)==p)return void this.append(n,a,"?'true':(",r,"===null?'null':'false');");if(!((v|g)&p))return void this.append(n,h(i,e,s),";");if(!(p&v))return void this.append(n,a," === true?'true':","(",r,"===false?'false':",h(r,e,s),");");if(!(p&g))return void this.append(n,a,"===null?'null':",h(r,e,s),";")}this.append(n,"(",a,"===null||",r,"===false || ",r,"===true)?json_encode(",r,"):",h(r,e,s),";")},appendEL:function(t){this._appendEL(t[1],l)},appendXT:function(t){this._appendEL(t[1],f)},appendXA:function(t){var e=t[1],i=this.stringifyEL(e),n=t.length>2&&t[2],s=this.allocateId(i);s!=i&&this.append(s,"=",i,";"),n?(this.append("if(",s,"!=null){"),this.depth++,this.append("echo ' "+n+"=\"';"),this._appendEL(e,d,s),this.append("echo '\"';"),this.depth--,this.append("}")):this._appendEL(e,d,s),this.freeId(s)},appendVar:function(t){this.append("$",t[2],"=",this.stringifyEL(t[1]),";")},processCapture:function(t){var e=t[1],i=t[2];this.append("ob_start();"),this.appendCode(e),this.append("$",i,"= ob_get_contents();ob_end_clean();")},appendEncodePlugin:function(t){this._appendEL(t[1],-1,this.stringifyEL(t[1]))},appendDatePlugin:function(t,e){var t=this.stringifyEL(t[1]),e=this.stringifyEL(e[1]);/^(?:'[^']+'|"[^"]+")$/.test(t)&&(e+=",true"),this.append("echo lite__2(",t,",",e,");")},appendModulePlugin:function(t,e){this.waitPromise?(this.append("ob_start();"),this.outputIndent++,this.appendCode(t),this.outputIndent--,this.__lazy_module_?(this.append("array_push($__lazy_module_,"+e.id+");"),this.append("array_push($__lazy_module_,ob_get_contents());")):this.append("$__lazy_module_=array("+e.id+",ob_get_contents());"),this.append("ob_end_clean();"),this.__lazy_module_=!0):this.appendCode(t)},processIf:function(t,e){var i=t[e],n=i[1],s=i[2],p=this.stringifyEL(s);this.append("if(",T(s,p),"){"),this.depth++,this.appendCode(n),this.depth--,this.append("}");for(var a=t[e+1],h=!0;a&&a[0]==o;){e++;var n=a[1],s=a[2],p=this.stringifyEL(s);p?this.append("else if(",T(s,p),"){"):(h=!1,this.append("else{")),this.depth++,this.appendCode(n),this.depth--,this.append("}"),a=t[e+1]}return e},processFor:function(t,e){var i=t[e],n=this.allocateId(),s=this.allocateId(),p=this.allocateId(),a=this.stringifyEL(i[2]),h="$"+i[3],r=i[1],d=this.findForStatus(i);if(d.depth)var l=this.allocateId();if(/^\$[\w_]+$/.test(a))var f=a;else{var f=this.allocateId();this.append(f,"=",a,";")}this.append("if(",f,"<=PHP_INT_MAX){",f,"=",f,">0?range(1,",f,"):array();}");var c=d.ref||d.index||d.lastIndex;c&&(d.depth&&this.append(l,"=",m,";"),this.append(m," = array('lastIndex'=>count(",f,")-1);")),this.append(n,"=-1;"),this.append(p,"=false;"),this.append("foreach(",f," as ",s,"=>",h,"){"),this.depth++,this.append("if(++",n," === 0){"),this.depth++,this.append(p,"=",s," !== 0;"),this.depth--,this.append("}"),this.append("if(",p,"){",h,"=",s,";}"),c&&this.append(m,"['index']=",n,";"),this.appendCode(r),this.depth--,this.append("}"),c&&d.depth&&this.append(m,"=",l,";"),this.freeId(p),this.freeId(s),this.freeId(f),d.depth&&this.freeId(l);for(var _=t[e+1],u=!0,g=0;u&&_&&_[0]==o;){e++,g++;var r=_[1],v=_[2],E=this.stringifyEL(v),y=g>1?"else if":"if";E?this.append(y,"(",n,"<0&&",T(v,E),"){"):(u=!1,this.append(y,"(",n,"<0){")),this.depth++,this.appendCode(r),this.depth--,this.append("}"),_=t[e+1]}return this.freeId(n),e},toSource:function(){return this.out.join("")}}),"function"==typeof e){t.PHPTranslator=i;var T=e(10).php2jsBoolean,I=e(10).isSimplePHPEL,$=e(10).stringifyPHP,b=e(10).stringifyPHPEL,C=e(11).i18nHash}}
,
function(t,e){function n(t,e){t=t||new y,this.config=t,this.currentURI=h,this.configMap=t.getConfig(e),this.textType=0,this._path=e,this._attributeMap=[[],[],{}],this._result=new c,this._context=this,this._result._context=this,this._resources=[],r(this,t.getExtensionMap(e))}function r(t,e){var n=new x;for(var r in e)for(var o=e[r],a=o.length,u=0;a>u;u++)n.addExtension(r,o[u]);t._nodeParsers=[s,d,i],t._textParsers=[n],t._extensionParser=n,t._topChain=l(t)}function i(t,e,n){return e._extensionParser.parse(t,e,n)}function s(t,e){return"string"==typeof t?g(t,e,e._textParsers):void console.error("未知节点类型",typeof t,t)}function o(t){return function(){var e=this._result;return e[t].apply(e,arguments)}}function a(t,e){if("string"==typeof e)return t=t[2],e in t?t[e]:null;for(var n=t[0],r=t[1],i=n.length;i--;)if(e===n[i])return r[i]}function u(t,e,n){if("string"==typeof e)t[2][e]=n;else{for(var r=t[0],i=t[1],s=r.length;s--;)if(e===r[s])return i[s]=n,void(void 0===n&&(i.splice(s,1),r.splice(s,1)));r.push(e),i.push(n)}}var c=e(12).ResultContext,f=e(13).URI,h=new f("lite:///"),p=e(14).loadLiteXML,l=e(15).buildTopChain,x=e(16).ExtensionParser,d=(e(17).Extension,e(18).parseDefaultXMLNode),g=e(19).parseText,_=e(6).XA_TYPE,v=e(6).EL_TYPE,w=e(6).XT_TYPE,y=e(20).ParseConfig;t.ParseContext=n,n.prototype={parseText:function(t,e){switch(e){case _:case w:case v:break;default:throw console.error("未知编码模式："+e),new Error}var n=this.mark(),r=this.textType;this._context.textType=e,s(t,this),this._context.textType=r;var i=this.reset(n);return i},parse:function(t){var e=t.nodeType;if(e>0)this._topChain.next(t);else{if(t instanceof f){var n=this.currentURI;this.setCurrentURI(t),t=this.loadXML(t),"string"==typeof t&&(t=t.replace(/#.*[\r\n]*/,""))}if("string"!=typeof t){var r=t.length,i=t.nodeType;if(void 0===i&&"undefined"!=typeof t.item){if(0===r)return;for(var s=0;r>s;s++)this._topChain.next(t.item(s));return}}this._topChain.next(t),n&&this.setCurrentURI(n)}},createURI:function(t){var e=this.config.root.toString();if(!t)return t;t=String(t),0==t.indexOf(e)&&(t=t.substring(e.length-1));var n=this.currentURI;return n?n.resolve(t):(t=t.replace(/^[\\\/]/,"./"),h.resolve(t))},loadText:function(t){if("lite"==t.scheme){var n=t.path+(t.query||"");n=n.replace(/^\//,"./"),t=this.config.root.resolve(n)}if("file"!=t.scheme){var r=new XMLHttpRequest;return r.open("GET",t,!1),r.send(""),r.responseText}var i=e(0),n=t.path;return i.existsSync(n)?i.readFileSync(n).toString():void 0},loadXML:function(t){var e=+new Date;if(t instanceof f||(/^\s*</.test(t)?n=p(t,this.config.root):t=new f(t)),t instanceof f){var n=p(t,this.config.root);this._context._loadTime+=new Date-e}var r=n&&n.documentElement;return r&&(r.setAttribute("xmlns:xhtml","http://www.w3.org/1999/xhtml"),r.setAttribute("xmlns:c","http://www.xidea.org/lite/core")),n},setAttribute:function(t,e){u(this._context._attributeMap,t,e)},getAttribute:function(t){return a(this._context._attributeMap,t)},addNodeParser:function(t){this._nodeParsers.push(t)},addTextParser:function(t){this._textParsers.push(t)},addExtension:function(t,e){this._extensionParser.addExtension(t,e)},getConfig:function(t){return this.configMap[t]},getConfigMap:function(){return this.configMap},setCurrentURI:function(t){this._context.addResource(t=new f(t)),this._context.currentURI=t},addResource:function(t){for(var e=this._resources,n=0;n<e.length;n++)if(e[n]+""==t)return;this._resources.push(t)},getResources:function(){return this._resources},createNew:function(){var t=new n(this.config,this.currentURI);return t.config=this.config,t.configMap=this.configMap,t._resources=this._resources,t},_loadTime:0};var T=c.prototype;for(var P in T)T[P]instanceof Function&&(n.prototype[P]=o(P))}
,
function(e,n){function t(e,n){this.root=new u(e&&e.replace(/[\\\/]*$/,"/")||"lite:///");var t=n&&s(n);if(t){for(var r=[],c=t.length;c--;){var f={};i(t[c],f),f.includes=new RegExp(f.includes||"^$"),f.excludes=new RegExp(f.excludes||"^$"),r[c]=f}this._groups=r}else this._groups=o}function i(e,n){for(var t in e)n[t]=e[t]}function r(e,n,t){for(var i=0,r=e.length;r>i;i++){var o=e[i];if(o.includes.test(n)&&!o.excludes.test(n))return o}return t&&e[e.length-1]}t.prototype={getConfig:function(e){var n={},t=r(this._groups,e,null);return t&&i(t.config,n),n},getExtensionMap:function(e){var n=r(this._groups,e,null);return n?n.extensionMap:{}}};var o={includes:/./,excludes:/^$/,config:{encoding:"utf-8",contentType:"text/html;charset=UTF-8"},extensionMap:{}};if("function"==typeof n){e.ParseConfig=t;var s=n(21).parseConfig,u=n(13).URI}}
,
function(e,t){function n(e){"string"==typeof e&&(e=h(e));var t=e.getElementsByTagName("lite"),n=t.length;if(n>=1){var o=new i(t.item(0));if(n>1){console.error("配置文件只允许一个lite节点","您的文档中包含"+n+"个节点，后续节点将作为第一个节点子节点解析。");for(var s=1;n>s;s++)o.children.push(new i(t[s],this))}var a=o.toJSON();return a}return null}function i(e,t){this.parentConfig=t||null,this.config={},this.encoding=u(e,"encoding","charset"),this.type=u(e,"type","mime-type","mimeType"),this.contentType=u(e,"contentType","contextType"),this.layout=u(e,"layout"),this.extensionMap={},this.children=[],this.includes=[],this.excludes=[];for(var n=e.firstChild;n;){if(1==n.nodeType)switch(n.nodeName){case"feature":case"attribute":case"config":this.config[u(n,"name","key","uri","url")]=u(n,"value","#text");break;case"extension":var o=u(n,"namespace","name","key","uri","url"),s=u(n,"package","impl","value","#text"),a=this.extensionMap[o];a&&a instanceof Array?r(a,s):this.extensionMap[o]=[s];break;case"include":this.includes.push(u(n,"value","#text","pattern"));break;case"exclude":this.excludes.push(u(n,"value","#text","pattern"));break;case"group":this.children.push(new i(n,this));break;default:console.warn("unknow nodeName:"+n.nodeName)}n=n.nextSibling}}function o(e,t){var n=e.type,i=e.encoding,o=e.contentType;if(null!=o){console.info("contentType 用于同时指定 type 和charset 属性，如此需求更推荐您采用type和encoding代替");var s=o.indexOf("charset=");if(s>0){var a=o.substring(s+8);i?a.toUpperCase()!=i.toUpperCase()&&console.info("encoding 与 contentType 不一致"+i+","+o+"; "):i=a}var r=o.replace(/\s*;.*$/,"");n&&n.toUpperCase()!=r.toUpperCase()&&console.error("type 与 contentType 不一致"+n+","+r+";type 设置将被忽略"),n=r}if(null==i&&(i=t&&t.encoding||"UTF-8"),null==n&&(n=t&&t.type),null==o)n&&(o=n+";charset="+i);else{var s=o.indexOf("charset=");0>s&&(o+=";charset="+i)}e.type=n,e.encoding=i,e.contentType=o}function s(e,t){for(var n in e)t[n]=e[n]}function a(e,t){var n={};for(var i in t)n[i]=[].concat(t[i]);for(var i in e){var o=[].concat(e[i]),s=n[i];if(s)for(var a=s.length;a--;)r(o,s[a]);n[i]=o}return n}function r(e,t){for(var n=e.length;n--;)e[n]==t&&e.splice(n,1);e.push(t)}function c(e){for(var t=e.length;t--;)e[t]=l(e[t]);return e.join("|")||null}if(i.prototype.toJSON=function(){var e=[],t=this.children.length,n={};this.initialize();for(var i=0;t>i;i++)e.push.apply(e,this.children[i].toJSON());return n.includes=this.includes,n.excludes=this.excludes,n.config=this.config,n.extensionMap=this.extensionMap,e.push(n),e},i.prototype.initialize=function(){this.initialize=Function.prototype;var e=this.parentConfig;if(e){var t={};s(e.config,t),s(this.config,t),this.config=t,this.extensionMap=a(e.extensionMap,this.extensionMap)}this.includes=c(this.includes),this.excludes=c(this.excludes),o(this,e),this.config.encoding=this.encoding,this.config.contentType=this.contentType,null!=this.layout&&(this.layout&&"/"!=this.layout.charAt()?console.error("layout 必须为绝对地址('/'开始),你的设置为："+this.layout):this.config.layout=this.layout)},"function"==typeof t){e.parseConfig=n;var l=t(13).buildURIMatcher,h=t(14).loadLiteXML,u=t(14).findXMLAttribute}}
,
function(e,t){function r(e){return"%"+(256+e).toString(16).substring(1)}function n(e){var t=e.charCodeAt();return 128>t?r(t):2048>t?r(192|t>>>6)+r(128|63&t):r(224|t>>>12&15)+r(128|t>>>6&63)+r(128|63&t)}function u(e){return"\\"==e?"/":n(e)}function a(e){if(e instanceof a)return e;if(/^\s*[<]/i.test(e))return e=String(e).replace(p,n),new a("data:text/xml,"+e);for(e=String(e).replace(p,u),e=e.replace(/\/\.\/|\\\.\\|\\/g,"/"),/^\/|^[a-z]\:\//i.test(e)&&(e="file://"+e);e!=(e=e.replace(/[^\/]+\/\.\.\//g,"")););var t=e.match(f);t?o(this,t):console.error("url must be absolute,"+e)}function o(e,t){e.value=t[0],e.scheme=t[1],e.authority=t[2],e.path=t[3],e.query=t[4],e.fragment=t[5],"data"==e.scheme&&(t=e.value,e.source=decodeURIComponent(t.substring(t.indexOf(",")+1)))}function i(e){var t=e.charCodeAt();return 2048>t?String.fromCharCode(192|t>>>6,128|63&t):String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t)}function c(e){return e=e&&e.replace(/[\u0080-\uFFFF]/g,i)||"",e=d(e),encodeURIComponent(e)}function s(e){var t,r=/\*+|[^\*\\\/]+?|[\\\/]/g,n=["^"];for(r.lastIndex=0;t=r.exec(e);){var u=t[0],a=u.length,o=u.charAt(0);"*"==o?a>1?n.push(".*"):n.push("[^\\\\/]*"):1==a&&"/"==o||"\\"==o?n.push("[\\\\/]"):n.push(u.replace(/[^\w]/g,h))}return n.push("$"),n.join("")}function h(e){switch(e){case".":return"\\.";case"\\":return"\\\\";default:return"\\x"+(256+e.charCodeAt()).toString(16).substring(1)}}var f=/^([a-zA-Z][\w\.]*)\:(?:(\/\/[^\/]*))?(\/?[^?#]*)(\?[^#]*)?(#[\s\S]*)?$/,l=/^[a-zA-Z][\w\.]*\:/,p=/\\|[\x22\x3c\x3e\x5c\x5e\x60\u1680\u180e\u202f\u205f\u3000]|[\x00-\x20]|[\x7b-\x7d]|[\x7f-\xa0]|[\u2000-\u200b]|[\u2028-\u2029]/g;a.prototype={resolve:function(e){if(e=String(e),/^\s*[#<]/.test(e)||l.test(e))return e=new a(e.replace(/^\s+/,""));if(e=e.replace(p,u),"/"!=e.charAt()){var t=this.path;e=t.replace(/[^\/]*$/,e)}return new a(this.scheme+":"+(this.authority||"")+e)},toString:function(){return this.value}};var d=this.btoa||function(e){for(var t=[],r=0,n=e.length;n>r;){var u=e.charCodeAt(r++),a=e.charCodeAt(r++),o=e.charCodeAt(r++),i=(u<<16)+(a<<8)+(o||0);t.push(g[i>>18&63],g[i>>12&63],g[isNaN(a)?64:i>>6&63],g[isNaN(o)?64:63&i])}return t.join("")},g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split("");"function"==typeof t&&(e.URI=a,e.buildURIMatcher=s,e.base64Encode=c)}
,
function(E,P){var T=0,e=1,_=2,Y=3,i=4,n=5,t=6,I=7,a=8,l=9,A="org.xidea.lite.DefinePlugin";E.PLUGIN_DEFINE=A,E.VAR_TYPE=a,E.XA_TYPE=Y,E.ELSE_TYPE=t,E.PLUGIN_TYPE=I,E.CAPTURE_TYPE=l,E.IF_TYPE=e,E.EL_TYPE=T,E.BREAK_TYPE=_,E.XT_TYPE=i,E.FOR_TYPE=n}
,
function(t,e){function s(t,e,s){this.name=e,this.params=s,this.scope=new a(t,s),this.allocateIdMap={},this.outputIndent=0}var i="$_";if(s.prototype={findForStatus:function(t){for(var e=this.scope.fors,s=e.length;s--;){var i=e[s];if(i.code==t)return i}},allocateId:function(t){if(t&&/^([\w\$_]+|[\d\.]+)$/.test(t))return t;for(var e=0;;){if(!this.allocateIdMap[e])return this.allocateIdMap[e]=!0,i+e.toString(36);e++}},freeId:function(t){var e=i.length;t.substring(0,e)==i&&delete this.allocateIdMap[t.substring(e)]},appendCode:function(t){for(var e=0;e<t.length;e++){var s=t[e];if("string"==typeof s)this.appendStatic(s);else{var i=s&&s[0];switch(i){case h:this.visitEL(s[1],i),this.appendEL(s);break;case l:this.visitEL(s[1],i),this.appendXT(s);break;case r:this.visitEL(s[1],i),this.appendXA(s);break;case n:this.visitEL(s[1],i),this.appendVar(s);break;case u:this.visitEL(null,i),this.processCapture(s);break;case c:this.visitEL(s[2],i),this.processPlugin(s[1],s[2]);break;case p:this.visitEL(s[2],i),e=this.processIf(t,e);break;case f:this.visitEL(s[2],i),e=this.processFor(t,e);break;case o:this.visitEL(s[2],i),e=this.processElse(t,e);break;default:throw Error("无效指令："+e+JSON.stringify(t))}}}},visitEL:function(){},processPlugin:function(t,e){var s=e["class"];switch(s.replace(/^org\.xidea\.lite\.(?:parse\.)?/,"")){case"EncodePlugin":this.appendEncodePlugin(t[0]);break;case"DatePlugin":this.appendDatePlugin(t[0],t[1]);break;case"NativePlugin":this.appendNativePlugin(t,e);break;case"ModulePlugin":this.appendModulePlugin(t,e);break;case"DefinePlugin":break;case"ClientPlugin":default:console.error("程序bug(插件需要预处理):"+s,e)}},processElse:function(t,e){throw Error("问题指令(无主else,else 指令必须紧跟if或者for)："+t,e)},append:function(){var t=this.outputIndent;for(this.out.push("\n");t--;)this.out.push("	");for(var e=0;e<arguments.length;e++)this.out.push(arguments[e])},reset:function(){var t=this.out.concat();return this.out.length=0,t}},"function"==typeof e){t.TranslateContext=s;var a=e(23).OptimizeScope,n=e(6).VAR_TYPE,r=e(6).XA_TYPE,o=e(6).ELSE_TYPE,c=e(6).PLUGIN_TYPE,u=e(6).CAPTURE_TYPE,p=e(6).IF_TYPE,h=e(6).EL_TYPE,l=e(6).XT_TYPE,f=e(6).FOR_TYPE}}
,
function(e,r){function n(e,r){W[e]=r,Z[r]=e}function t(e){return Z[e]}function a(e){return W[e]}function c(e){switch(e){case N:case I:case z:return!0;default:return!1}}function s(e){return e[_(e[0])]}function u(e){var r=_(e);return c(e)?r+1:r}function _(e){if(0>e)return 1;var r=(e&E)>>6;return r+2}function P(e){var r=e&re||e&ne||e&te,n=e&ae||e&ce||e&se;return n?r?null:!1:!0}function O(e,r){var n=i(e),t=i(r),a=P(n),c=P(t);return a===!1||c===!1?ae:a===!0&&c===!0?te:te|ae}function i(e){var r=e[0];if(r>0){var n=e[1],t=e[2];switch(r){case q:return ce;case z:return se;case h:return O(n,t);case U:case L:case Y:case B:case g:case p:case H:case J:case j:case v:return te;case l:case Q:case V:case m:case C:case G:case w:case x:case b:return ne;case K:case F:return i(n)|i(t);case S:if(t[0]==I)if(n[0]==N&&"for"==n[1]){if("index"==t[1]||"lastIndex"==t[1])return te}else if("length"==t[1]){var a=i(n);return a&se?ue:a&ce||a&ae?a&ae||a&ne||a&te?re|te:te:re}return ue;case d:if(n[0]==N)switch(n[1]){case"encodeURI":case"encodeURIComponent":case"decodeURI":case"decodeURIComponent":return ae;case"parseInt":case"parseInt":return te;case"isFinite":case"isNaN":return ne}else if(n[0]==S&&(t=n[2],n=n[1],t[0]==I)){var c=t[1];if(n[0]==N){var s=n[1];if("JSON"==s){if("stringify"==c)return ae}else if("Math"==s)return te}}return ue;default:return ue}}else switch(r){case I:var u=e[1];if(null==u)return re;switch(typeof u){case"boolean":return ne;case"number":return te;case"string":return ae;case"object":return u instanceof Array?ce:se}return ue;case N:return ue;case R:return ce;case A:return se;default:return ue}}function T(e,r,n,t){var a=_e(e[0]),c=_e(r[0]);return n?(a>c&&(n="("+n+")"),n):(t&&a>=c&&(t="("+t+")"),t)}var f=60,o=3840,E=192,I=-1,N=-2,R=-3,A=-4,S=96,d=97,l=28,v=29,U=30,L=31,Y=88,B=89,g=90,h=84,p=85,k=80,y=81,M=82,Q=332,V=333,m=334,C=335,D=4428,G=76,w=77,x=78,b=79,H=1096,J=840,j=584,K=328,F=72,X=68,$=69,q=64,z=65,W={},Z={};n(I,"value"),n(N,"var"),n(R,"[]"),n(A,"{}"),n(S,"."),n(d,"()"),n(l,"!"),n(v,"~"),n(U,"+"),n(L,"-"),n(Y,"*"),n(B,"/"),n(g,"%"),n(h,"+"),n(p,"-"),n(k,"<<"),n(y,">>"),n(M,">>>"),n(Q,"<"),n(V,">"),n(m,"<="),n(C,">="),n(D," in "),n(G,"=="),n(w,"!="),n(x,"==="),n(b,"!=="),n(H,"&"),n(J,"^"),n(j,"|"),n(K,"&&"),n(F,"||"),n(X,"?"),n($,":"),n(q,","),n(z,":");var ee=0,re=1<<ee++,ne=1<<ee++,te=1<<ee++,ae=1<<ee++,ce=1<<ee++,se=1<<ee++,ue=(1<<ee++)-1;if("function"==typeof r){e.getTokenParam=s,e.hasTokenParam=c,e.getTokenParamIndex=_,e.getTokenLength=u,e.findTokenType=t,e.findTokenText=a,e.getELType=i,e.addELQute=T,e.BIT_ARGS=E,e.BIT_PRIORITY=f,e.BIT_PRIORITY_SUB=o,e.OP_ADD=h,e.OP_AND=K,e.OP_BIT_AND=H,e.OP_BIT_NOT=v,e.OP_BIT_OR=j,e.OP_BIT_XOR=J,e.OP_DIV=B,e.OP_EQ=G,e.OP_EQ_STRICT=x,e.OP_GET=S,e.OP_GT=V,e.OP_GTEQ=C,e.OP_IN=D,e.OP_INVOKE=d,e.OP_JOIN=q,e.OP_LSH=k,e.OP_LT=Q,e.OP_LTEQ=m,e.OP_MOD=g,e.OP_MUL=Y,e.OP_NE=w,e.OP_NEG=L,e.OP_NE_STRICT=b,e.OP_NOT=l,e.OP_OR=F,e.OP_POS=U,e.OP_PUT=z,e.OP_QUESTION=X,e.OP_QUESTION_SELECT=$,e.OP_RSH=y,e.OP_SUB=p,e.OP_URSH=M,e.TYPE_ANY=ue,e.TYPE_ARRAY=ce,e.TYPE_BOOLEAN=ne,e.TYPE_MAP=se,e.TYPE_NULL=re,e.TYPE_NUMBER=te,e.TYPE_STRING=ae,e.TYPE_TOKEN_MAP=W,e.VALUE_CONSTANTS=I,e.VALUE_LIST=R,e.VALUE_MAP=A,e.VALUE_VAR=N;var _e=(r(22).evaluate,r(24).getPriority)}}
,
function(t,n){function e(t){this.config=t||{}}function i(t){var n=t.header,e=t.body,i=t.name,r=t.params,s=r?r.join(","):"__context__,__out__",o=["function ",i,"(",s,"){\n",n,"\n"];if(t.waitPromise)o.push("	__g__ = __g__();","function __n__(){","var n = __g__.next().value;","if(n instanceof Promise){","n.then(__n__);console.log('is promise',n)","}","};__n__();\n"),o.push("	function* __g__(){\n",e,'\n	return __out__.join("");\n	}\n}\n');else{if(r){var a=e.match(/^\s*__out__\.push\((.*?)\);?\s*$/);if(a){var p="	return ["+a[1]+"]";try{return new Function(p),p.indexOf(",")>0?o.push(p,'.join("");\n}'):o.push("	return ",a[1],";\n}"),o.join("")}catch(h){}}o.push("	var __out__ = [];\n")}else o.push("	var __out__ = __out__||[];\n");o.push(e,'\n	return __out__.join("");\n}\n')}return o.join("")}function r(t,n,e,i,r){var s=r.concat(),o=e?e.join(","):"__context__";if(e&&i&&i.length){s.push("	switch(arguments.length){\n");for(var a=e.length-i.length,p=0;p<e.length;p++)s.push("		case ",p,":\n"),p>=a&&s.push("		",e[p],"=",JSON.stringify(i[p-a]),";\n");s.push("	}\n")}var h=t.join(""),u=/^\s*\__out__\.push\((?:(.*)\)\s*;?)\s*$/g;if(u.test(h)){var c=h.replace(u,"$1");h=c.indexOf(",")>0?"	return ["+c+"].join('');":"	return "+c+";"}else h="	var __out__=[]\n"+h.replace(/^\s*\n|\s*\n\s*$/g,"")+"\n	return __out__.join('');\n";return"function "+n+"("+o+"){\n"+s.join("")+h.replace(/^[\r\n]+/,"")+"\n}\n"}function s(t,n,e){var i=[],r={},s=n.externalRefMap,o=(n.callMap,n.varMap),a=n.paramMap;d(s,r);var p=[];for(var h in r)"*"==h||h in y||h in o||h in a||e||(i.push("	var ",h,'=("',h,'" in __context__?__context__:this)["',h,'"];\n'),p.push(h));return!e&&t.waitPromise&&i.push(p.join("\n").replace(/.+/gm,"	if($& instanceof Promise){$&.then(function(v){$& = v});}"),"\n"),i}function o(t){if(t.hasBuildIn)return"";var n=[""],e=t.xmlEncoder+2*t.entityEncoder;e&&(e>3?(t.optimizedEncoder=!0,n.push("	function __x__(source,e){return String(source).replace(e||/&(?!#\\d+;|#x[\\da-f]+;|[a-z]+;)|[<\"]/ig,function(c){return '&#'+c.charCodeAt()+';'});}\n")):n.push(" 	function __r__(c){return '&#'+c.charCodeAt()+';'}\n")),t.safeGetter&&n.push("	function __get__(o,p,a){try{return a?o[p].apply(o,a):o[p]}catch(e){return e}}\n"),t.forStack.hit&&n.push("	if(!Object.keys)Object.keys=function(o){var r=[];for(var n in o){r.push(n)};return r;};\n");var i=t.dateFormat;if(i.hit){var r=i.isFixLen?"__dl__(":"",s=i.isFixLen?",format.length)":"";r&&n.push("	function __dl__(date,len){return len > 1? ('000'+date).slice(-len):date;}\n"),i.T&&n.push("	function __tz__(offset){return offset?(offset>0?'-':offset*=-1,'+')+__dl__(offset/60,2)+':'+__dl__(offset%60,2):'Z'}\n"),i&&n.push("	function __df__(pattern,date){\n"),i&&n.push("		date = date?new Date(date):new Date();\n"),i&&n.push("	        return pattern.replace(/",i.qute?"'[^']+'|\"[^\"]+\"|":"","([YMDhms])\\1*",i["."]?"|\\.s":"",i.T?"|TZD$":"","/g,function(format){\n"),i&&n.push("	            switch(format.charAt()){\n"),i.Y&&n.push("	            case 'Y' :return ",r,"date.getFullYear()",s,";\n"),i.M&&n.push("	            case 'M' :return ",r,"date.getMonth()+1",s,";\n"),i.D&&n.push("	            case 'D' :return ",r,"date.getDate()",s,";\n"),i.h&&n.push("	            case 'h' :return ",r,"date.getHours()",s,";\n"),i.m&&n.push("	            case 'm' :return ",r,"date.getMinutes()",s,";\n"),i.s&&n.push("	            case 's' :return ",r,"date.getSeconds()",s,";\n"),i["."]&&n.push("	            case '.':return '.'+",r,"date.getMilliseconds(),3);\n"),i.T&&n.push("	            case 'T':return __tz__(date.getTimezoneOffset());\n"),i.qute&&n.push("	            case ''':case '\"':return format.slice(1,-1);\n"),i&&n.push("	            default :return format;\n"),i&&n.push("	            }\n"),i&&n.push("	        });\n"),i&&n.push("	    }\n")}return n.join("")}function a(t,n,e){var i=t.dateFormat,r=n[1],s=0;return-1!=n[0]&&(r="YYMMDDhhmmss.sTZD"),r.replace(/([YMDhms])\1*|\.s|TZD/g,function(t){len=t.length,t=t.charAt(),('"'==t||"'"==t)&&(i.qute=1),s=Math.max(s,i[t]=Math.max(i[t]||0,len))}),i.isEL=i.isEL||-2!=e[0],i.isFixLen=i.isFixLen||s>1,i.hit++,n=t.stringifyEL(n),e=t.stringifyEL(e),{toString:function(){return"__df__("+n+","+e+")"}}}function p(t,n,e,i){g.call(this,t,n,e,i),this.forStack=[],this.defaults=i,this.xmlEncoder=0,this.entityEncoder=0,this.dateFormat={hit:0},this.safeGetter={hit:0}}function h(t,n){if(t.waitPromise){var e=t.waitPromise[t.waitPromise.length-1];if(e){for(var i=Object.keys(new v(n).getVarMap()),r=[],s=0;s<i.length;s++){var o=i[s];"for"!=o&&e.indexOf(o)<0&&(r.push(o),e.push(o))}if(r.length)return"yield* __out__.wait("+r.join(",")+")"}}}function u(t){var n=t.out,e=t._lastOutGroup,i=n.length-1,r=n.splice.call(arguments,1);e&&n[i]===e?e.list.push.apply(e.list,r):t.append(t._lastOutGroup=new c(r))}function c(t){this.list=t}function _(t,n,e){return t.xmlEncoder++,n=t.stringifyEL(n),{toString:function(){var i=e?'/[&<\\"]/g':"/[&<]/g";return t.optimizedEncoder||t.hasBuildIn?"__x__("+n+","+i+")":"String("+n+").replace("+i+",__r__)"}}}function f(t,n){return n=t.stringifyEL(n),t.entityEncoder++,{toString:function(){return t.optimizedEncoder||t.hasBuildIn?"__x__("+n+")":"String("+n+').replace(/&(?!#\\d+;|#x[\\da-f]+;|[a-z]+;)|[<"]/ig,__r__)'}}}function d(t,n){for(var e in t)n[e]=t[e]}var l=n(6).ELSE_TYPE,g=n(7).TranslateContext,v=n(25).Expression,m={parseInt:1,parseFloat:1,encodeURIComponent:1,decodeURIComponent:1,encodeURI:1,decodeURI:1,isFinite:1,isNaN:1},y={JSON:1,Math:1};d(m,y),e.prototype={translate:function(t,n){n=n||{};var e=n.params,r=n.name,s=new p(t,r,e,n.defaults),o=this.config||{},a=o.liteImpl;s.waitPromise=o.waitPromise&&[[]],s.hasBuildIn=!!a,s.liteImpl=a&&("string"==typeof a?a:"liteImpl"),s.parse();var h=i(s);try{var u=new Function("return "+h),c=s.scope,_=c.refMap,f=c.varMap,d=Object.keys(_).filter(function(t){return!(t in f)});if(0==d&&e)return"function "+(r||"")+"(){return "+JSON.stringify(u()())+"}"}catch(l){var g=["invalid code:",l,"<code>"+h+"</code>"].join("");console.log(g),h="function "+(r||"")+"(){return "+JSON.stringify(g)+";}"}return h.replace(/<\/script>/g,"<\\/script>").replace(/^\s*[\r\n]+/,"")}},p.prototype=new g,p.prototype.parse=function(){this.params;this.out=[];for(var t=this.scope.defs,n=this,e=[],i=0;i<t.length;i++){var a=this.scope.defMap[t[i]];this.outputIndent=1,this.appendCode(a.code);var p=s(this,a,a.params),h=n.reset();e.push({params:a.params,defaults:a.defaults,vars:p,name:a.name,toString:function(){var t=r(h,this.name,a.params,a.defaults,[]);return String(t).replace(/^(.)/gm,"	$1")}})}try{this.outputIndent=0,this.outputIndent++,this.appendCode(this.scope.code),this.outputIndent--}catch(u){throw u}var c=[],c=s(this,this.scope,this.params),_=o(this);_&&c.unshift(_),this.header=c.concat(e).join(""),this.body=this.reset().join("").replace(/^[\r\n]+/,"")},p.prototype.appendStatic=function(t){u(this,JSON.stringify(t))},p.prototype.appendEL=function(t){u(this,this.stringifyEL(t[1]))},p.prototype.appendXT=function(t){u(this,_(this,t[1]))},p.prototype.appendXA=function(t){var n=t[1],e=this.stringifyEL(n),i=t.length>2&&t[2];if(i){var r=this.allocateId(e);r!=e&&(n=new v(r).token,this.append("var ",r,"=",e)),this.append("if(",r,"!=null){"),this.pushBlock(),u(this,"' "+i+"=\"'",_(this,n,!0),"'\"'"),this.popBlock(),this.append("}"),this.freeId(r)}else u(this,_(this,n,!0))},p.prototype.appendVar=function(t){this.append("var ",t[2],"=",this.stringifyEL(t[1]),";")},p.prototype.appendEncodePlugin=function(t){u(this,f(this,t[1]))},p.prototype.appendDatePlugin=function(t,n){u(this,a(this,t[1],n[1]))},p.prototype.processCapture=function(t){var n=t[1];if(1==n.length&&n[0].constructor==String)t[1]=JSON.stringify(n[0]),this.appendVar(t);else{var e=t[2],i=this.allocateId();this.append("var ",i,"=__out__;__out__=[];"),this.appendCode(n),this.append("var ",e,"=__out__.join('');__out__=",i,";"),this.freeId(i)}},p.prototype.processIf=function(t,n){var e=t[n],i=e[1],r=e[2],s=this.stringifyEL(r);this.append("if(",s,"){"),this.pushBlock(),this.appendCode(i),this.popBlock(),this.append("}");var o=t[n+1],a=!0;for(this.pushBlock(!0);o&&o[0]==l;){n++;var i=o[1],r=o[2],s=this.stringifyEL(r);if(s){var p=h(this,r);this.append("else if(",p?"("+p+")||("+s+")":s,"){")}else a=!1,this.append("else{");this.pushBlock(),this.appendCode(i),this.popBlock(),this.append("}"),o=t[n+1]}return this.popBlock(!0),n},p.prototype.processFor=function(t,n){this.forStack.hit=!0;var e=t[n],i=this.allocateId(),r=this.allocateId(),s=this.allocateId(),o=this.stringifyEL(e[2]),a=e[3],p=e[1],u=this.findForStatus(e);this.append("var ",s,"=",o,";"),this.append("var ",i,"=0;"),this.append("var ",r," = (",s,"=",s," instanceof Array?",s,":Object.keys(",s,")",").length-1;");var c=u.ref,_=u.index||u.lastIndex;if(c){var f=this.allocateId();this.forStack.unshift([f,i,r]),this.append("var ",f," = {lastIndex:",r,"};")}else _&&this.forStack.unshift(["for",i,r]);this.append("for(;",i,"<=",r,";",i,"++){"),this.pushBlock(),c&&this.append(f,".index=",i,";"),this.append("var ",a,"=",s,"[",i,"];"),this.appendCode(p),this.popBlock(),this.append("}");var d=t[n+1],g=!0,v=0;for(this.pushBlock(!0);g&&d&&d[0]==l;){n++,v++;var p=d[1],m=d[2],y=this.stringifyEL(m),I=v>1?"else if":"if";if(y){var k=h(this,m);this.append(I,"(",k?"("+k+")|| !":"!",i,"&&(",y,")){")}else g=!1,this.append(I,"(!",i,"){");this.pushBlock(),this.appendCode(p),this.popBlock(),this.append("}"),d=t[n+1]}return this.popBlock(!0),c?(this.freeId(f),this.forStack.shift()):_&&this.forStack.shift(),this.freeId(r),this.freeId(s),this.freeId(i),n},p.prototype.pushBlock=function(t){t||this.outputIndent++;var n=this.waitPromise;if(n){var e=n[n.length-1];n.push(e?e.concat():[])}},p.prototype.popBlock=function(t){t||this.outputIndent--,this.waitPromise&&this.waitPromise.pop()},p.prototype.appendModulePlugin=function(t,n){this.waitPromise?(this.append("__out__.lazy(function* __lazy_widget_",n.id,"__(__out__){"),this.pushBlock(),this.appendCode(t),this.popBlock(),this.append("})")):this.appendCode(t)},p.prototype.stringifyEL=function(t){return t?new v(t).toString(this):null},p.prototype.visitEL=function(t,n){t=t&&h(this,t),t&&this.append(t)},p.prototype.getVarName=function(t){return"for"==t&&console.error("invalue getVarName:"),t},p.prototype.getForName=function(){var t=this.forStack[0];return t&&t[0]},p.prototype.genGetCode=function(t,n){return this.safeGetter?(this.safeGetter.hit=!0,"__get__("+t+","+n+")"):/^"[a-zA-Z_\$][_\$\w]*"$/.test(n)?t+"."+n.slice(1,-1):t+"["+n+"]"},p.prototype.findForAttribute=function(t,n){for(var e=this.forStack,i="index"==n?1:"lastIndex"==n?2:0,r=0;i&&r<e.length;r++){var s=e[r];if(s&&s[0]==t)return s[i]}},c.prototype.toString=function(){return"__out__.push("+this.list.join(",")+");"},t.JSTranslator=e,t.GLOBAL_DEF_MAP=m,t.GLOBAL_VAR_MAP=y}
,
function(r,e){function n(r,e){var n=r[0];return 0>=n?a(r,e):3==d(n)?l(r,e):p(r,e)}function a(r,e){var n=r[1];switch(r[0]){case G:return _(n);case D:return"for"==n?g:"$"+n;case J:case B:return"array()"}}function t(r,e){for(var n=arguments.length,a=0;--n>1;)a|=arguments[n];var t=r|e;return(t&a)==t}function i(r,e){var a=N(r),i=n(r[1],e),u=n(r[2],e);if(a==V)return i+"+"+u;if(a==b){/[\d]$/.test(i)&&(i+=" "),/^[\d]/.test(u)&&(u=" "+u);var s=N(r[1]),f=N(r[2]);if(t(s,f,b,V))return i+"."+u}return"lite_op__add("+i+","+u+")"}function u(r,e,a){var i=N(r[1]),u=N(r[2]),s=n(r[1],e),f=n(r[2],e);return a=a||"==",i==b||u==b?"strcmp("+s+","+f+") "+a+"0":i===Q||u===Q?s+a+"="+f:t(i,u,V,x)||t(i,u,k,j,b)||1==i.toString(2).replace(/0/g,"").length&&i==u?s+a+f:("!="==a?"!":"")+"lite_op__eq("+s+","+f+")"}function s(r,e){var a=r[1],t=r[2],i=n(r[1],e),u=n(r[2],e);if(t[0]==G){var s=t[1];if("length"!=s){if(a[0]==D){var f=a[1];if("Math"==f&&!(f in e.scope.defMap&&f in e.scope.varMap&&f in e.scope.paramMap)&&"number"==typeof O[s])return"("+O[s]+")"}if(!/^[^(][\s\S]*\)$/.test(i)&&!/^(true|false|null|[\d\.]+)$/.test(i))return i+"["+u+"]"}}return"lite_op__get("+i+","+u+")"}function f(r){var e=r[1];if(e[0]==S){var n=e[1],a=e[2];if(n[0]==D)var t=n[1];if(a[0]==G)var i=a[1];return[t||n,i||a,r[2]]}if(e[0]==D)var t=e[1];return[t||e,null,r[2]]}function o(r,e,a){return"string"!=typeof r?n(r,e):a?"$"+r:"'"+r+"'"}function c(r,e){var a=f(r),t=a[0],i=a[1],u=n(a[2],e);if(i){if("string"==typeof i)if("Math"===t){var s=/^(?:sin|sqrt|tan|cos|acos|asin|atan|atan2|max|min||floor|round|abs|ceil|exp|log|pow)$/;if("random"==i)return"(rand(0, 0xFFFF)/0xFFFF)";if(s.test(i))return u.replace("array",i);console.warn("Math 不支持方法:"+i+";Math 支持的方法有:random|"+s.source.replace(/[^\w\|]/g,""))}else if("JSON"===t){if("parse"==i)return u.replace("array","json_decode").slice(0,-1)+",true)";if("stringify"==i)return u.replace("array","json_encode");console.warn("JSON 不支持方法:"+i+";JSON 只支持:stringify和parse方法")}else if("reverse"==i&&"array()"==u&&t[0]==M){var c=f(t);if("concat"==c[1])return t=c[0],t=o(t,e,!0),u=n(c[2],e),"lite_op__invoke("+t+",'concat_reverse',"+u+")"}return t=o(t,e,!0),i=o(i,e),"lite_op__invoke("+t+","+i+","+u+")"}if("string"==typeof t){if((t in H||t in e.scope.defMap)&&!(t in e.scope.varMap||t in e.scope.paramMap))return u.replace("array","lite__"+t);if(t in e.scope.varMap||t in e.scope.paramMap)var l="$"+t;else var l="isset($"+t+")?$"+t+":'"+t+"'";return"lite_op__invoke("+l+",null,"+u+")"}return t=o(t,e,!0),"lite_op__invoke("+t+",null,"+u+")"}function l(r,e){var a=r[0];if(a==h)return i(r,e);if(a==A)return u(r,e,"==");if(a==I)return u(r,e,"!=");if(a==S)return s(r,e);if(a==M)return c(r,e);var t=T(r[0]),f=n(r[1],e),o=n(r[2],e);switch(a){case $:return"array()"==f?"array("+o+")":f.slice(0,-1)+","+o+")";case F:return o=_(y(r))+"=>"+o+")","array()"==f?"array("+o:f.slice(0,-1)+","+o;case U:return null;case Y:var l=r[1],p=n(l[1],e),f=n(l[2],e);return"("+v(l[1],p)+"?"+f+":"+o+")";case m:return P(f)?"("+v(r[1],f)+"?"+o+":"+f+")":"(("+v(r[1],f,E)+")?"+o+":"+E+")";case w:return P(f)?"("+v(r[1],f)+"?"+f+":"+o+")":"(("+v(r[1],f,E)+")?"+E+":"+o+")"}return f=L(r,r[1],f),o=L(r,r[2],null,o),f+t+o}function _(r){switch(typeof r){case"string":return"'"+r.replace(/[\\']/g,"\\$&")+"'";case"number":return isNaN(r)&&(r="null"),""+r;case"undefined":return"null";case"object":if(!r)return"null";var e=[];if(r instanceof Array){for(var n=r.length;n--;)e[n]=_(r[n])||"null";return"array("+e.join(",")+")"}if(r instanceof RegExp)return"array('class'=>'RegExp','source'=>'"+r.replace(/[\\']/g,"\\$&")+"')";for(var a in r){var t=_(r[a]);t&&e.push(_(a)+"=>"+t)}return"array("+e.join(",")+")";default:return String(r)}}function p(r,e){var a=r[0],t=r[1],i=n(t,e);y(r,e);if(a==R){var u=v(t,i);return P(u)||(u="("+u+")"),"!"+u}i=L(r,r[1],null,i);var s=T(a);return s+i}function v(r,e,a,t){e||(e=n(r,t));var i=r[0];if(0>=i)switch(i){case G:return a?r[1]?"(("+a+"="+e+")||true)":"(("+a+"="+e+")&&false)":!!r[1]+"";case D:break;case J:case B:default:return a?"(("+a+"="+e+")||true)":"true"}var u=N(r);if(!(u&b||u&k||u&j))return a?"("+a+"="+e+")":e;if(P(e)&&!a){var s=e;a=e}else{a=a||E;var s="("+a+"="+e+")"}return(u&k||u&j)&&(s+=" || 0 < "+a),u&b&&(s+=" || '0' ==="+a),"("+s+")"}function P(r){return r.match(/^([\w_\$]+|[\d\.]+)$/)}var E="$__el_tmp",g="$__for",O={E:2.718281828459045,PI:3.141592653589793,LN2:.6931471805599453,LN10:2.302585092994046,LOG2E:1.4426950408889634,LOG10E:.4342944819032518,SQRT1_2:.7071067811865476,SQRT2:1.4142135623730951};if("function"==typeof e){r.stringifyPHPEL=n,r.stringifyPHP=_,r.php2jsBoolean=v,r.isSimplePHPEL=P;var y=e(8).getTokenParam,d=e(8).getTokenParamIndex,T=e(8).findTokenText,N=e(8).getELType,L=e(8).addELQute,h=e(8).OP_ADD,m=e(8).OP_AND,A=e(8).OP_EQ,S=e(8).OP_GET,M=(e(8).OP_IN,e(8).OP_INVOKE),$=e(8).OP_JOIN,I=e(8).OP_NE,R=e(8).OP_NOT,w=e(8).OP_OR,F=e(8).OP_PUT,U=e(8).OP_QUESTION,Y=e(8).OP_QUESTION_SELECT,k=(e(8).TYPE_ANY,e(8).TYPE_ARRAY),x=e(8).TYPE_BOOLEAN,j=e(8).TYPE_MAP,Q=e(8).TYPE_NULL,V=e(8).TYPE_NUMBER,b=e(8).TYPE_STRING,G=e(8).VALUE_CONSTANTS,J=e(8).VALUE_LIST,B=e(8).VALUE_MAP,D=e(8).VALUE_VAR,H=(e(26).getPriority,e(9).GLOBAL_DEF_MAP)}}
,
function(e,n){function t(e){if(2==e.nodeType){var n=e.ownerElement;n.removeAttribute(e.name),this.next(n)}else 1==e.nodeType&&this.parse(e.childNodes)}function r(e,n,t){return e=e.replace(/[^\w]|_/g,function(e){return"_"+i(100+e.charCodeAt(),62).slice(-2)}),n||(n=0,t=t.replace(/[^\s]/,function(e){n=n+(2&n)+e.charCodeAt()}),n=i(n,62)),e+"__"+n}function i(e,n){for(var t=[];e>0;){var r=e%n;t.push(o[r]),e=(e-r)/n}return t.reverse().join("")}n(14).findXMLAttribute;e.interceptI18n=t,e.parseI18n=t,e.i18nHash=r;var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split("")}
,
function(t,n){function e(){this.result=[]}function i(t){var n=/^(break|case|catch|const|continue|default|do|else|false|finally|for|function|if|in|instanceof|new|null|return|switch|this|throw|true|try|var|void|while|with)$|^[a-zA-Z_][\w_]*$/,e=t.match(n);if(null==t||!e||null!=e[1])throw new Error("无效变量名：Lite有效变量名为(不包括括弧中的保留字)："+n+"\n当前变量名为："+t);return t}function s(t,n){return"string"==typeof n&&(n=t.parseEL(n)),n}function r(t){for(var n=t.length;n--;){var e=t[n];if("string"!=typeof e)break;t.pop()}}if(e.prototype={parseEL:function(t){try{return new Function("return ("+t.replace(/\bfor\b/g,"f")+")"),new u(t).token}catch(n){throw console.info("表达式解析失败[fileName:"+this._context.currentURI+"]",t,n.message),new Error}},appendText:function(t){for(var n=arguments.length,e=0;n>e;e++)this.result.push(String(arguments[e]))},appendAll:function(t){for(var n=t.length,e=0;n>e;e++)this.result.push(t[e])},appendEL:function(t){this.result.push([g,s(this,t)])},appendXA:function(t,n){this.result.push([f,s(this,n),t])},appendXT:function(t){this.result.push([T,s(this,t)])},appendIf:function(t){this.result.push([E,s(this,t)])},appendElse:function(t){r(this.result),this.result.push([c,t&&s(this,t)||null])},appendFor:function(t,n,e){this.result.push([P,s(this,n),t]),e&&this.appendVar(i(e),this.parseEL("for"))},appendEnd:function(){this.result.push([])},appendVar:function(t,n){this.result.push([a,s(this,n),i(t)])},appendCapture:function(t){this.result.push([d,i(t)])},appendPlugin:function(t,n){"string"==typeof n&&(n=JSON.parse(n)),n["class"]=t,this.result.push([o,n])},allocateId:function(){return this.inc?this.inc++:this.inc=1,"gid_"+this.inc.toString(32)},mark:function(){return this.result.length},reset:function(t){return p(this.result.splice(t,this.result.length))},toList:function(){if(!this.optimized){var t=p(this.result),n={},e=h(t,n);this.optimized=l(n,e)}return this.optimized}},"function"==typeof n){t.ResultContext=e;var u=n(25).Expression,o=n(6).PLUGIN_TYPE,h=n(27).buildTreeResult,p=n(27).optimizeResult,l=n(27).doOptimize,a=n(6).VAR_TYPE,f=n(6).XA_TYPE,c=n(6).ELSE_TYPE,o=n(6).PLUGIN_TYPE,d=n(6).CAPTURE_TYPE,E=n(6).IF_TYPE,g=n(6).EL_TYPE,T=n(6).XT_TYPE,P=n(6).FOR_TYPE}}
,
function(e,t){function r(e){return"%"+(256+e).toString(16).substring(1)}function n(e){var t=e.charCodeAt();return 128>t?r(t):2048>t?r(192|t>>>6)+r(128|63&t):r(224|t>>>12&15)+r(128|t>>>6&63)+r(128|63&t)}function u(e){return"\\"==e?"/":n(e)}function a(e){if(e instanceof a)return e;if(/^\s*[<]/i.test(e))return e=String(e).replace(p,n),new a("data:text/xml,"+e);for(e=String(e).replace(p,u),e=e.replace(/\/\.\/|\\\.\\|\\/g,"/"),/^\/|^[a-z]\:\//i.test(e)&&(e="file://"+e);e!=(e=e.replace(/[^\/]+\/\.\.\//g,"")););var t=e.match(f);t?o(this,t):console.error("url must be absolute,"+e)}function o(e,t){e.value=t[0],e.scheme=t[1],e.authority=t[2],e.path=t[3],e.query=t[4],e.fragment=t[5],"data"==e.scheme&&(t=e.value,e.source=decodeURIComponent(t.substring(t.indexOf(",")+1)))}function i(e){var t=e.charCodeAt();return 2048>t?String.fromCharCode(192|t>>>6,128|63&t):String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t)}function c(e){return e=e&&e.replace(/[\u0080-\uFFFF]/g,i)||"",e=d(e),encodeURIComponent(e)}function s(e){var t,r=/\*+|[^\*\\\/]+?|[\\\/]/g,n=["^"];for(r.lastIndex=0;t=r.exec(e);){var u=t[0],a=u.length,o=u.charAt(0);"*"==o?a>1?n.push(".*"):n.push("[^\\\\/]*"):1==a&&"/"==o||"\\"==o?n.push("[\\\\/]"):n.push(u.replace(/[^\w]/g,h))}return n.push("$"),n.join("")}function h(e){switch(e){case".":return"\\.";case"\\":return"\\\\";default:return"\\x"+(256+e.charCodeAt()).toString(16).substring(1)}}var f=/^([a-zA-Z][\w\.]*)\:(?:(\/\/[^\/]*))?(\/?[^?#]*)(\?[^#]*)?(#[\s\S]*)?$/,l=/^[a-zA-Z][\w\.]*\:/,p=/\\|[\x22\x3c\x3e\x5c\x5e\x60\u1680\u180e\u202f\u205f\u3000]|[\x00-\x20]|[\x7b-\x7d]|[\x7f-\xa0]|[\u2000-\u200b]|[\u2028-\u2029]/g;a.prototype={resolve:function(e){if(e=String(e),/^\s*[#<]/.test(e)||l.test(e))return e=new a(e.replace(/^\s+/,""));if(e=e.replace(p,u),"/"!=e.charAt()){var t=this.path;e=t.replace(/[^\/]*$/,e)}return new a(this.scheme+":"+(this.authority||"")+e)},toString:function(){return this.value}};var d=this.btoa||function(e){for(var t=[],r=0,n=e.length;n>r;){var u=e.charCodeAt(r++),a=e.charCodeAt(r++),o=e.charCodeAt(r++),i=(u<<16)+(a<<8)+(o||0);t.push(g[i>>18&63],g[i>>12&63],g[isNaN(a)?64:i>>6&63],g[isNaN(o)?64:63&i])}return t.join("")},g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split("");"function"==typeof t&&(e.URI=a,e.buildURIMatcher=s,e.base64Encode=c)}
,
function(e,r){function t(e,r){try{if(e instanceof g){if(e.source)return u(e.source.replace(/^[\s\ufeff]*/,e));if("lite"==e.scheme){var t=e.path+(e.query||"")+(e.fragment||"");t=r.resolve(t.replace(/^\//,"./"))+""}else var t=String(e)}else var t=String(e);if(/^[\s\ufeff]*[<#]/.test(t))return u(t.replace(/^[\s\ufeff]*/,""),r);if(/^(?:\w+\:\/\/|\w\:\\|\/).*$/.test(t)){var n=t.indexOf("#")+1,o=n&&t.substr(n),t=n?t.substr(0,n-1):t,i=c(t.replace(/^file\:\/\/?/,"")),a=u(i,e);return o&&a.nodeType&&(a=s(a,o)),a}return u(t)}catch(l){throw console.error("文档解析失败:"+e,l),l}}function n(e){return"<out xmlns='http://www.xidea.org/lite/core'><![CDATA["+e.replace(/^\ufeff?#.*[\r\n]*/,"").replace(/]]>/,"]]]]><![CDATA[>")+"]]></out>"}function o(e,r){for(var t,n=/^\s*<\?(\w+)\s+(.*)\?>/,o=e.firstChild;t=r.match(n);){if("xml"==t[1]){var u=e.createProcessingInstruction(t[1],t[2]);e.insertBefore(u,o)}r=r.substring(t[0].length)}return e}function u(e,r){/^[\s\ufeff]*</.test(e)||(e=n(e));try{var t=new v({locator:{systemId:r},xmlns:d}).parseFromString(e,"text/html");if(!t.querySelectorAll){var u=t.documentElement.constructor.prototype;u.querySelector=l,u.querySelectorAll=a,u=t.constructor.prototype,u.querySelector=l,u.querySelectorAll=a}return o(t,e)}catch(c){console.error("解析xml失败:",c,e)}}function c(e){var t=r(0);try{var n=t.readFileSync(e,"utf-8")}catch(o){return t.readFileSync(decodeURI(e),"utf-8")}return n}function i(e){var r=e.ownerDocument||e,t=r.nwmatcher;return t||(t=r.nwmatcher=y({document:r}),t.configure({USE_QSAPI:!1,VERBOSITY:!0})),t}function a(e){var r=i(this).select(e,this);return r.item=f,r}function l(e){return i(this).first(e,this)}function s(e,r){var t=w(e,r);return t.item=f,t}function f(e){return this[e]}function m(e,r){if(2==e.nodeType)return e.value;try{var t="*"==r.charAt();t&&(r=r.substr(1));for(var n=1,o=arguments.length;o>n;n++){var u=arguments[n];if("#text"==u)return e.textContent||e.text;var c=e.getAttribute(u);if(c||"undefined"!=typeof e.hasAttribute&&e.hasAttribute(u))return n>1&&"#"!=r.charAt(0)&&console.warn(e.tagName+" 标准属性名为："+r+"; 您采用的是："+u),c}t&&console.error("标记："+e.tagName+"属性：'"+r+"' 为必要属性。")}catch(i){console.error("findXMLAttribute error:",i)}return null}function h(e){if(e=m.apply(null,arguments),null!==e){var r=e.replace(/^\s*\$\{([\s\S]*)\}\s*$/,"$1");e==r?r&&console.warn("缺少表达式括弧,文本将直接按表达式返回",e):(r=r.replace(/^\s+|\s+$/g,""),r||console.warn("表达式内容为空:",e),e=r)}return e}function p(e){return e.lineNumber+","+e.columnNumber+"@"+e.ownerDocument.documentURI}var d={c:"http://www.xidea.org/lite/core",h:"http://www.xidea.org/lite/html-ext"},y=r(29),g=r(13).URI,v=r(28).DOMParser,w=r(31);e.defaultNSMap=d,e.querySelector=l,e.querySelectorAll=a,e.loadLiteXML=t,e.selectByXPath=s,e.findXMLAttribute=m,e.findXMLAttributeAsEL=h,e.getLiteTagInfo=p}
,
function(n,i){function s(n){function i(){}i.prototype=n;var s=i.prototype=new i;return s.index=n._nodeParsers.length,s.subIndex=-1,s.getSubChain=r,s.next=e,s.constructor=i,new i}function e(n){if(this.subIndex>0)var i=this.getSubChain(this.subIndex-1);else i=this.nextChain||u(this,this.index-1);t(n,i)}function t(n,i){var s=i._nodeParsers[i.index];null==s&&console.error("解析栈异常",s,i.index,i._nodeParsers),s(n,i,i)}function r(n){null==this.subChains&&(this.subChains=[]);for(var i=this.subChains.length;n>=i;i++){var s=new this.constructor;s.index=this.index,s.subIndex=i,s.subChains=this.subChains,this.subChains.push(s)}return null==s&&(s=this.subChains[n]),s}function u(n,i){if(i>=0){var s=new n.constructor;return s.index=i,n.nextChain=s}return null}n.buildTopChain=s}
,
function(e,t){function a(e,t){for(var a in e)t[a]=e[a]}function r(e){v=e?e:f,this.packageMap={},this.addExtension(o,w),this.addExtension(l,h),this.addExtension(u,m)}function n(e){var t=e.localName||e.nodeName||"";return t=t.replace(/[\-]|^\w+\:/g,""),t.toLowerCase()}function i(e){try{var t,a,r=/\b(?:document|xmlns|(?:parse|intercept|seek)\w*)\b/g,n=new Function("console","var window = this;"+e+"\n return function(){return eval(arguments[0])}"),i={}}catch(s){throw console.error("扩展源码语法错误:",s,e),s}try{n=n(console)}catch(s){console.error("扩展脚本装载失败：",e,s)}for(;t=r.exec(e);)try{a=n(t[0]),a instanceof Function&&(i[t[0]]=a)}catch(s){}return i}function s(e,t){var a=[];for(var r in e)new RegExp("^"+r.replace(/\*/g,".*")+"$").test(t)&&a.push.apply(a,e[r]);return a.length?a:null}function c(e,t,a,r){var n=t[r];if(n){var i=e.newInstance();a.put(r,i);for(var s in n)i.put(s,n[s])}}function p(e,t,a,r){var n=t.length-1;if(n>0){var i=a.subIndex;0>i&&(i=n,a=a.getSubChain(n)),t[i].call(a,e,r)}else t[0].call(a,e,r);return!0}var o="http://www.xidea.org/lite/core",u="http://www.xidea.org/lite/html-ext",l="http://www.w3.org/1999/xhtml",f={get:function(){return this.node},set:function(e){this.node=e}},v=f,g=t(17).Extension,h=t(30).HTML,m=t(30).HTML_EXT,M=t(14).getLiteTagInfo,w=t(32).Core;e.ExtensionParser=r,a(t(33),w),a(t(11),w),a(t(34),w),r.prototype={mapJava:function(e){var t=e.newInstance();for(var a in this.packageMap){var r=this.packageMap[a],n=e.newInstance();t.put(a,n),r.namespaceParser&&n.put("namespaceParser",r.namespaceParser),c(e,r,n,"interceptMap"),c(e,r,n,"typeMap"),c(e,r,n,"tagMap"),c(e,r,n,"patternTagMap"),c(e,r,n,"attributeMap"),c(e,r,n,"patternAttributeMap"),c(e,r,n,"seekMap")}return t},parseElement:function(e,t,a){var r=e.namespaceURI,i=e.attributes,c=i.length;try{for(var o=c-1;o>=0;o--){var u=i.item(o),l=u.namespaceURI;if(l){var f=this.packageMap[l],v=n(u);if(f&&f.interceptMap){var g=f.interceptMap[v];if(g&&v in f.interceptMap)return g.call(a,u),!0}}}}finally{}var f=this.packageMap[r||""],h=n(e);if(f&&f.tagMap){if(h in f.tagMap){var m=f.tagMap[h];return p(e,m,a)}if(m=s(f.patternTagMap,h))return p(e,m,a)}},parse:function(e,t,a){var r=e.nodeType;if(1===r){var n=v.get();try{if(v.set(e),this.parseElement(e,t,a))return}finally{v.set(n)}}else if(2===r){if(this.parseAttribute(e,t,a))return}else if(9==r||8==r)for(var i in this.packageMap){var s=this.packageMap[i];if(s&&s.typeMap){var c=s.typeMap["$"+r];if(c)return p(e,c,a,i)}}a.next(e)},parseAttribute:function(e,t,a){if(this.parseNamespace(e,t,a))return!0;try{var r=e.ownerElement||e.selectSingleNode(".."),i=e.namespaceURI||r&&r.namespaceURI||"",c=this.packageMap[i],u=n(e);if("__i"==u&&i==o)return!0;if(c&&c.attributeMap){if(u in c.attributeMap)return p(e,c.attributeMap[u],a);var l=s(c.patternAttributeMap,u);if(l)return p(e,l,a)}}catch(f){console.error("属性扩展解析异常：",f)}},parseNamespace:function(e,t,a){try{var r=0;if(/^xmlns(?:\:\w+)?/.test(e.name)){var n=e.value,i=this.packageMap[n||""];if(i){if(i.namespaceParser)return i.namespaceParser.call(a,e),!0;var s=e.ownerElement||e.selectSingleNode(".."),c=M(s);return c&&0==c.length||c.indexOf("|"+e.name+"|")>0?null!=i:!0}}}catch(p){console.error("名称空间解析异常：",r,p)}return!1},parseText:function(e,t,a){var r=e.substring(t+1),n=r.match(/^(?:(\w*)\:)?([\w!#]*)[\$\{]/);try{if(n){var i=n[0].length,s=v.get(),c=n[1],p=n[2];if(null==c)var u="";else if(s&&s.lookupNamespaceURI){var u=s.lookupNamespaceURI(c);if(null==u){var l=s.ownerDocument;u=l&&l.documentElement.lookupNamespaceURI(c)}}if(u||"c"!=c&&c||(u=o),null==u)console.warn("文本解析时,查找名称空间失败,请检查是否缺少XML名称空间申明：[code:$"+n[0]+",prefix:"+c+",document:"+a.currentURI+"]");else{var f=this.packageMap[u];if(f){var g=r.substring(i-1),h=f.seekMap;if(p in h){p=h[p];var m=p.call(a,g);if(m>0||0===m)return t+i+m+1}else console.warn("文本解析时,找不到相关的解析函数,请检查模板源码,是否手误：[function:"+p+",document:"+(a&&a.currentURI)+"]")}else console.warn("文本解析时,名称空间未注册实现程序,请检查lite.xml是否缺少语言扩展定义：[code:$"+n[0]+",namespace:"+u+",prefix:"+c+",document:"+a.currentURI+"]")}}}catch(M){console.error("文本解析异常：",M)}return-1},findStart:function(e,t,a){for(var r=t;;){if(r=e.indexOf("$",r),0>r||r>=a)return-1;var n=e.substring(r+1),i=n.match(/^(?:\w*\:)?[\w#!]*[\$\{]/);if(i)return r;r++}},addExtension:function(e,a){if("string"==typeof a)if(/^[\w\.\/]+$/.test(a)){var r={},n=t(a);for(var s in n)s.match(/^(?:document|xmlns|on|parse|intercept|seek).*/)&&(r[s]=n[s])}else r=i(a);else r=a;var c=this.packageMap[e||""];null==c&&(c=this.packageMap[e||""]=new g),c.initialize(r,e||"")},getPriority:function(){return 2}}}
,
function(t,e){function a(){this.namespaceParser=null,this.interceptMap=null,this.typeMap=null,this.tagMap=null,this.patternTagMap=null,this.attributeMap=null,this.patternAttributeMap=null,this.seekMap=null}function n(t,e,a){e in t?t[e].push(a):t[e]=[a]}function i(t,e,a,i,p){var r=t[e];if(i.indexOf("*")>=0){var s=t[a];if(s||(t[a]=s={}),n(s,i,p),r){var l=new RegExp("^"+i.replace(/\*/g,".*")+"$");for(var u in r)l.test(u)&&n(r,u,p)}}else{if(!r){t[e]=r={};var s=t[a];if(s)for(var l in s)new RegExp("^"+l.replace(/\*/g,".*")+"$").test(i)&&n(r,i,s[l])}n(r,i,p)}}function p(t){return t=t.replace(/[\-]/g,""),t.toLowerCase()}a.prototype={initialize:function(t){for(var e in t){var a=t[e];if(a instanceof Function){var r=null,s=e.match(/^(parse|seek|intercept|xmlns|on)(.*)/),l=s&&s[1],u=s&&p(s[2]);if("parse"==l){var c=u.charAt(0);u=u.replace(/^[12]/,""),"$"==c?(this.typeMap||(this.typeMap={}),n(this.typeMap,u,a)):i(this,"tagMap","patternTagMap",u,a)}else"on"==l?i(this,"attributeMap","patternAttributeMap",u,a):"xmlns"==l?this.namespaceParser=a:"intercept"==l?(r=this.interceptMap||(this.interceptMap={}),r[u]=a):"seek"==l&&(r=this.seekMap||(this.seekMap={}),r[u]=a)}}}},"function"==typeof e&&(t.Extension=a)}
,
function(e,t){function a(e,t,a){switch(e.nodeType){case 1:n(e,t,a);break;case 2:p(e,t,a);break;case 3:r(e,t,a);break;case 4:i(e,t,a);break;case 5:d(e,t,a);break;case 6:l(e,t,a);break;case 7:s(e,t,a);break;case 8:T(e,t,a);break;case 9:case 11:x(e,t,a);break;case 10:u(e,t,a);break;case 12:c(e,t,a);break;default:a.next(e)}}function n(e,t,a){var n=e.attributes,p=e.tagName;t.appendText("<"+p);for(var r=0;r<n.length;r++){try{var i=n.item(r)}catch(d){var i=n[r]}t.parse(i)}if(m.test(p))return void t.appendText("/>");t.appendText(">");var l=e.firstChild;if(l)do t.parse(l);while(l=l.nextSibling);t.appendText("</"+e.tagName+">")}function p(e,t,a){for(var n,p,r=String(e.name),i=String(e.value),d=t.parseText(i,o),l=d.length;l--;){var i=d[l];i.constructor==String?i?n=!0:d.splice(l,1):p=!0}if(p&&!n){if(d.length>1)throw new Error("属性内只能有单一EL表达式！！");if(d[0][0]==o)return t.appendXA(r,d[0][1]),null}t.appendText((/^on/.test(r)?"\n":" ")+r+'="'),/^xmlns$/i.test(r)&&"http://www.xidea.org/lite/xhtml"==d[0]&&(d[0]="http://www.w3.org/1999/xhtml"),t.appendAll(d),t.appendText('"')}function r(e,t,a){var n=String(e.data),p=t.getAttribute(g);1==p?n=n.replace(/^\s*|\s*$|(\s)\s+/g,"$1"):0!=p&&(n=n.replace(/^\s*([\r\n])\s*|\s*([\r\n])\s*$|^(\s)+|(\s)+$/g,"$1$2$3$4")),t.appendAll(t.parseText(n,b))}function i(e,t,a){t.appendText("<![CDATA["),t.appendAll(t.parseText(e.data,f)),t.appendText("]]>")}function d(){return null}function l(){return null}function s(e,t,a){t.appendText("<?"+e.nodeName+" "+e.data+"?>")}function T(){return null}function x(e,t,a){for(var n=e.firstChild;null!=n;n=n.nextSibling)t.parse(n)}function u(e,t,a){if(e.xml)t.appendText(e.xml);else{var n=e.publicId,p=e.nodeName,r=e.systemId;if("."==r&&(r=null),n){if("org.xidea.lite.OUTPUT_DTD"==n)return void(r&&t.appendText(decodeURIComponent(r)));t.appendText("<!DOCTYPE "),t.appendText(p),t.appendText(' PUBLIC "'),t.appendText(n),null==r&&(t.appendText('" "'),t.appendText(r)),t.appendText('">')}else if(r)t.appendText("<!DOCTYPE "),t.appendText(p),t.appendText(' SYSTEM "'),t.appendText(r),t.appendText('">');else{t.appendText("<!DOCTYPE "),t.appendText(p);var i=e.internalSubset;i&&(t.appendText(" ["),t.appendText(i),t.appendText("]")),t.appendText(">")}}}function c(e,t,a){return null}var o=t(6).XA_TYPE,f=t(6).EL_TYPE,b=t(6).XT_TYPE;e.parseDefaultXMLNode=a;var g=e.XML_SPACE_TRIM="http://www.xidea.org/lite/attribute/h:trim-space",m=/^(?:meta|link|img|br|hr|input)$/i}
,
function(e,r){function t(e,r,t){switch(r.textType){case i:var n='"';case f:var l=!0;case u:break;default:return void console.error("未知编码模式："+r.textType+e)}var o=e.length,p=0;do{for(var v=null,T=o+1,g=0,h=t.length;h--;){var d=t[h],x=d.findStart(e,p,T),b=d.priority||1;x>=p&&(T>x||x==T&&b>g)&&(T=x,v=d,g=b)}if(null==v)break;var w=c(e,T);if(a(r,e.substring(p,T-(w+1>>1)),l,n),1==(1&w))p=s(r,e,T);else{p=T;var y=r.mark();try{p=v.parseText(e,p,r)}catch(E){console.warn("尝试表达式解析失败:[source:"+e+",fileName:"+r.currentURI+"]",E)}T>=p&&(r.reset(y),p=s(r,e,T))}}while(o>p);o>p&&a(r,e.substring(p),l,n)}function a(e,r,t,a){if(t){if('"'==a)var s=/[<&"]/g;else if("'"==a)var s=/[<&']/g;else var s=/[<&]/g;r=r.replace(s,n)}e.appendText(r)}function n(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&#39;";case'"':return"&#34;"}}function s(e,r,t){return e.appendText(r.substring(t,t+1)),t+1}function c(e,r){if(r>0&&"\\"==e.charAt(r-1)){for(var t=r-1;t-- >0&&"\\"==e.charAt(t););return r-t-1}return 0}var i=r(6).XA_TYPE,u=r(6).EL_TYPE,f=r(6).XT_TYPE;e.parseText=t}
,
function(e,n){function t(e,n){this.root=new u(e&&e.replace(/[\\\/]*$/,"/")||"lite:///");var t=n&&s(n);if(t){for(var r=[],c=t.length;c--;){var f={};i(t[c],f),f.includes=new RegExp(f.includes||"^$"),f.excludes=new RegExp(f.excludes||"^$"),r[c]=f}this._groups=r}else this._groups=o}function i(e,n){for(var t in e)n[t]=e[t]}function r(e,n,t){for(var i=0,r=e.length;r>i;i++){var o=e[i];if(o.includes.test(n)&&!o.excludes.test(n))return o}return t&&e[e.length-1]}t.prototype={getConfig:function(e){var n={},t=r(this._groups,e,null);return t&&i(t.config,n),n},getExtensionMap:function(e){var n=r(this._groups,e,null);return n?n.extensionMap:{}}};var o={includes:/./,excludes:/^$/,config:{encoding:"utf-8",contentType:"text/html;charset=UTF-8"},extensionMap:{}};if("function"==typeof n){e.ParseConfig=t;var s=n(21).parseConfig,u=n(13).URI}}
,
function(e,t){function n(e){"string"==typeof e&&(e=h(e));var t=e.getElementsByTagName("lite"),n=t.length;if(n>=1){var o=new i(t.item(0));if(n>1){console.error("配置文件只允许一个lite节点","您的文档中包含"+n+"个节点，后续节点将作为第一个节点子节点解析。");for(var s=1;n>s;s++)o.children.push(new i(t[s],this))}var a=o.toJSON();return a}return null}function i(e,t){this.parentConfig=t||null,this.config={},this.encoding=u(e,"encoding","charset"),this.type=u(e,"type","mime-type","mimeType"),this.contentType=u(e,"contentType","contextType"),this.layout=u(e,"layout"),this.extensionMap={},this.children=[],this.includes=[],this.excludes=[];for(var n=e.firstChild;n;){if(1==n.nodeType)switch(n.nodeName){case"feature":case"attribute":case"config":this.config[u(n,"name","key","uri","url")]=u(n,"value","#text");break;case"extension":var o=u(n,"namespace","name","key","uri","url"),s=u(n,"package","impl","value","#text"),a=this.extensionMap[o];a&&a instanceof Array?r(a,s):this.extensionMap[o]=[s];break;case"include":this.includes.push(u(n,"value","#text","pattern"));break;case"exclude":this.excludes.push(u(n,"value","#text","pattern"));break;case"group":this.children.push(new i(n,this));break;default:console.warn("unknow nodeName:"+n.nodeName)}n=n.nextSibling}}function o(e,t){var n=e.type,i=e.encoding,o=e.contentType;if(null!=o){console.info("contentType 用于同时指定 type 和charset 属性，如此需求更推荐您采用type和encoding代替");var s=o.indexOf("charset=");if(s>0){var a=o.substring(s+8);i?a.toUpperCase()!=i.toUpperCase()&&console.info("encoding 与 contentType 不一致"+i+","+o+"; "):i=a}var r=o.replace(/\s*;.*$/,"");n&&n.toUpperCase()!=r.toUpperCase()&&console.error("type 与 contentType 不一致"+n+","+r+";type 设置将被忽略"),n=r}if(null==i&&(i=t&&t.encoding||"UTF-8"),null==n&&(n=t&&t.type),null==o)n&&(o=n+";charset="+i);else{var s=o.indexOf("charset=");0>s&&(o+=";charset="+i)}e.type=n,e.encoding=i,e.contentType=o}function s(e,t){for(var n in e)t[n]=e[n]}function a(e,t){var n={};for(var i in t)n[i]=[].concat(t[i]);for(var i in e){var o=[].concat(e[i]),s=n[i];if(s)for(var a=s.length;a--;)r(o,s[a]);n[i]=o}return n}function r(e,t){for(var n=e.length;n--;)e[n]==t&&e.splice(n,1);e.push(t)}function c(e){for(var t=e.length;t--;)e[t]=l(e[t]);return e.join("|")||null}if(i.prototype.toJSON=function(){var e=[],t=this.children.length,n={};this.initialize();for(var i=0;t>i;i++)e.push.apply(e,this.children[i].toJSON());return n.includes=this.includes,n.excludes=this.excludes,n.config=this.config,n.extensionMap=this.extensionMap,e.push(n),e},i.prototype.initialize=function(){this.initialize=Function.prototype;var e=this.parentConfig;if(e){var t={};s(e.config,t),s(this.config,t),this.config=t,this.extensionMap=a(e.extensionMap,this.extensionMap)}this.includes=c(this.includes),this.excludes=c(this.excludes),o(this,e),this.config.encoding=this.encoding,this.config.contentType=this.contentType,null!=this.layout&&(this.layout&&"/"!=this.layout.charAt()?console.error("layout 必须为绝对地址('/'开始),你的设置为："+this.layout):this.config.layout=this.layout)},"function"==typeof t){e.parseConfig=n;var l=t(13).buildURIMatcher,h=t(14).loadLiteXML,u=t(14).findXMLAttribute}}
,
function(e,r){function n(e){if("string"==typeof e)e=new l(e).getResult();else if(e instanceof n)return e;this.token=e}function t(e){null==e.callMap&&(e.callMap={},e.varMap={},a(e.token,e))}function a(e,r){var n=e[0];if(0>=n)return void(n==B&&i(r.varMap,e[1],""));var t=e[1];if(n==N)if(t[0]==B)i(r.callMap,t[1],"");else if(t[0]==M){var u=s(t,r,[]).reverse(),c=u.slice(1).join(".");""!=u[0]&&("*"!=u[0]&&i(r.varMap,u[0],c),i(r.callMap,u[0],c))}else a(t,r),i(r.callMap,"*","");else if(n==M){var u=s(e,r,[]).reverse(),c=u.slice(1).join(".");""!=u[0]&&"*"!=u[0]&&i(r.varMap,u[0],c)}else t&&a(t,r);var o=_(e[0]);o>2&&a(e[2],r)}function s(e,r,n){var t=e[1],i=e[2];return i[0]==m?n.push(i[1]):(a(i,r),n.push("*")),t[0]==B?n.push(t[1]):t[0]==m?n.push(""):t[0]==M?s(t,r,n):(a(t,r),n.push("*")),n}function i(e,r,n){var t=r in e?e[r]:e[r]=[];return t.indexOf(n)<0&&t.push(n),t}function u(e,r){var n=c(r,e);return p(n)}function c(e,r){var n=e[0];switch(n){case J:return[];case z:return{};case B:return t=e[1],(t in r?r:this)[t];case m:return t=e[1],t&&"RegExp"==t["class"]?window.eval(t.literal):t;case v:return p(c(e[1],r))&&c(e[2],r);case d:return p(c(e[1],r))||c(e[2],r);case D:return p(c(e[1],r))?c(e[2],r):o;case G:return t=p(c(e[1],r)),t==o?c(e[2],r):t}var t=c(e[1],r);if(3==_(n))var a=p(c(e[2],r));if(n==N){if("function"==typeof t)return t.apply(r,a);if(t instanceof o){var s=t[0],i=t[1],u=s[i];if(u==String.prototype.replace||u==String.prototype.match){a=a.slice(0);var f=a[0];f&&"RegExp"==f["class"]&&(a[0]=window.eval(f.source))}return u.apply(s,a)}throw new Error("not a fn!!"+t)}switch(t=p(t),n){case M:return new o(t,a);case R:return!t;case Q:return+t;case k:return-t;case P:return t+a;case j:return t-a;case U:return t*a;case E:return t/a;case A:return t%a;case S:return t>a;case g:return t>=a;case V:return t!=a;case x:return t!==a;case h:return t==a;case T:return t===a;case w:return a>t;case L:return a>=t;case y:return t in a;case I:return t.push(a),t;case C:return t[O(e)]=a,t}}function o(e,r){this[0]=e,this[1]=r}function p(e){return e instanceof o?e[0][e[1]]:e}if(n.prototype.evaluate=function(e){return u(e,this.token)},n.prototype.getVarMap=function(){return t(this),this.varMap},n.prototype.getCallMap=function(){return t(this),this.callMap},n.prototype.toString=function(e){return f(this.token,e)},n.evaluate=u,"function"==typeof r){e.Expression=n;var f=r(36).stringifyJSEL,l=r(24).ExpressionTokenizer,O=r(35).getTokenParam,_=r(35).getTokenParamIndex,P=r(35).OP_ADD,v=r(35).OP_AND,E=r(35).OP_DIV,h=r(35).OP_EQ,T=r(35).OP_EQ_STRICT,M=r(35).OP_GET,S=r(35).OP_GT,g=r(35).OP_GTEQ,y=r(35).OP_IN,N=r(35).OP_INVOKE,I=r(35).OP_JOIN,w=r(35).OP_LT,L=r(35).OP_LTEQ,A=r(35).OP_MOD,U=r(35).OP_MUL,V=r(35).OP_NE,k=r(35).OP_NEG,x=r(35).OP_NE_STRICT,R=r(35).OP_NOT,d=r(35).OP_OR,Q=r(35).OP_POS,C=r(35).OP_PUT,D=r(35).OP_QUESTION,G=r(35).OP_QUESTION_SELECT,j=r(35).OP_SUB,m=r(35).VALUE_CONSTANTS,J=r(35).VALUE_LIST,z=r(35).VALUE_MAP,B=r(35).VALUE_VAR}}
,
function(e,a){function s(e,a){this.code=e,this.params=a?a.concat():[],this.vars=[],this.calls=[],this.refs=[],this.externalRefs=[],this.fors=[],this.defs=[],this.defMap={},this.paramMap=r(this.params,{}),this.varMap={},this._forStack=[],n(this,this.code=e),delete this._forStack,this.callMap=r(this.calls,{}),this.refMap=r(this.refs,{}),this.externalRefMap=r(this.externalRefs,{})}function r(e,a){for(var s=e.length;s--;){var r=e[s];r in a?a[r]+=1:a[r]=1}return a}function i(e){this.code=e,this.index,this.lastIndex,this.ref,this.depth}function t(e,a){var r=a[2],i=r.params,t=(r.defaults,a[-1]||new s(a[1],i));t.name=r.name,t.defaults=r.defaults,e.fors=e.fors.concat(t.fors),e.defs.push(t.name),e.defMap[t.name]=t,t.defs=e.defs,t.defMap=e.defMap}function n(e,a){if(null==a)return null;for(var s=0;s<a.length;s++){var r=a[s];if(r instanceof Array){var i=r[0];switch(i){case u:case M:case d:case P:c(e,r[1]);break;case E:case v:case _:c(e,r[2])}switch(i){case x:var h=r[2]["class"];"org.xidea.lite.DefinePlugin"==h?t(e,r):"org.xidea.lite.parse.ClientPlugin"==h||("org.xidea.lite.EncodePlugin"==h||"org.xidea.lite.DatePlugin"==h||"org.xidea.lite.ModulePlugin"==h?n(e,r[1]):console.info("unknow plugin",r[2]));break;case g:case E:case v:n(e,r[1]);break;case _:f(e,r),l(e,r[3]),n(e,r[1]),o(e)}switch(i){case g:case u:l(e,r[2]),l(e,r[2])}}}}function f(e,a){var s=new i(a);s.depth=e._forStack.length,e.fors.push(s),e._forStack.push(s)}function o(e){e._forStack.pop()}function l(e,a){e.vars.push(a);var s=e.varMap;a in s?s[a]+=1:s[a]=1}function c(e,a){if(null!=a){var s=new p(a).getVarMap();for(var r in s){var i=s[r],t=i.length;if("for"==r)for(var n=0;t>n;n++){var f=i[n];""==f?h(e,"*"):"index"==f||"lastIndex"==f?h(e,f):(console.error("for 不能有index，lastIndex 之外的其他属性"),h(e,"*"))}else r in e.varMap||r in e.paramMap||e.externalRefs.push(r),e.refs.push(r)}var o=new p(a).getCallMap();for(var l in o)for(var i=o[l],t=i.length,n=0;t>n;n++)r in e.varMap||r in e.paramMap?e.calls.push("*"):r&&e.calls.push(r)}}function h(e,a){var s=e._forStack[e._forStack.length-1];if(!s)throw new Error("for 变量不能在循环外使用:for."+a);if("index"==a)s.index=!0;else if("lastIndex"==a)s.lastIndex=!0;else{if("*"!=a)throw new Error("for不支持属性:"+a);s.ref=!0}}if("function"==typeof a)var p=a(25).Expression;if("function"==typeof a){e.OptimizeScope=s;var u=a(6).VAR_TYPE,d=a(6).XA_TYPE,v=a(6).ELSE_TYPE,x=a(6).PLUGIN_TYPE,g=a(6).CAPTURE_TYPE,E=a(6).IF_TYPE,M=a(6).EL_TYPE,P=(a(6).BREAK_TYPE,a(6).XT_TYPE),_=a(6).FOR_TYPE}}
,
function(t,s){function e(t){var s=this.eval(t);return s instanceof RegExp&&(s={"class":"RegExp",literal:t+""}),s}function a(t,s){for(var e,a=0;e=t.charAt(s++);)if("["==e)a=1;else if("]"==e)a=0;else if("\\"==e)s++;else if(0==a&&"/"==e)for(;e=t.charAt(s++);)switch(e){case"g":case"i":case"m":break;default:return s-1}}function i(t){this.value=t.replace(/^\s+|\s+$/g,""),this.start=0,this.end=this.value.length,this.status=v,this.previousType=v,this.tokens=[],this.parseEL(),r(this.tokens),this.expression=n(c(o(this.tokens)))}function r(t){for(var s=t.length;s--;){var e=t[s][0];if(e==V){var a=h(t,s,-1,-1);t.splice(a+1,0,[k]),s++}else if(e==j){var i=t.length,a=h(t,s,1,i);t.splice(a,0,[p])}}}function h(t,s,e,a){for(var i=0;(s+=e)!=a;){var r=t[s][0];if(r>0){if(r==k)i+=e;else if(r==p)i-=e;else if(0==i&&d(r)<=d(V))return s;if(0>i)return s}}return e>0?a:-1}function n(t){for(var s=[],e=0;e<t.length;e++){var a=t[e],i=a[0];switch(i){case B:case $:case z:case J:s.push(a);break;default:if(3==_(i))var r=s.pop(),h=s.pop(),n=[i,h,r];else var h=s.pop(),n=[i,h];P(i)&&(n[_(i)]=a[1]),s.push(n)}}return s[0]}function o(t){for(var s=[[]],e=[],a=0;a<t.length;a++){var i=t[a];if(i[0]>0)if(0==e.length)e.push(i);else if(i[0]==k)e.push(i);else if(i[0]==p)for(;;){var r=e.pop();if(r[0]==k)break;u(s,r)}else{for(;0!=e.length&&f(i[0],e[e.length-1][0]);){var r=e.pop();u(s,r)}e.push(i)}else u(s,i)}for(;0!=e.length;){var r=e.pop();u(s,r)}return s[s.length-1]}function c(t){for(var s=0;s<t.length;s++){var e=t[s];e.length=A(e[0])}return t}function u(t,s){var e=t[t.length-1];e.push(s)}function d(t){switch(t){case k:case p:return Math.MIN_VALUE;default:return(t&I)<<4|(t&w)>>8}}function f(t,s){var e=d(s),a=d(t);return e>=a}if("function"==typeof s)var l=s(37).JSONTokenizer;var k=65534,p=65535,v=-100,T=-101,O=-102,b={getResult:function(){return this.expression},parseEL:function(){for(this.skipSpace(0);this.start<this.end;){var t=this.value.charAt(this.start);if('"'==t||"'"==t){var s=this.findString();this.addKeyOrObject(s,!1)}else if(t>="0"&&"9">=t){var e=this.findNumber();this.addKeyOrObject(e,!1)}else if(/[\w$_]/.test(t)){var a=this.findId();switch(a){case"true":this.addToken([B,!0]);break;case"false":this.addToken([B,!1]);break;case"null":this.addToken([B,null]);break;default:this.skipSpace(0),this.previousType==L?this.addToken([B,a]):this.addKeyOrObject(a,!0)}}else{var i=this.findOperator();if("."==t&&/\d/.test(this.value.charAt(this.start))){var e=this.value.substr(this.start-1).match(/^\.\d+/)[0];this.start+=e.length-1,this.addKeyOrObject(1*e,!1)}else this.parseOperator(i),null==i&&this.parseError("未知操作符:")}this.skipSpace(0)}},parseError:function(t){throw t=t+"\n@"+this.start+"\n"+this.value.substring(this.start)+"\n----\n"+this.value,console.error(t),new Error(t)},findOperator:function(){var t=this.value.charAt(this.start),s=this.start+1,e=this.value.charAt(s);switch(t){case",":case":":case"[":case"]":case"{":case"}":case"(":case")":case".":case"?":case"~":case"^":break;case"+":case"-":case"*":case"/":case"%":"="==e?this.parseError("不支持赋值操作:"):e==t&&this.parseError("不支持自增自减操作:");break;case"=":"="==e?(s++,"="==this.value.charAt(s)&&s++):this.parseError("不支持赋值操作:");break;case"!":"="==e&&(s++,"="==this.value.charAt(s)&&s++);break;case">":case"<":"="==e?s++:e==t&&this.value.charAt(s)==t&&s++;break;case"&":case"|":t==e&&s++;break;default:return null}return this.value.substring(this.start,this.start=s)},isMapMethod:function(){for(var t=this.tokens.length-1,s=0;t>=0;t--){var e=this.tokens[t],a=e[0];if(0==s){if(a==R||a==J)return!0;if(a==x)return!1}a==k?s--:a==p&&s++}return!1},parseOperator:function(t){if(1==t.length)switch(t.charAt(0)){case"(":this.status==T?(this.addToken([N]),this.skipSpace(")")?(this.addToken([B,[]]),this.start++):this.addList()):this.addToken([k]);break;case"[":this.status==T?(this.addToken([L]),this.addToken([k])):this.addList();break;case"{":this.addMap();break;case"}":case"]":case")":this.addToken([p]);break;case"+":this.addToken([this.status==T?y:m]);break;case"-":this.addToken([this.status==T?K:U]);break;case":":this.addToken([j]);break;case",":this.isMapMethod()?this.status=O:this.addToken([x]);break;case"/":var s=this.value.charAt(this.start);if("/"==s){var i=this.value.indexOf("\n",this.start),r=this.value.indexOf("\r",this.start),h=Math.min(i,r);0>h&&(h=Math.max(i,r)),h>0?this.start=h:this.start=this.end;break}if("*"==s){var h=this.value.indexOf("*/",this.start);if(!(h>0))throw new Error("未結束注釋:"+this.value+"@"+this.start);this.start=h+2;break}if(this.status!=T){var n=a(this.value,this.start);if(n>0){this.addToken([B,e(this.value.substring(this.start-1,n))]),this.start=n;break}throw new Error("异常正则:"+this.value+"@"+this.start)}default:this.addToken([S(t)])}else this.addToken([S(t)])},addToken:function(t){var s=t[0];switch(s==$&&"in"==t[1]&&(t[0]=s=M),s){case k:this.status=v;break;case B:case $:case p:this.status=T;break;default:this.status=O}this.previousType=s,this.tokens.push(t)},addKeyOrObject:function(t,s){this.skipSpace(":")&&this.isMapMethod()?(this.addToken([R,t]),this.start++):s?this.addToken([$,t]):this.addToken([B,t])},addList:function(){this.addToken([k]),this.addToken([z]),this.skipSpace("]")||this.addToken([x])},addMap:function(){this.addToken([k]),this.addToken([J])}},g=new l("");for(var E in b)g[E]=b[E];if(i.prototype=g,"function"==typeof s){t.getPriority=d,t.ExpressionTokenizer=i;var P=s(35).hasTokenParam,P=(s(35).getTokenParam,s(35).hasTokenParam),_=s(35).getTokenParamIndex,A=s(35).getTokenLength,S=s(35).findTokenType,I=s(35).BIT_PRIORITY,w=s(35).BIT_PRIORITY_SUB,y=s(35).OP_ADD,L=s(35).OP_GET,M=s(35).OP_IN,N=s(35).OP_INVOKE,x=s(35).OP_JOIN,U=(s(35).OP_NE,s(35).OP_NEG),m=s(35).OP_POS,R=s(35).OP_PUT,V=s(35).OP_QUESTION,j=s(35).OP_QUESTION_SELECT,K=s(35).OP_SUB,B=s(35).VALUE_CONSTANTS,z=s(35).VALUE_LIST,J=s(35).VALUE_MAP,$=s(35).VALUE_VAR}}
,
function(e,r){function n(e){if("string"==typeof e)e=new l(e).getResult();else if(e instanceof n)return e;this.token=e}function t(e){null==e.callMap&&(e.callMap={},e.varMap={},a(e.token,e))}function a(e,r){var n=e[0];if(0>=n)return void(n==B&&i(r.varMap,e[1],""));var t=e[1];if(n==N)if(t[0]==B)i(r.callMap,t[1],"");else if(t[0]==M){var u=s(t,r,[]).reverse(),c=u.slice(1).join(".");""!=u[0]&&("*"!=u[0]&&i(r.varMap,u[0],c),i(r.callMap,u[0],c))}else a(t,r),i(r.callMap,"*","");else if(n==M){var u=s(e,r,[]).reverse(),c=u.slice(1).join(".");""!=u[0]&&"*"!=u[0]&&i(r.varMap,u[0],c)}else t&&a(t,r);var o=_(e[0]);o>2&&a(e[2],r)}function s(e,r,n){var t=e[1],i=e[2];return i[0]==m?n.push(i[1]):(a(i,r),n.push("*")),t[0]==B?n.push(t[1]):t[0]==m?n.push(""):t[0]==M?s(t,r,n):(a(t,r),n.push("*")),n}function i(e,r,n){var t=r in e?e[r]:e[r]=[];return t.indexOf(n)<0&&t.push(n),t}function u(e,r){var n=c(r,e);return p(n)}function c(e,r){var n=e[0];switch(n){case J:return[];case z:return{};case B:return t=e[1],(t in r?r:this)[t];case m:return t=e[1],t&&"RegExp"==t["class"]?window.eval(t.literal):t;case v:return p(c(e[1],r))&&c(e[2],r);case d:return p(c(e[1],r))||c(e[2],r);case D:return p(c(e[1],r))?c(e[2],r):o;case G:return t=p(c(e[1],r)),t==o?c(e[2],r):t}var t=c(e[1],r);if(3==_(n))var a=p(c(e[2],r));if(n==N){if("function"==typeof t)return t.apply(r,a);if(t instanceof o){var s=t[0],i=t[1],u=s[i];if(u==String.prototype.replace||u==String.prototype.match){a=a.slice(0);var f=a[0];f&&"RegExp"==f["class"]&&(a[0]=window.eval(f.source))}return u.apply(s,a)}throw new Error("not a fn!!"+t)}switch(t=p(t),n){case M:return new o(t,a);case R:return!t;case Q:return+t;case k:return-t;case P:return t+a;case j:return t-a;case U:return t*a;case E:return t/a;case A:return t%a;case S:return t>a;case g:return t>=a;case V:return t!=a;case x:return t!==a;case h:return t==a;case T:return t===a;case w:return a>t;case L:return a>=t;case y:return t in a;case I:return t.push(a),t;case C:return t[O(e)]=a,t}}function o(e,r){this[0]=e,this[1]=r}function p(e){return e instanceof o?e[0][e[1]]:e}if(n.prototype.evaluate=function(e){return u(e,this.token)},n.prototype.getVarMap=function(){return t(this),this.varMap},n.prototype.getCallMap=function(){return t(this),this.callMap},n.prototype.toString=function(e){return f(this.token,e)},n.evaluate=u,"function"==typeof r){e.Expression=n;var f=r(36).stringifyJSEL,l=r(24).ExpressionTokenizer,O=r(35).getTokenParam,_=r(35).getTokenParamIndex,P=r(35).OP_ADD,v=r(35).OP_AND,E=r(35).OP_DIV,h=r(35).OP_EQ,T=r(35).OP_EQ_STRICT,M=r(35).OP_GET,S=r(35).OP_GT,g=r(35).OP_GTEQ,y=r(35).OP_IN,N=r(35).OP_INVOKE,I=r(35).OP_JOIN,w=r(35).OP_LT,L=r(35).OP_LTEQ,A=r(35).OP_MOD,U=r(35).OP_MUL,V=r(35).OP_NE,k=r(35).OP_NEG,x=r(35).OP_NE_STRICT,R=r(35).OP_NOT,d=r(35).OP_OR,Q=r(35).OP_POS,C=r(35).OP_PUT,D=r(35).OP_QUESTION,G=r(35).OP_QUESTION_SELECT,j=r(35).OP_SUB,m=r(35).VALUE_CONSTANTS,J=r(35).VALUE_LIST,z=r(35).VALUE_MAP,B=r(35).VALUE_VAR}}
,
function(t,s){function e(t){var s=this.eval(t);return s instanceof RegExp&&(s={"class":"RegExp",literal:t+""}),s}function a(t,s){for(var e,a=0;e=t.charAt(s++);)if("["==e)a=1;else if("]"==e)a=0;else if("\\"==e)s++;else if(0==a&&"/"==e)for(;e=t.charAt(s++);)switch(e){case"g":case"i":case"m":break;default:return s-1}}function i(t){this.value=t.replace(/^\s+|\s+$/g,""),this.start=0,this.end=this.value.length,this.status=v,this.previousType=v,this.tokens=[],this.parseEL(),r(this.tokens),this.expression=n(c(o(this.tokens)))}function r(t){for(var s=t.length;s--;){var e=t[s][0];if(e==V){var a=h(t,s,-1,-1);t.splice(a+1,0,[k]),s++}else if(e==j){var i=t.length,a=h(t,s,1,i);t.splice(a,0,[p])}}}function h(t,s,e,a){for(var i=0;(s+=e)!=a;){var r=t[s][0];if(r>0){if(r==k)i+=e;else if(r==p)i-=e;else if(0==i&&d(r)<=d(V))return s;if(0>i)return s}}return e>0?a:-1}function n(t){for(var s=[],e=0;e<t.length;e++){var a=t[e],i=a[0];switch(i){case B:case $:case z:case J:s.push(a);break;default:if(3==_(i))var r=s.pop(),h=s.pop(),n=[i,h,r];else var h=s.pop(),n=[i,h];P(i)&&(n[_(i)]=a[1]),s.push(n)}}return s[0]}function o(t){for(var s=[[]],e=[],a=0;a<t.length;a++){var i=t[a];if(i[0]>0)if(0==e.length)e.push(i);else if(i[0]==k)e.push(i);else if(i[0]==p)for(;;){var r=e.pop();if(r[0]==k)break;u(s,r)}else{for(;0!=e.length&&f(i[0],e[e.length-1][0]);){var r=e.pop();u(s,r)}e.push(i)}else u(s,i)}for(;0!=e.length;){var r=e.pop();u(s,r)}return s[s.length-1]}function c(t){for(var s=0;s<t.length;s++){var e=t[s];e.length=A(e[0])}return t}function u(t,s){var e=t[t.length-1];e.push(s)}function d(t){switch(t){case k:case p:return Math.MIN_VALUE;default:return(t&I)<<4|(t&w)>>8}}function f(t,s){var e=d(s),a=d(t);return e>=a}if("function"==typeof s)var l=s(37).JSONTokenizer;var k=65534,p=65535,v=-100,T=-101,O=-102,b={getResult:function(){return this.expression},parseEL:function(){for(this.skipSpace(0);this.start<this.end;){var t=this.value.charAt(this.start);if('"'==t||"'"==t){var s=this.findString();this.addKeyOrObject(s,!1)}else if(t>="0"&&"9">=t){var e=this.findNumber();this.addKeyOrObject(e,!1)}else if(/[\w$_]/.test(t)){var a=this.findId();switch(a){case"true":this.addToken([B,!0]);break;case"false":this.addToken([B,!1]);break;case"null":this.addToken([B,null]);break;default:this.skipSpace(0),this.previousType==L?this.addToken([B,a]):this.addKeyOrObject(a,!0)}}else{var i=this.findOperator();if("."==t&&/\d/.test(this.value.charAt(this.start))){var e=this.value.substr(this.start-1).match(/^\.\d+/)[0];this.start+=e.length-1,this.addKeyOrObject(1*e,!1)}else this.parseOperator(i),null==i&&this.parseError("未知操作符:")}this.skipSpace(0)}},parseError:function(t){throw t=t+"\n@"+this.start+"\n"+this.value.substring(this.start)+"\n----\n"+this.value,console.error(t),new Error(t)},findOperator:function(){var t=this.value.charAt(this.start),s=this.start+1,e=this.value.charAt(s);switch(t){case",":case":":case"[":case"]":case"{":case"}":case"(":case")":case".":case"?":case"~":case"^":break;case"+":case"-":case"*":case"/":case"%":"="==e?this.parseError("不支持赋值操作:"):e==t&&this.parseError("不支持自增自减操作:");break;case"=":"="==e?(s++,"="==this.value.charAt(s)&&s++):this.parseError("不支持赋值操作:");break;case"!":"="==e&&(s++,"="==this.value.charAt(s)&&s++);break;case">":case"<":"="==e?s++:e==t&&this.value.charAt(s)==t&&s++;break;case"&":case"|":t==e&&s++;break;default:return null}return this.value.substring(this.start,this.start=s)},isMapMethod:function(){for(var t=this.tokens.length-1,s=0;t>=0;t--){var e=this.tokens[t],a=e[0];if(0==s){if(a==R||a==J)return!0;if(a==x)return!1}a==k?s--:a==p&&s++}return!1},parseOperator:function(t){if(1==t.length)switch(t.charAt(0)){case"(":this.status==T?(this.addToken([N]),this.skipSpace(")")?(this.addToken([B,[]]),this.start++):this.addList()):this.addToken([k]);break;case"[":this.status==T?(this.addToken([L]),this.addToken([k])):this.addList();break;case"{":this.addMap();break;case"}":case"]":case")":this.addToken([p]);break;case"+":this.addToken([this.status==T?y:m]);break;case"-":this.addToken([this.status==T?K:U]);break;case":":this.addToken([j]);break;case",":this.isMapMethod()?this.status=O:this.addToken([x]);break;case"/":var s=this.value.charAt(this.start);if("/"==s){var i=this.value.indexOf("\n",this.start),r=this.value.indexOf("\r",this.start),h=Math.min(i,r);0>h&&(h=Math.max(i,r)),h>0?this.start=h:this.start=this.end;break}if("*"==s){var h=this.value.indexOf("*/",this.start);if(!(h>0))throw new Error("未結束注釋:"+this.value+"@"+this.start);this.start=h+2;break}if(this.status!=T){var n=a(this.value,this.start);if(n>0){this.addToken([B,e(this.value.substring(this.start-1,n))]),this.start=n;break}throw new Error("异常正则:"+this.value+"@"+this.start)}default:this.addToken([S(t)])}else this.addToken([S(t)])},addToken:function(t){var s=t[0];switch(s==$&&"in"==t[1]&&(t[0]=s=M),s){case k:this.status=v;break;case B:case $:case p:this.status=T;break;default:this.status=O}this.previousType=s,this.tokens.push(t)},addKeyOrObject:function(t,s){this.skipSpace(":")&&this.isMapMethod()?(this.addToken([R,t]),this.start++):s?this.addToken([$,t]):this.addToken([B,t])},addList:function(){this.addToken([k]),this.addToken([z]),this.skipSpace("]")||this.addToken([x])},addMap:function(){this.addToken([k]),this.addToken([J])}},g=new l("");for(var E in b)g[E]=b[E];if(i.prototype=g,"function"==typeof s){t.getPriority=d,t.ExpressionTokenizer=i;var P=s(35).hasTokenParam,P=(s(35).getTokenParam,s(35).hasTokenParam),_=s(35).getTokenParamIndex,A=s(35).getTokenLength,S=s(35).findTokenType,I=s(35).BIT_PRIORITY,w=s(35).BIT_PRIORITY_SUB,y=s(35).OP_ADD,L=s(35).OP_GET,M=s(35).OP_IN,N=s(35).OP_INVOKE,x=s(35).OP_JOIN,U=(s(35).OP_NE,s(35).OP_NEG),m=s(35).OP_POS,R=s(35).OP_PUT,V=s(35).OP_QUESTION,j=s(35).OP_QUESTION_SELECT,K=s(35).OP_SUB,B=s(35).VALUE_CONSTANTS,z=s(35).VALUE_LIST,J=s(35).VALUE_MAP,$=s(35).VALUE_VAR}}
,
function(r,n){function e(r,n){var e=[],i=[n,r,e];if(c(n,function(r,n){var t=r[n],a=t[2],o=a["class"];try{var s=t[1],l=new d[o](a,s,i);e.push([l,t])}catch(f){console.warn("ParsePlugin initialize failed:"+a,f)}return n}),e.length){for(var t=0,a=e.length;a>t;t++)e[t][0].before();c(n,function(r,n){for(var i=r[n],t=0,a=e.length;a>t;t++)if(e[t][1]==i){var o=e[t][0];break}return null!=o&&o.optimize(),n},null),c(n,function(r,n){var e=r[n],i=e[2],t=i["class"];if(t in d){var a=e[1],o=[n,1].concat(a);r.splice.apply(r,o),n--,n+=a.length}return n})}var o=[];for(var s in r)o.push(r[s]);return o.concat(n)}function i(r,n){for(var e in n)e in r||delete n[e];for(var i=n;;){var t={};for(var a in i){var o=r[a];for(var s in o)!(s in r)||s in n||s in t||(t[s]=1)}var l=!1;for(var a in t)l=!0,n[a]=1;if(!l)return;i=t}}function t(r,n,e){this.name=r.name,this.params=r.params,this.defaults=r.defaults,this.children=n,this.context=e,this.inc=v++}function a(r){var n=r[-1];return n||(n=new g(r[1],r[2].params),r[-1]=n),n}function o(r,n){for(var e in r)n[e]=r[e]}function s(r,n){for(var e in r)delete n[e]}function l(r){var n=a(r),e={};return o(n.callMap,e),o(n.externalRefMap,e),s(n.varMap,e),s(n.paramMap,e),delete e["*"],e}function f(r,n,e){var a=[],o=[],s={},f=[];c(r,function(r,n,i){for(var u=r[n],c=e.length;c--;){var p=e[c];if(p[1]==u&&p[0]instanceof t){var h=e[c][0];a.push(i),f.push(h),o.push(u),h.name&&(s[h.name]=l(e[c][1]));break}}return n},[]);var u={};for(var p in s)u[p]=s[p];for(var p in n)p in u||(u[p]=l(n[p]));for(var h=0,v=a.length;v>h;h++){var d=f[h],g=a[h],m=l(o[h]);i(u,m);for(var p in m)p in s&&delete m[p];for(var P=!0,E=0;h>E;E++)if(0==g.indexOf(a[E])){var y=f[E].optimizedCall;P=!1;for(var p in y)delete m[p]}d.first=P,d.optimizedCall=m}}function u(r,n,e){this.id=r.id,this.context=e,this.children=n}function c(r,n,e){for(var i=0;i<r.length;i++){var t=r[i];if(t instanceof Array){var a=t,o=a[0];switch(o){case m:var s=a[2],l=s["class"];if(d[l]){var f=n(r,i,e&&String.fromCharCode.apply(null,e));if(-1==f)return!0;i=f}case P:case T:case y:case _:try{if(e&&e.push(o,i+32),c(a[1],n,e))return!0}finally{e&&(e.pop(),e.pop())}}}}return!1}function p(r){for(var n,e=[],i=0,t=0;i<r.length;i++){var a=r[i];"string"==typeof a?null==n?n=a:n+=a:(n&&(e[t++]=n),n=null,e[t++]=a)}return n&&(e[t]=n),e}function h(r,n){var e=[],i=[];e.push(i);try{for(var t=0;t<r.length;t++){var a=r[t];if("string"==typeof a)i.push(a);else if(0==a.length){var o=e.pop();i=e[e.length-1];var s=i.pop();if(s[1]=o,s[0]==m){var l=s[2];if("org.xidea.lite.DefinePlugin"==l["class"]){var f=l.name;f in n&&JSON.stringify(s)!=JSON.stringify(n[f])&&console.warn("def "+f+" is found before"),n[f]=s}else i.push(s)}else i.push(s)}else{var u=a[0],c=[];switch(c.push(a[0]),i.push(c),u){case P:case T:case y:case m:case _:c.push(null),e.push(i=[])}for(var p=1;p<a.length;p++)c.push(a[p])}}}catch(h){console.error("中间代码异常：",r)}return i}var v=1;t.prototype={before:function(){},optimize:function(){null==this.optimizedCall&&f.apply(this,this.context);var r=this.context[1],n=[];for(var e in this.optimizedCall)r[e]?n.push(r[e]):console.error("Defined function not found:"+e);var i=new E,n=i.translate(n.concat(this.children),{name:this.name,params:this.params,defaults:this.defaults});this.children.length=0,this.children.push(n)}},u.prototype={before:function(){var r=[],n=this.id;for(c(this.context[0],function(e,i,t){var a=e[i],o=a[2];return n==o.targetId&&r.push(e,i),i});r.length;){var e=r.pop(),i=r.pop(),t=i.splice(e,1);this.children.push(t[0])}},optimize:function(){}};var d={"org.xidea.lite.parse.ClientPlugin":t,"org.xidea.lite.parse.ResourcePlugin":u};if("function"==typeof n){r.doOptimize=e,r.optimizeResult=p,r.buildTreeResult=h,r.PLUGIN_TYPE_MAP=d;var g=n(23).OptimizeScope,m=(n(6).PLUGIN_DEFINE,n(6).PLUGIN_TYPE),P=n(6).CAPTURE_TYPE,E=(n(6).VAR_TYPE,n(9).JSTranslator),y=(n(6).PLUGIN_DEFINE,n(6).VAR_TYPE,n(6).ELSE_TYPE),m=n(6).PLUGIN_TYPE,P=n(6).CAPTURE_TYPE,T=n(6).IF_TYPE,_=n(6).FOR_TYPE}}
,
function(t,e){function n(t){this.options=t||{locator:{}}}function r(t,e,n){function r(e){var r=t[e];!r&&a&&(r=2==t.length?function(n){t(e,n)}:t),i[e]=r&&function(t){r("[xmldom "+e+"]	"+t+c(n))}||function(){}}if(!t){if(e instanceof o)return e;t=e}var i={},a=t instanceof Function;return n=n||{},r("warning"),r("error"),r("fatalError"),i}function o(){this.cdata=!1}function i(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function c(t){return t?"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]":void 0}function a(t,e,n){return"string"==typeof t?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}function l(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}n.prototype.parseFromString=function(t,e){var n=this.options,i=new s,c=n.domBuilder||new o,a=n.errorHandler,l=n.locator,u=n.xmlns||{},m={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return l&&c.setDocumentLocator(l),i.errorHandler=r(a,c,l),i.domBuilder=n.domBuilder||c,/\/x?html?$/.test(e)&&(m.nbsp=" ",m.copy="©",u[""]="http://www.w3.org/1999/xhtml"),u.xml=u.xml||"http://www.w3.org/XML/1998/namespace",t?i.parse(t,u,m):i.errorHandler.error("invalid doc source"),c.doc},o.prototype={startDocument:function(){this.doc=(new u).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,r){var o=this.doc,c=o.createElementNS(t,n||e),a=r.length;l(this,c),this.currentElement=c,this.locator&&i(this.locator,c);for(var s=0;a>s;s++){var t=r.getURI(s),u=r.getValue(s),n=r.getQName(s),m=o.createAttributeNS(t,n);this.locator&&i(r.getLocator(s),m),m.value=m.nodeValue=u,c.setAttributeNode(m)}},endElement:function(t,e,n){var r=this.currentElement;r.tagName;this.currentElement=r.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&i(this.locator,n),l(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=a.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(t);else var r=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(t)&&this.doc.appendChild(r),this.locator&&i(this.locator,r)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=a.apply(this,arguments);var r=this.doc.createComment(t);this.locator&&i(this.locator,r),l(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var o=r.createDocumentType(t,e,n);this.locator&&i(this.locator,o),l(this,o)}},warning:function(t){console.warn("[xmldom warning]	"+t,c(this.locator))},error:function(t){console.error("[xmldom error]	"+t,c(this.locator))},fatalError:function(t){throw console.error("[xmldom fatalError]	"+t,c(this.locator)),t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){o.prototype[t]=function(){return null}});var s=e(38).XMLReader,u=t.DOMImplementation=e(39).DOMImplementation;t.XMLSerializer=e(39).XMLSerializer,t.DOMParser=n}
,
function(e,t,n){!function(t,r){"object"==typeof n&&"object"==typeof e?(n.exports=function(e){e.console=console,e.parseInt=parseInt,e.Function=Function,e.Boolean=Boolean,e.Number=Number,e.RegExp=RegExp,e.String=String,e.Object=Object,e.Array=Array,e.Error=Error,e.Date=Date,e.Math=Math;var t=e.Object();return r(e,t),t},n.factory=r):(r(t,(t.NW||(t.NW=t.Object()))&&(t.NW.Dom||(t.NW.Dom=t.Object()))),t.NW.Dom.factory=r)}(this,function(e,t){var n,r,a,i,s,l,c,o,u,f,d,p,m,h="nwmatcher-1.3.6",g=t,b=e.document,y=b.documentElement,E=e.Array.prototype.slice,v=e.Object.prototype.toString,w="[#.:]?",x="([~*^$|!]?={1})",N="[\\x20\\t\\n\\r\\f]*",A="[\\x20]|[>+~][^>+~]",C="(?:[-+]?\\d*n)?[-+]?\\d*",S='"[^"\\\\]*(?:\\\\.[^"\\\\]*)*"'+"|'[^'\\\\]*(?:\\\\.[^'\\\\]*)*'",k="\\([^()]+\\)|\\(.*\\)",O="\\{[^{}]+\\}|\\{.*\\}",I="\\[[^[\\]]*\\]|\\[.*\\]",T="\\[.*\\]|\\(.*\\)|\\{.*\\}",j="(?:[-\\w]|[^\\x00-\\xa0]|\\\\.)",L="(?:-?[_a-zA-Z]{1}[-\\w]*|[^\\x00-\\xa0]+|\\\\.+)+",R="("+S+"|"+L+")",B=N+"("+j+"*:?"+j+"+)"+N+"(?:"+x+N+R+")?"+N,U=B.replace(R,"([\\x22\\x27]*)((?:\\\\?.)*?)\\3"),$="((?:"+C+"|"+S+"|"+w+"|"+j+"+|\\["+B+"\\]|\\(.+\\)|"+N+"|,)+)",D=".+",_="(?=[\\x20\\t\\n\\r\\f]*[^>+~(){}<>])(\\*|(?:"+w+L+")|"+A+"|\\["+B+"\\]|\\("+$+"\\)|\\{"+D+"\\}|(?:,|"+N+"))+",H=_.replace($,".*"),M=new e.RegExp(_,"g"),z=new e.RegExp("^"+N+"|"+N+"$","g"),P=new e.RegExp("^((?!:not)("+w+"|"+L+"|\\([^()]*\\))+|\\["+B+"\\])$"),F=new e.RegExp("([^,\\\\()[\\]]+|"+I+"|"+k+"|"+O+"|\\\\.)+","g"),G=new e.RegExp("(\\["+B+"\\]|\\("+$+"\\)|\\\\.|[^\\x20\\t\\r\\n\\f>+~])+","g"),q=/[\x20\t\n\r\f]+/g,Q=new e.RegExp(L+"|^$"),V=function(){var e=/ \w+\(/,t=String(Object.prototype.toString).replace(e," (");return function(n){return n&&"string"!=typeof n&&t==String(n).replace(e," (")}}(),W=V(b.hasFocus),Z=V(b.querySelector),X=V(b.getElementById),Y=V(y.getElementsByTagName),J=V(y.getElementsByClassName),K=V(y.getAttribute),ee=V(y.hasAttribute),te=function(){var e=!1;try{e=!!E.call(b.childNodes,0)[0]}catch(t){}return e}(),ne="nextElementSibling"in y&&"previousElementSibling"in y,re=X?function(){var t=!0,n="x"+e.String(+new e.Date),r=b.createElementNS?"a":'<a name="'+n+'">';return(r=b.createElement(r)).name=n,y.insertBefore(r,y.firstChild),t=!!b.getElementById(n),y.removeChild(r),t}():!0,ae=Y?function(){var e=b.createElement("div");return e.appendChild(b.createComment("")),!!e.getElementsByTagName("*")[0]}():!0,ie=J?function(){var e,t=b.createElement("div"),n="台北";return t.appendChild(b.createElement("span")).setAttribute("class",n+"abc "+n),t.appendChild(b.createElement("span")).setAttribute("class","x"),e=!t.getElementsByClassName(n)[0],t.lastChild.className=n,e||2!=t.getElementsByClassName(n).length}():!0,se=K?function(){var e=b.createElement("input");return e.setAttribute("value",5),5!=e.defaultValue}():!0,le=ee?function(){var e=b.createElement("option");return e.setAttribute("selected","selected"),!e.hasAttribute("selected")}():!0,ce=function(){var e=b.createElement("select");return e.appendChild(b.createElement("option")),!e.firstChild.selected}(),oe=/opera/i.test(v.call(e.opera)),ue=oe&&e.parseFloat(e.opera.version())>=11,fe=Z?function(){var t,n,r=new e.Array,a=function(e,n,r){var a=!1;t.appendChild(n);try{a=t.querySelectorAll(e).length==r}catch(i){}for(;t.firstChild;)t.removeChild(t.firstChild);return a};return t=b.implementation&&b.implementation.createDocument?b.implementation.createDocument("","",null).appendChild(b.createElement("html")).appendChild(b.createElement("head")).parentNode.appendChild(b.createElement("body")):b.createElement("div"),n=b.createElement("div"),n.innerHTML='<p id="a"></p><br>',a("p#a+*",n,0)&&r.push("\\w+#\\w+.*[+~]"),n=b.createElement("p"),n.setAttribute("class",""),a('[class^=""]',n,1)&&r.push("[*^$]=[\\x20\\t\\n\\r\\f]*(?:\"\"|'')"),n=b.createElement("option"),n.setAttribute("selected","selected"),a(":checked",n,0)&&r.push(":checked"),n=b.createElement("input"),n.setAttribute("type","hidden"),a(":enabled",n,0)&&r.push(":enabled",":disabled"),n=b.createElement("link"),n.setAttribute("href","x"),a(":link",n,1)||r.push(":link"),le&&r.push("\\[[\\x20\\t\\n\\r\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),r.length?new e.RegExp(r.join("|")):{test:function(){return!1}}}():!0,de=new e.RegExp("(?:\\[[\\x20\\t\\n\\r\\f]*class\\b|\\."+L+")"),pe=new e.RegExp(ae&&ie||oe?"^#?-?[_a-zA-Z]{1}"+j+"*$":ae?"^[.#]?-?[_a-zA-Z]{1}"+j+"*$":ie?"^(?:\\*|#-?[_a-zA-Z]{1}"+j+"*)$":"^(?:\\*|[.#]?-?[_a-zA-Z]{1}"+j+"*)$"),me=new e.Object({a:1,A:1,area:1,AREA:1,link:1,LINK:1}),he=new e.Object({checked:1,disabled:1,ismap:1,multiple:1,readonly:1,selected:1}),ge=new e.Object({value:"defaultValue",checked:"defaultChecked",selected:"defaultSelected"}),be=new e.Object({action:2,cite:2,codebase:2,data:2,href:2,longdesc:2,lowsrc:2,src:2,usemap:2}),ye=new e.Object({"class":0,accept:1,"accept-charset":1,align:1,alink:1,axis:1,bgcolor:1,charset:1,checked:1,clear:1,codetype:1,color:1,compact:1,declare:1,defer:1,dir:1,direction:1,disabled:1,enctype:1,face:1,frame:1,hreflang:1,"http-equiv":1,lang:1,language:1,link:1,media:1,method:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,rel:1,rev:1,rules:1,scope:1,scrolling:1,selected:1,shape:1,target:1,text:1,type:1,valign:1,valuetype:1,vlink:1}),Ee=new e.Object({accept:1,"accept-charset":1,alink:1,axis:1,bgcolor:1,charset:1,codetype:1,color:1,enctype:1,face:1,hreflang:1,"http-equiv":1,lang:1,language:1,link:1,media:1,rel:1,rev:1,target:1,text:1,type:1,vlink:1}),ve=new e.Object({}),we=new e.Object({"=":"n=='%m'","^=":"n.indexOf('%m')==0","*=":"n.indexOf('%m')>-1","|=":"(n+'-').indexOf('%m-')==0","~=":"(' '+n+' ').indexOf(' %m ')>-1","$=":"n.substr(n.length-'%m'.length)=='%m'"}),xe=new e.Object({ID:new e.RegExp("^\\*?#("+j+"+)|"+T),TAG:new e.RegExp("^("+j+"+)|"+T),CLASS:new e.RegExp("^\\*?\\.("+j+"+$)|"+T)}),Ne=new e.Object({spseudos:/^\:(root|empty|(?:first|last|only)(?:-child|-of-type)|nth(?:-last)?(?:-child|-of-type)\(\s*(even|odd|(?:[-+]{0,1}\d*n\s*)?[-+]{0,1}\s*\d*)\s*\))?(.*)/i,dpseudos:/^\:(link|visited|target|active|focus|hover|checked|disabled|enabled|selected|lang\(([-\w]{2,})\)|not\(([^()]*|.*)\))?(.*)/i,attribute:new e.RegExp("^\\["+U+"\\](.*)"),children:/^[\x20\t\n\r\f]*\>[\x20\t\n\r\f]*(.*)/,adjacent:/^[\x20\t\n\r\f]*\+[\x20\t\n\r\f]*(.*)/,relative:/^[\x20\t\n\r\f]*\~[\x20\t\n\r\f]*(.*)/,ancestor:/^[\x20\t\n\r\f]+(.*)/,universal:/^\*(.*)/,id:new e.RegExp("^#("+j+"+)(.*)"),tagName:new e.RegExp("^("+j+"+)(.*)"),className:new e.RegExp("^\\.("+j+"+)(.*)")}),Ae=function(t,n){var r,a=-1;if(!t.length&&e.Array.slice)return e.Array.slice(n);for(;r=n[++a];)t[t.length]=r;return t},Ce=function(e,t,n){for(var r,a=-1;(r=t[++a])&&!1!==n(e[e.length]=r););return e},Se=function(e,t){var n,r=b;i=e,b=e.ownerDocument||e,(t||r!==b)&&(y=b.documentElement,m="DiV"==b.createElement("DiV").nodeName,p=m||"string"!=typeof b.compatMode?function(){var e=b.createElement("div").style;return e&&(e.width=1)&&"1px"==e.width}():b.compatMode.indexOf("CSS")<0,n=b.createElement("div"),n.appendChild(b.createElement("p")).setAttribute("class","xXx"),n.appendChild(b.createElement("p")).setAttribute("class","xxx"),f=!m&&J&&p&&(2!=n.getElementsByClassName("xxx").length||2!=n.getElementsByClassName("xXx").length),d=!m&&Z&&p&&(2!=n.querySelectorAll("[class~=xxx]").length||2!=n.querySelectorAll(".xXx").length),Ve.CACHING&&g.setCache(!0,b))},ke=function(e){return e.replace(/\\([0-9a-fA-F]{1,6}\x20?|.)|([\x22\x27])/g,function(e,t,n){var r,a,i,s,l;return n?"\\"+n:/^[0-9a-fA-F]/.test(t)?(r=parseInt(t,16),0>r||r>1114111?"\\ufffd":65535>=r?(s="000"+r.toString(16),"\\u"+s.substr(s.length-4)):(r-=65536,i=(r>>10)+55296,l=r%1024+56320,a="000"+i.toString(16),s="000"+l.toString(16),"\\u"+a.substr(a.length-4)+"\\u"+s.substr(s.length-4))):/^[\\\x22\x27]/.test(t)?e:t})},Oe=function(e,t){for(var n=-1,r=null;(r=t[++n])&&r.getAttribute("id")!=e;);return r},Ie=re?function(e,t){var n=null;return e=e.replace(/\\([^\\]{1})/g,"$1"),m||9!=t.nodeType?Oe(e,t.getElementsByTagName("*")):(n=t.getElementById(e))&&n.name==e&&t.getElementsByName?Oe(e,t.getElementsByName(e)):n}:function(e,t){return e=e.replace(/\\([^\\]{1})/g,"$1"),t.getElementById&&t.getElementById(e)||Oe(e,t.getElementsByTagName("*"))},Te=function(e,t){return t||(t=b),i!==t&&Se(t),Ie(e,t)},je=function(t,n){var r="*"==t,a=n,i=new e.Array,s=a.firstChild;for(r||(t=t.toUpperCase());a=s;)if(a.tagName>"@"&&(r||a.tagName.toUpperCase()==t)&&(i[i.length]=a),!(s=a.firstChild||a.nextSibling))for(;!s&&(a=a.parentNode)&&a!==n;)s=a.nextSibling;return i},Le=!ae&&te?function(e,t){return m||11==t.nodeType?je(e,t):E.call(t.getElementsByTagName(e),0)}:function(t,n){var r,a=-1,i=a,s=new e.Array,l=n.getElementsByTagName(t);if("*"==t)for(;r=l[++a];)r.nodeName>"@"&&(s[++i]=r);else for(;r=l[++a];)s[a]=r;return s},Re=function(e,t){return t||(t=b),i!==t&&Se(t),Le(e,t)},Be=function(e,t){return et('[name="'+e.replace(/\\([^\\]{1})/g,"$1")+'"]',t)},Ue=function(t,n){var r,a,i=-1,s=i,l=new e.Array,c=Le("*",n);for(t=" "+(p?t.toLowerCase():t).replace(/\\([^\\]{1})/g,"$1")+" ";r=c[++i];)a=m?r.getAttribute("class"):r.className,a&&a.length&&(" "+(p?a.toLowerCase():a).replace(q," ")+" ").indexOf(t)>-1&&(l[++s]=r);return l},$e=function(e,t){return ie||f||m||!t.getElementsByClassName?Ue(e,t):E.call(t.getElementsByClassName(e.replace(/\\([^\\]{1})/g,"$1")),0)},De=function(e,t){return t||(t=b),i!==t&&Se(t),$e(e,t)},_e="compareDocumentPosition"in y?function(e,t){return 16==(16&e.compareDocumentPosition(t))}:"contains"in y?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},He=se?function(e,t){return t=t.toLowerCase(),"object"==typeof e[t]?e.attributes[t]&&e.attributes[t].value:"type"==t?e.getAttribute(t):be[t]?e.getAttribute(t,2):he[t]?e.getAttribute(t)?t:"false":(e=e.getAttributeNode(t))&&e.value}:function(e,t){return e.getAttribute(t)},Me=le?function(e,t){var n=e.getAttributeNode(t=t.toLowerCase());return ge[t]&&"value"!=t?e[ge[t]]:n&&n.specified}:function(e,t){return m?!!e.getAttribute(t):e.hasAttribute(t)},ze=function(e){for(e=e.firstChild;e;){if(3==e.nodeType||e.nodeName>"@")return!1;e=e.nextSibling}return!0},Pe=function(e){return Me(e,"href")&&me[e.nodeName]},Fe=function(e,t){for(var n=1,r=t?"nextSibling":"previousSibling";e=e[r];)e.nodeName>"@"&&++n;return n},Ge=function(e,t){for(var n=1,r=t?"nextSibling":"previousSibling",a=e.nodeName;e=e[r];)e.nodeName==a&&++n;return n},qe=function(t){if("string"==typeof t)return Ve[t]||Ve;if("object"!=typeof t)return!1;for(var n in t)Ve[n]=!!t[n],"SIMPLENOT"==n?(nt=new e.Object,rt=new e.Object,at=new e.Object,it=new e.Object,Ve[n]||(Ve.USE_QSAPI=!1)):"USE_QSAPI"==n&&(Ve[n]=!!t[n]&&Z);return M=new e.RegExp(Ve.SIMPLENOT?_:H,"g"),!0},Qe=function(t){if(Ve.VERBOSITY)throw new e.Error(t);e.console&&e.console.log&&e.console.log(t)},Ve=new e.Object({CACHING:!1,SHORTCUTS:!1,SIMPLENOT:!0,UNIQUE_ID:!0,USE_HTML5:!0,USE_QSAPI:Z,VERBOSITY:!0}),We="r[r.length]=c[k];if(f&&false===f(c[k]))break main;else continue main;",Ze=function(t,n,r){var a="string"==typeof t?t.match(F):t;if("string"==typeof n||(n=""),1==a.length)n+=Ye(a[0],r?We:"f&&f(k);return true;",r);else for(var i,s=-1,l=new e.Object;i=a[++s];)i=i.replace(z,""),!l[i]&&(l[i]=!0)&&(n+=Ye(i,r?We:"f&&f(k);return true;",r));return r?new e.Function("c,s,r,d,h,g,f,v","var N,n,x=0,k=-1,e;main:while((e=c[++k])){"+n+"}return r;"):new e.Function("e,s,r,d,h,g,f,v","var N,n,x=0,k=e;"+n+"return false;")},Xe="var z=v[@]||(v[@]=[]),l=z.length-1;while(l>=0&&z[l]!==e)--l;if(l!==-1){break;}z[z.length]=e;",Ye=function(t,n,r){for(var a,i,s,l,c,o,u,f,d,h=0;t;){if(h++,c=t.match(Ne.universal))l="";else if(c=t.match(Ne.id))n="if("+(m?'s.getAttribute(e,"id")':'(e.submit?s.getAttribute(e,"id"):e.id)')+'=="'+c[1]+'"){'+n+"}";else if(c=t.match(Ne.tagName))n="if(e.nodeName"+(m?'=="'+c[1]+'"':'.toUpperCase()=="'+c[1].toUpperCase()+'"')+"){"+n+"}";else if(c=t.match(Ne.className))n="if((n="+(m?'s.getAttribute(e,"class")':"e.className")+')&&n.length&&(" "+'+(p?"n.toLowerCase()":"n")+".replace("+q+'," ")+" ").indexOf(" '+(p?c[1].toLowerCase():c[1])+' ")>-1){'+n+"}";else if(c=t.match(Ne.attribute)){if(l=c[1].split(":"),l=2==l.length?l[1]:l[0]+"",c[2]&&!we[c[2]])return Qe('Unsupported operator in attribute selectors "'+t+'"'),"";f="false",c[2]&&c[4]&&(f=we[c[2]])?(c[4]=ke(c[4]),ye["class"]=p?1:0,d=(m?Ee:ye)[l.toLowerCase()],f=f.replace(/\%m/g,d?c[4].toLowerCase():c[4])):("!="==c[2]||"="==c[2])&&(f="n"+c[2]+'=""'),n='if(n=s.hasAttribute(e,"'+c[1]+'")){'+(c[2]?'n=s.getAttribute(e,"'+c[1]+'")':"")+(d&&c[2]?".toLowerCase();":";")+"if("+(c[2]?f:"n")+"){"+n+"}}"}else if(c=t.match(Ne.adjacent))n=(r?"":Xe.replace(/@/g,h))+n,n=ne?"var N"+h+"=e;while(e&&(e=e.previousElementSibling)){"+n+"break;}e=N"+h+";":"var N"+h+'=e;while(e&&(e=e.previousSibling)){if(e.nodeName>"@"){'+n+"break;}}e=N"+h+";";else if(c=t.match(Ne.relative))n=(r?"":Xe.replace(/@/g,h))+n,n=ne?"var N"+h+"=e;e=e.parentNode.firstElementChild;while(e&&e!==N"+h+"){"+n+"e=e.nextElementSibling;}e=N"+h+";":"var N"+h+"=e;e=e.parentNode.firstChild;while(e&&e!==N"+h+'){if(e.nodeName>"@"){'+n+"}e=e.nextSibling;}e=N"+h+";";else if(c=t.match(Ne.children))n=(r?"":Xe.replace(/@/g,h))+n,n="var N"+h+"=e;while(e&&e!==h&&e!==g&&(e=e.parentNode)){"+n+"break;}e=N"+h+";";else if(c=t.match(Ne.ancestor))n=(r?"":Xe.replace(/@/g,h))+n,n="var N"+h+"=e;while(e&&e!==h&&e!==g&&(e=e.parentNode)){"+n+"}e=N"+h+";";else if((c=t.match(Ne.spseudos))&&c[1])switch(c[1]){case"root":n=c[3]?"if(e===h||s.contains(h,e)){"+n+"}":"if(e===h){"+n+"}";break;case"empty":n="if(s.isEmpty(e)){"+n+"}";break;default:if(c[1]&&c[2]){if("n"==c[2]){n="if(e!==h){"+n+"}";break}"even"==c[2]?(a=2,i=0):"odd"==c[2]?(a=2,i=1):(i=(s=c[2].match(/(-?\d+)$/))?e.parseInt(s[1],10):0,a=(s=c[2].match(/(-?\d*)n/i))?e.parseInt(s[1],10):0,s&&"-"==s[1]&&(a=-1)),f=a>1?/last/i.test(c[1])?"(n-("+i+"))%"+a+"==0":"n>="+i+"&&(n-("+i+"))%"+a+"==0":-1>a?/last/i.test(c[1])?"(n-("+i+"))%"+a+"==0":"n<="+i+"&&(n-("+i+"))%"+a+"==0":0===a?"n=="+i:-1==a?"n<="+i:"n>="+i,n="if(e!==h){n=s["+(/-of-type/i.test(c[1])?'"nthOfType"':'"nthElement"')+"](e,"+(/last/i.test(c[1])?"true":"false")+");if("+f+"){"+n+"}}"}else a=/first/i.test(c[1])?"previous":"next",s=/only/i.test(c[1])?"previous":"next",i=/first|last/i.test(c[1]),d=/-of-type/i.test(c[1])?"&&n.nodeName!=e.nodeName":'&&n.nodeName<"@"',n="if(e!==h){"+("n=e;while((n=n."+a+"Sibling)"+d+");if(!n){"+(i?n:"n=e;while((n=n."+s+"Sibling)"+d+");if(!n){"+n+"}")+"}")+"}"}else if((c=t.match(Ne.dpseudos))&&c[1])switch(c[1].match(/^\w+/)[0]){case"not":if(l=c[3].replace(z,""),Ve.SIMPLENOT&&!P.test(l))return Qe('Negation pseudo-class only accepts simple selectors "'+t+'"'),"";n="compatMode"in b?"if(!"+Ze(l,"",!1)+"(e,s,r,d,h,g)){"+n+"}":'if(!s.match(e, "'+l.replace(/\x22/g,'\\"')+'",g)){'+n+"}";break;case"checked":n='if((typeof e.form!=="undefined"&&(/^(?:radio|checkbox)$/i).test(e.type)&&e.checked)'+(Ve.USE_HTML5?"||(/^option$/i.test(e.nodeName)&&(e.selected||e.checked))":"")+"){"+n+"}";break;case"disabled":n='if(((typeof e.form!=="undefined"'+(Ve.USE_HTML5?"":"&&!(/^hidden$/i).test(e.type)")+")||s.isLink(e))&&e.disabled===true){"+n+"}";break;case"enabled":n='if(((typeof e.form!=="undefined"'+(Ve.USE_HTML5?"":"&&!(/^hidden$/i).test(e.type)")+")||s.isLink(e))&&e.disabled===false){"+n+"}";break;case"lang":f="",c[2]&&(f=c[2].substr(0,2)+"-"),n='do{(n=e.lang||"").toLowerCase();if((n==""&&h.lang=="'+c[2].toLowerCase()+'")||(n&&(n=="'+c[2].toLowerCase()+'"||n.substr(0,3)=="'+f.toLowerCase()+'"))){'+n+"break;}}while((e=e.parentNode)&&e!==g);";break;case"target":n="if(e.id==d.location.hash.slice(1)){"+n+"}";break;case"link":n="if(s.isLink(e)&&!e.visited){"+n+"}";break;case"visited":n="if(s.isLink(e)&&e.visited){"+n+"}";break;case"active":if(m)break;n="if(e===d.activeElement){"+n+"}";break;case"hover":if(m)break;n="if(e===d.hoverElement){"+n+"}";break;case"focus":if(m)break;n=W?'if(e===d.activeElement&&d.hasFocus()&&(e.type||e.href||typeof e.tabIndex=="number")){'+n+"}":"if(e===d.activeElement&&(e.type||e.href)){"+n+"}";break;case"selected":l=ce?"||(n=e.parentNode)&&n.options[n.selectedIndex]===e":"",n="if(/^option$/i.test(e.nodeName)&&(e.selected||e.checked"+l+")){"+n+"}"}else{l=!1,u=!1;for(l in ve)if((c=t.match(ve[l].Expression))&&c[1]&&(o=ve[l].Callback(c,n),n=o.source,u=o.status))break;if(!u)return Qe('Unknown pseudo-class selector "'+t+'"'),"";if(!l)return Qe('Unknown token in selector "'+t+'"'),""}if(!c)return Qe('Invalid syntax in selector "'+t+'"'),"";t=c&&c[c.length-1]}return n},Je=function(t,r,a,s){var c;if(!t||1!=t.nodeType)return Qe("Invalid element argument"),!1;if("string"!=typeof r)return Qe("Invalid selector argument"),!1;if(a&&1==a.nodeType&&!_e(a,t))return!1;if(i!==a&&Se(a||(a=t.ownerDocument)),r=r.replace(z,""),Ve.SHORTCUTS&&(r=g.shortcuts(r,t,a)),l!=r){if(!(c=r.match(M))||c[0]!=r)return Qe('The string "'+r+'", is not a valid CSS selector'),!1;n=(c=r.match(F)).length<2,l=r,o=c}else c=o;return rt[r]&&nt[r]===a||(rt[r]=Ze(n?[r]:c,"",!1),nt[r]=a),rt[r](t,st,[],b,y,a,s,new e.Object)},Ke=function(e,t){return et(e,t,function(){return!1})[0]||null},et=function(t,n,l){var o,f,p,h,v,w,x=t;if(0===arguments.length)return Qe("Not enough arguments"),[];if("string"!=typeof t)return[];if(n&&!/1|9|11/.test(n.nodeType))return Qe("Invalid or illegal context element"),[];if(i!==n&&Se(n||(n=b)),Ve.CACHING&&(h=g.loadResults(x,n,b,y)))return l?Ce([],h,l):h;if(!ue&&pe.test(t))switch(t.charAt(0)){case"#":Ve.UNIQUE_ID&&(h=(p=Ie(t.slice(1),n))?[p]:[]);break;case".":h=$e(t.slice(1),n);break;default:h=Le(t,n)}else if(!m&&Ve.USE_QSAPI&&(!d||!de.test(t))&&!fe.test(t))try{h=n.querySelectorAll(t)}catch(N){}if(h)return h=l?Ce([],h,l):te?E.call(h):Ae([],h),Ve.CACHING&&g.saveResults(x,n,b,h),h;if(t=t.replace(z,""),Ve.SHORTCUTS&&(t=g.shortcuts(t,n)),f=c!=t){if(!(v=t.match(M))||v[0]!=t)return Qe('The string "'+t+'", is not a valid CSS selector'),[];r=(v=t.match(F)).length<2,c=t,u=v}else v=u;if(11==n.nodeType)h=je("*",n);else if(!m&&r){if(f&&(v=t.match(G),w=v[v.length-1],a=w.split(":not")[0],s=t.length-w.length),Ve.UNIQUE_ID&&(v=a.match(xe.ID))&&(w=v[1])?(p=Ie(w,n))&&(Je(p,t)?(l&&l(p),h=new e.Array(p)):h=new e.Array):Ve.UNIQUE_ID&&(v=t.match(xe.ID))&&(w=v[1])&&((p=Ie(w,b))?"#"+w==t?(l&&l(p),h=new e.Array(p)):n=/[>+~]/.test(t)?p.parentNode:p:h=new e.Array),h)return Ve.CACHING&&g.saveResults(x,n,b,h),h;if(!J&&(v=a.match(xe.TAG))&&(w=v[1])){if(0===(h=Le(w,n)).length)return[];t=t.slice(0,s)+t.slice(s).replace(w,"*")}else if((v=a.match(xe.CLASS))&&(w=v[1])){if(0===(h=$e(w,n)).length)return[];t=Q.test(t.charAt(t.indexOf(w)-1))?t.slice(0,s)+t.slice(s).replace("."+w,""):t.slice(0,s)+t.slice(s).replace("."+w,"*")}else if((v=t.match(xe.CLASS))&&(w=v[1])){if(0===(h=$e(w,n)).length)return[];for(o=0,els=new e.Array;h.length>o;++o)els=Ae(els,h[o].getElementsByTagName("*"));h=els,t=Q.test(t.charAt(t.indexOf(w)-1))?t.slice(0,s)+t.slice(s).replace("."+w,""):t.slice(0,s)+t.slice(s).replace("."+w,"*")}else if(J&&(v=a.match(xe.TAG))&&(w=v[1])){if(0===(h=Le(w,n)).length)return[];t=t.slice(0,s)+t.slice(s).replace(w,"*")}}return h||(h=/^(?:applet|object)$/i.test(n.nodeName)?n.childNodes:Le("*",n)),it[t]&&at[t]===n||(it[t]=Ze(r?[t]:v,"",!0),at[t]=n),h=it[t](h,st,[],b,y,n,l,new e.Object),Ve.CACHING&&g.saveResults(x,n,b,h),h},tt=function(e){return e},nt=new e.Object,rt=new e.Object,at=new e.Object,it=new e.Object,st=new e.Object({nthElement:Fe,nthOfType:Ge,getAttribute:He,hasAttribute:Me,byClass:$e,byName:Be,byTag:Le,byId:Ie,contains:_e,isEmpty:ze,isLink:Pe,select:et,match:Je}),lt=new e.Object({prefixes:w,encoding:j,operators:x,whitespace:N,identifier:L,attributes:B,combinators:A,pseudoclass:$,pseudoparms:C,quotedvalue:S});g.ACCEPT_NODE=We,g.byId=Te,g.byTag=Re,g.byName=Be,g.byClass=De,g.getAttribute=He,g.hasAttribute=Me,g.match=Je,g.first=Ke,g.select=et,g.compile=Ze,g.contains=_e,g.configure=qe,g.setCache=tt,g.loadResults=tt,g.saveResults=tt,g.shortcuts=tt,g.emit=Qe,g.Config=Ve,g.Snapshot=st,g.Operators=we,g.Selectors=ve,g.Tokens=lt,g.Version=h,g.registerOperator=function(e,t){we[e]||(we[e]=t)},g.registerSelector=function(t,n,r){ve[t]||(ve[t]=new e.Object({Expression:n,Callback:r}))},Se(b,!0)})}
,
function(t,e){function i(t){this.setAttribute(i,!0);var e=t.ownerDocument;t.appendChild(e.createTextNode("$!{__head_styles__}")),this.next(t),this.setAttribute(i,void 0)}function r(t){var e=this.mark(),n=[];this.setAttribute(r,n),this.next(t);var s=this.reset(e);this.appendCapture("__head_styles__"),this.setAttribute(i,!0);for(var a=0;a<n.length;a++)this.parse(n[a]);this.setAttribute(i,void 0),this.appendEnd(),this.appendAll(s)}function n(t){var e=this.getAttribute(r);e&&!this.getAttribute(i)?e.push(t):this.next(t)}function s(t){var e=this.getAttribute(I);if(null!=e){var i=t.getAttribute("name");if(i){var r=t.getAttribute("type");if(!/^(?:reset|button|submit)$/i.test(r))if(/^(?:checkbox|radio)$/i.test(r)){if(!t.hasAttribute("checked"))return void f(this,t,i,"checked",/checkbox/i.test(r))}else t.hasAttribute("value")||t.setAttribute("value","${"+i+"}")}}this.next(t)}function a(t){var e=this.getAttribute(E);this.setAttribute(E,!1);var i=this.getAttribute(I),r=t.hasAttribute("value");if(r)t.textContent=t.getAttribute("value");else if(null!=i&&!t.hasChildNodes()){var n=t.getAttribute("name");t.textContent="${"+n+"}"}this.next(t),this.setAttribute(E,e)}function u(t){var e=t.hasAttribute("multiple");this.setAttribute(k,[t.getAttribute("name"),e]),this.next(t)}function h(t){var e=this.getAttribute(I);if(null!=e){var i=this.getAttribute(k);if(i)return void f(this,t,i[0],"selected",i[1])}this.next(t)}function o(t){var e=this.getAttribute(I);try{var i=S(t,"*value");"true"==i&&(i=""),this.setAttribute(I,i),T(this,t)}finally{this.setAttribute(I,e)}}function p(t){var e=t.textContent||t.data,i=e.match(/^\[if\s[^\]]+\]>|<!\[endif\]$/gi);if(i)if(1==i.length)this.appendText("<!--"+e+"-->");else{var r=i[0].length,n=i[1].length,s=e.substring(r,e.length-n);try{/^\s*</.test(s)&&(s=this.loadXML(s))}catch(a){}this.appendText("<!--"+i[0]),this.parse(s),this.appendText(i[1]+"-->")}}function c(t){var e=this.getAttribute(E);try{var i=S(t,"*value");this.setAttribute(E,"true"==i?!0:"false"==i?!1:null),T(this,t)}finally{this.setAttribute(E,e)}}function l(t){if(t){var e=t.replace(/^\$\{([\s\S]+)\}$/,"$1");try{e!=t&&new Function("return "+e)}catch(i){e=t}e==t&&(e=JSON.stringify(t))}return e}function f(t,e,i,r,n){var s=e.getAttribute("value");s||"selected"!=r||(s=e.textContent);var a=l(s);if(!a)return void t.next(e);var u=t.allocateId(),h=t.allocateId();n?(t.appendVar(h,"true"),t.appendFor(u,"[].concat("+i+")",null),t.appendIf(h+"&&"+u+'+""===""+'+a),e.setAttribute(r,r),t.appendVar(h,"false"),t.next(e),t.appendEnd(),t.appendEnd(),t.appendIf(h),e.removeAttribute(r),t.next(e),t.appendEnd()):(t.appendIf(i+'+""===""+'+a),e.setAttribute(r,r),t.next(e),t.appendEnd(),t.appendElse(null),e.removeAttribute(r),t.next(e),t.appendEnd())}function d(t){var e=this.getAttribute(E);this.setAttribute(E,!1);try{this.next(t)}finally{this.setAttribute(E,e)}}function b(t){var e=this.getAttribute(E);this.setAttribute(E,!1);try{if(!t.hasAttribute("src")){for(var i,r=t.ownerDocument,n=this.getAttribute(L),s=[];i=t.firstChild;)3==i.nodeType||4==i.nodeType?s.push(i.data):console.warn("script 中不能用嵌入html标签，建议将脚本放在 <![CDATA[...]]>中。"),t.removeChild(i);var a=x(this,s.join(""));n&&v(a,n),a.search(/[<&]/)>=0?(t.appendChild(r.createTextNode("/*")),t.appendChild(r.createCDATASection("*/"+a+"//"))):t.appendChild(r.createTextNode(a))}this.next(t)}finally{this.setAttribute(E,e)}}function v(t,e){var i=t.match(/^\s*([\w\.]+)\(([\s\S]*)\)\s*;?\s*$/),r=i&&i[1];if(!/^(?:__define_run__|(?:\w+\.)?use)$/.test(r)){for(var n,s=/\brequire\((['"][\.\-\w@\/]+["'])\)|^\s*\/(?:\/.*|\*[\s\S]*?\*\/)|'(?:[^'\\\r\n]|\\.)*'|"(?:[^"\\\r\n]|\\.)*"/g,a=[];n=s.exec(t);)n[1]&&a.push(n[1]);t=e+"(["+a.join(",")+"],function(){"+t+"\n})"}return t}function A(t){t.value=x(this,t.value),this.next(t)}function x(t,e){var i=e.replace(/^\s*\$\{([\s\S]+)\}\s*$/,"return $1");if(i!=e)try{return new Function(i),e}catch(r){}return e=C(e),_(e,/^\s*JSON\s*\.\s*stringify\s*\(/,g)}function g(t){return"JSON.stringify("+t+")"}function m(t){return"encodeURI("+t+")"}function y(t){var e=t.value;t.value=_(e,/^\s*encodeURI\s*\(/,m,encodeURI),this.next(t)}function _(t,e,i,r){for(var n=-1,s=[];;){if(n=t.indexOf("${",++n),!(n>=0))break;if(!(w(t,n)%2)){var a=$(t,n+1);if(a>0){var u=t.substring(n+2,a);e.test(u)||(u=i(u));var h=t.substring(0,n);r&&(h=r(h)),s.push(h,"${",u,"}"),t=t.substring(a+1),n=-1}else n++}}return r&&(t=r(t)),s.length?(s.push(t),s.join("")):t}function w(t,e){if(e>0&&"\\"==t.charAt(e-1)){for(var i=e-1;i-- >0&&"\\"==t.charAt(i););return e-i-1}return 0}var $=e(40).findELEnd,T=e(41).parseChildRemoveAttr,C=e(42).compressJS,S=e(14).findXMLAttribute,E=e(18).XML_SPACE_TRIM,I="http://www.xidea.org/lite/attribute/h:autofrom",k="http://www.xidea.org/lite/attribute/h:autofrom#selected",L="http://www.xidea.org/lite/attribute/h:wrap_script_use",N={xmlns:function(){},parse$8:p,parseSelect:u,parseOption:h,parseInput:s,parseTextArea:a,parseScript:b,parseHead:i,parseHtml:r,parseLink:n,parsePre:d,"onon*":A,onhref:y,onaction:y,onsrc:y},M={xmlns:function(){},interceptAutoform:o,interceptTrim:c,parseAutoform:o,parseTrim:c};t.HTML=N,t.HTML_EXT=M,t.wrapScript=v}
,
function(t,r,e){function n(){this.init()}function s(t){this.expression=t}function o(){}function i(t){arguments.length>0&&this.init(t)}function u(t){arguments.length>0&&this.init(t)}function a(t,r){arguments.length>0&&this.init(t,r)}function c(t,r){arguments.length>0&&this.init(t,r)}function h(t,r){arguments.length>0&&this.init(t,r)}function l(t,r){arguments.length>0&&this.init(t,r)}function p(t,r){arguments.length>0&&this.init(t,r)}function f(t,r){arguments.length>0&&this.init(t,r)}function g(t,r){arguments.length>0&&this.init(t,r)}function d(t,r){arguments.length>0&&this.init(t,r)}function E(t,r){arguments.length>0&&this.init(t,r)}function m(t,r){arguments.length>0&&this.init(t,r)}function N(t,r){arguments.length>0&&this.init(t,r)}function A(t,r){arguments.length>0&&this.init(t,r)}function y(t,r){arguments.length>0&&this.init(t,r)}function v(t,r){arguments.length>0&&this.init(t,r)}function b(t,r){arguments.length>0&&this.init(t,r)}function T(t,r,e){arguments.length>0&&this.init(t,r,e)}function S(t,r){arguments.length>0&&this.init(t,r)}function w(t,r,e){arguments.length>0&&this.init(t,r,e)}function R(t,r){arguments.length>0&&this.init(t,r)}function O(t){arguments.length>0&&this.init(t)}function x(t,r){arguments.length>0&&this.init(t,r)}function I(t){arguments.length>0&&this.init(t)}function U(t){arguments.length>0&&this.init(t)}function D(t){arguments.length>0&&this.init(t)}function C(t){this.init(t)}function _(){this.init()}function L(t,r,e){this.isXPathNamespace=!0,this.ownerDocument=e.ownerDocument,this.nodeName="#namespace",this.prefix=t,this.localName=t,this.namespaceURI=r,this.nodeValue=r,this.ownerElement=e,this.nodeType=L.XPATH_NAMESPACE_NODE}function F(t,r,e){this.variableResolver=null!=t?t:new P,this.namespaceResolver=null!=r?r:new B,this.functionResolver=null!=e?e:new M}function P(){}function M(t){this.thisArg=null!=t?t:Functions,this.functions=new Object,this.addStandardFunctions()}function B(){}function V(t,r){this.code=t,this.exception=r}function W(t,r,e){this.xpath=e.parse(t),this.context=new F,this.context.namespaceResolver=new H(r)}function H(t){this.xpathNSResolver=t}function q(t){this.node=t,this.namespaceResolver=new B}function G(t,r){switch(r==G.ANY_TYPE&&(t.constructor===I?r=G.STRING_TYPE:t.constructor===U?r=G.NUMBER_TYPE:t.constructor===D?r=G.BOOLEAN_TYPE:t.constructor===_&&(r=G.UNORDERED_NODE_ITERATOR_TYPE)),this.resultType=r,r){case G.NUMBER_TYPE:return void(this.numberValue=t.numberValue());case G.STRING_TYPE:return void(this.stringValue=t.stringValue());case G.BOOLEAN_TYPE:return void(this.booleanValue=t.booleanValue());case G.ANY_UNORDERED_NODE_TYPE:case G.FIRST_ORDERED_NODE_TYPE:if(t.constructor===_)return void(this.singleNodeValue=t.first());break;case G.UNORDERED_NODE_ITERATOR_TYPE:case G.ORDERED_NODE_ITERATOR_TYPE:if(t.constructor===_)return this.invalidIteratorState=!1,this.nodes=t.toArray(),void(this.iteratorIndex=0);break;case G.UNORDERED_NODE_SNAPSHOT_TYPE:case G.ORDERED_NODE_SNAPSHOT_TYPE:if(t.constructor===_)return this.nodes=t.toArray(),void(this.snapshotLength=this.nodes.length)}throw new V(V.TYPE_ERR)}function Y(t,r){t.createExpression=function(t,e){try{return new W(t,e,r)}catch(t){throw new V(V.INVALID_EXPRESSION_ERR,t)}},t.createNSResolver=function(t){return new q(t)},t.evaluate=function(e,n,s,o,i){if(0>o||o>9)throw{code:0,toString:function(){return"Request type not supported"}};return t.createExpression(e,s,r).evaluate(n,o,i)}}function Q(t,r){var e=new n,r=e.parse(r),s=new F;t.documentElement?s.expressionContextNode=t.documentElement:s.expressionContextNode=t;var o=r.evaluate(s);return o.toArray()}n.prototype=new Object,n.prototype.constructor=n,n.superclass=Object.prototype,n.prototype.init=function(){this.reduceActions=[],this.reduceActions[3]=function(t){return new c(t[0],t[2])},this.reduceActions[5]=function(t){return new h(t[0],t[2])},this.reduceActions[7]=function(t){return new l(t[0],t[2])},this.reduceActions[8]=function(t){return new p(t[0],t[2])},this.reduceActions[10]=function(t){return new f(t[0],t[2])},this.reduceActions[11]=function(t){return new g(t[0],t[2])},this.reduceActions[12]=function(t){return new d(t[0],t[2])},this.reduceActions[13]=function(t){return new E(t[0],t[2])},this.reduceActions[15]=function(t){return new m(t[0],t[2])},this.reduceActions[16]=function(t){return new N(t[0],t[2])},this.reduceActions[18]=function(t){return new A(t[0],t[2])},this.reduceActions[19]=function(t){return new y(t[0],t[2])},this.reduceActions[20]=function(t){return new v(t[0],t[2])},this.reduceActions[22]=function(t){return new u(t[1])},this.reduceActions[24]=function(t){return new b(t[0],t[2])},this.reduceActions[25]=function(t){return new T(void 0,void 0,t[0])},this.reduceActions[27]=function(t){return t[0].locationPath=t[2],t[0]},this.reduceActions[28]=function(t){return t[0].locationPath=t[2],t[0].locationPath.steps.unshift(new w(w.DESCENDANTORSELF,new R(R.NODE,void 0),[])),t[0]},this.reduceActions[29]=function(t){return new T(t[0],[],void 0)},this.reduceActions[30]=function(t){return Utilities.instance_of(t[0],T)?(void 0==t[0].filterPredicates&&(t[0].filterPredicates=[]),t[0].filterPredicates.push(t[1]),t[0]):new T(t[0],[t[1]],void 0)},this.reduceActions[32]=function(t){return t[1]},this.reduceActions[33]=function(t){return new I(t[0])},this.reduceActions[34]=function(t){return new U(t[0])},this.reduceActions[36]=function(t){return new x(t[0],[])},this.reduceActions[37]=function(t){return new x(t[0],t[2])},this.reduceActions[38]=function(t){return[t[0]]},this.reduceActions[39]=function(t){return t[2].unshift(t[0]),t[2]},this.reduceActions[43]=function(t){return new S(!0,[])},this.reduceActions[44]=function(t){return t[1].absolute=!0,t[1]},this.reduceActions[46]=function(t){return new S(!1,[t[0]])},this.reduceActions[47]=function(t){return t[0].steps.push(t[2]),t[0]},this.reduceActions[49]=function(t){return new w(t[0],t[1],[])},this.reduceActions[50]=function(t){return new w(w.CHILD,t[0],[])},this.reduceActions[51]=function(t){return new w(t[0],t[1],t[2])},this.reduceActions[52]=function(t){return new w(w.CHILD,t[0],t[1])},this.reduceActions[54]=function(t){return[t[0]]},this.reduceActions[55]=function(t){return t[1].unshift(t[0]),t[1]},this.reduceActions[56]=function(t){return"ancestor"==t[0]?w.ANCESTOR:"ancestor-or-self"==t[0]?w.ANCESTORORSELF:"attribute"==t[0]?w.ATTRIBUTE:"child"==t[0]?w.CHILD:"descendant"==t[0]?w.DESCENDANT:"descendant-or-self"==t[0]?w.DESCENDANTORSELF:"following"==t[0]?w.FOLLOWING:"following-sibling"==t[0]?w.FOLLOWINGSIBLING:"namespace"==t[0]?w.NAMESPACE:"parent"==t[0]?w.PARENT:"preceding"==t[0]?w.PRECEDING:"preceding-sibling"==t[0]?w.PRECEDINGSIBLING:"self"==t[0]?w.SELF:-1},this.reduceActions[57]=function(t){return w.ATTRIBUTE},this.reduceActions[59]=function(t){return"comment"==t[0]?new R(R.COMMENT,void 0):"text"==t[0]?new R(R.TEXT,void 0):"processing-instruction"==t[0]?new R(R.PI,void 0):"node"==t[0]?new R(R.NODE,void 0):new R(-1,void 0)},this.reduceActions[60]=function(t){return new R(R.PI,t[2])},this.reduceActions[61]=function(t){return t[1]},this.reduceActions[63]=function(t){return t[1].absolute=!0,t[1].steps.unshift(new w(w.DESCENDANTORSELF,new R(R.NODE,void 0),[])),t[1]},this.reduceActions[64]=function(t){return t[0].steps.push(new w(w.DESCENDANTORSELF,new R(R.NODE,void 0),[])),t[0].steps.push(t[2]),t[0]},this.reduceActions[65]=function(t){return new w(w.SELF,new R(R.NODE,void 0),[])},this.reduceActions[66]=function(t){return new w(w.PARENT,new R(R.NODE,void 0),[])},this.reduceActions[67]=function(t){return new O(t[1])},this.reduceActions[68]=function(t){return new R(R.NAMETESTANY,void 0)},this.reduceActions[69]=function(t){var r=t[0].substring(0,t[0].indexOf(":"));return new R(R.NAMETESTPREFIXANY,r)},this.reduceActions[70]=function(t){return new R(R.NAMETESTQNAME,t[0])}},n.actionTable=[" s s        sssssssss    s ss  s  ss","                 s                  ","r  rrrrrrrrr         rrrrrrr rr  r  ","                rrrrr               "," s s        sssssssss    s ss  s  ss","rs  rrrrrrrr s  sssssrrrrrr  rrs rs "," s s        sssssssss    s ss  s  ss","                            s       ","                            s       ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","  s                                 ","                            s       "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr  r  ","a                                   ","r       s                    rr  r  ","r      sr                    rr  r  ","r   s  rr            s       rr  r  ","r   rssrr            rss     rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrrs  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r  srrrrrrrr         rrrrrrs rr sr  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r   rrrrrrrr         rrrrrr  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","                sssss               ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             s      ","r  srrrrrrrr         rrrrrrs rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","              s                     ","                             s      ","                rrrrr               "," s s        sssssssss    s sss s  ss","r  srrrrrrrr         rrrrrrs rr  r  "," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss      ss  s  ss"," s s        sssssssss    s ss  s  ss"," s           s  sssss          s  s "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr rr  "," s           s  sssss          s  s "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             s      ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             rr     ","                             s      ","                             rs     ","r      sr                    rr  r  ","r   s  rr            s       rr  r  ","r   rssrr            rss     rr  r  ","r   rssrr            rss     rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","                                 r  ","                                 s  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  "," s s        sssssssss    s ss  s  ss","r  rrrrrrrrr         rrrrrrr rr rr  ","                             r      "],n.actionTableNumber=[" 1 0        /.-,+*)('    & %$  #  \"!","                 J                  ","a  aaaaaaaaa         aaaaaaa aa  a  ","                YYYYY               "," 1 0        /.-,+*)('    & %$  #  \"!","K1  KKKKKKKK .  +*)('KKKKKK  KK# K\" "," 1 0        /.-,+*)('    & %$  #  \"!","                            N       ","                            O       ","e  eeeeeeeee         eeeeeee ee ee  ","f  fffffffff         fffffff ff ff  ","d  ddddddddd         ddddddd dd dd  ","B  BBBBBBBBB         BBBBBBB BB BB  ","A  AAAAAAAAA         AAAAAAA AA AA  ","  P                                 ","                            Q       "," 1           .  +*)('          #  \" ","b  bbbbbbbbb         bbbbbbb bb  b  ","                                    ","!       S                    !!  !  ",'"      T"                    ""  "  ',"$   V  $$            U       $$  $  ","&   &ZY&&            &XW     &&  &  ",")   )))))            )))\\[   ))  )  ",".   ....._^]         .....   ..  .  ","1   11111111         11111   11  1  ","5   55555555         55555`  55  5  ","7   77777777         777777  77  7  ","9   99999999         999999  99  9  ",":  c::::::::         ::::::b :: a:  ","I  fIIIIIIII         IIIIIIe II  I  ","=  =========         ======= == ==  ","?  ?????????         ??????? ?? ??  ","C  CCCCCCCCC         CCCCCCC CC CC  ","J   JJJJJJJJ         JJJJJJ  JJ  J  ","M   MMMMMMMM         MMMMMM  MM  M  ","N  NNNNNNNNN         NNNNNNN NN  N  ","P  PPPPPPPPP         PPPPPPP PP  P  ","                +*)('               ","R  RRRRRRRRR         RRRRRRR RR aR  ","U  UUUUUUUUU         UUUUUUU UU  U  ","Z  ZZZZZZZZZ         ZZZZZZZ ZZ ZZ  ","c  ccccccccc         ccccccc cc cc  ","                             j      ","L  fLLLLLLLL         LLLLLLe LL  L  ","6   66666666         66666   66  6  ","              k                     ","                             l      ","                XXXXX               "," 1 0        /.-,+*)('    & %$m #  \"!","_  f________         ______e __  _  "," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('      %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1           .  +*)('          #  \" "," 1           .  +*)('          #  \" ",">  >>>>>>>>>         >>>>>>> >> >>  "," 1           .  +*)('          #  \" "," 1           .  +*)('          #  \" ","Q  QQQQQQQQQ         QQQQQQQ QQ aQ  ","V  VVVVVVVVV         VVVVVVV VV aV  ","T  TTTTTTTTT         TTTTTTT TT  T  ","@  @@@@@@@@@         @@@@@@@ @@ @@  ","                                   ","[  [[[[[[[[[         [[[[[[[ [[ [[  ","D  DDDDDDDDD         DDDDDDD DD DD  ","                             HH     ","                                   ","                             F     ","#      T#                    ##  #  ","%   V  %%            U       %%  %  ","'   'ZY''            'XW     ''  '  ","(   (ZY((            (XW     ((  (  ","+   +++++            +++\\[   ++  +  ","*   *****            ***\\[   **  *  ","-   -----            ---\\[   --  -  ",",   ,,,,,            ,,,\\[   ,,  ,  ","0   00000_^]         00000   00  0  ","/   /////_^]         /////   //  /  ","2   22222222         22222   22  2  ","3   33333333         33333   33  3  ","4   44444444         44444   44  4  ","8   88888888         888888  88  8  ","                                 ^  ","                                   ",";  f;;;;;;;;         ;;;;;;e ;;  ;  ","<  f<<<<<<<<         <<<<<<e <<  <  ","O  OOOOOOOOO         OOOOOOO OO  O  ","`  `````````         ``````` ``  `  ","S  SSSSSSSSS         SSSSSSS SS  S  ","W  WWWWWWWWW         WWWWWWW WW  W  ","\\  \\\\\\\\\\\\\\\\\\         \\\\\\\\\\\\\\ \\\\ \\\\  ","E  EEEEEEEEE         EEEEEEE EE EE  "," 1 0        /.-,+*)('    & %$  #  \"!","]  ]]]]]]]]]         ]]]]]]] ]] ]]  ","                             G      "],n.gotoTable=["3456789:;<=>?@ AB  CDEFGH IJ ","                             ","                             ","                             ","L456789:;<=>?@ AB  CDEFGH IJ ","            M        EFGH IJ ","       N;<=>?@ AB  CDEFGH IJ ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","            S        EFGH IJ ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","              e              ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                        h  J ","              i          j   ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","o456789:;<=>?@ ABpqCDEFGH IJ ","                             ","  r6789:;<=>?@ AB  CDEFGH IJ ","   s789:;<=>?@ AB  CDEFGH IJ ","    t89:;<=>?@ AB  CDEFGH IJ ","    u89:;<=>?@ AB  CDEFGH IJ ","     v9:;<=>?@ AB  CDEFGH IJ ","     w9:;<=>?@ AB  CDEFGH IJ ","     x9:;<=>?@ AB  CDEFGH IJ ","     y9:;<=>?@ AB  CDEFGH IJ ","      z:;<=>?@ AB  CDEFGH IJ ","      {:;<=>?@ AB  CDEFGH IJ ","       |;<=>?@ AB  CDEFGH IJ ","       };<=>?@ AB  CDEFGH IJ ","       ~;<=>?@ AB  CDEFGH IJ ","         =>?@ AB  CDEFGH IJ ","456789:;<=>?@ AB  CDEFGH IJ","                    EFGH IJ ","                    EFGH IJ ","                             ","                      GH IJ ","                      GH IJ ","              i             ","              i             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","o456789:;<=>?@ ABqCDEFGH IJ ","                             ","                             "],n.productions=[[1,1,2],[2,1,3],[3,1,4],[3,3,3,-9,4],[4,1,5],[4,3,4,-8,5],[5,1,6],[5,3,5,-22,6],[5,3,5,-5,6],[6,1,7],[6,3,6,-23,7],[6,3,6,-24,7],[6,3,6,-6,7],[6,3,6,-7,7],[7,1,8],[7,3,7,-25,8],[7,3,7,-26,8],[8,1,9],[8,3,8,-12,9],[8,3,8,-11,9],[8,3,8,-10,9],[9,1,10],[9,2,-26,9],[10,1,11],[10,3,10,-27,11],[11,1,12],[11,1,13],[11,3,13,-28,14],[11,3,13,-4,14],[13,1,15],[13,2,13,16],[15,1,17],[15,3,-29,2,-30],[15,1,-15],[15,1,-16],[15,1,18],[18,3,-13,-29,-30],[18,4,-13,-29,19,-30],[19,1,20],[19,3,20,-31,19],[20,1,2],[12,1,14],[12,1,21],[21,1,-28],[21,2,-28,14],[21,1,22],[14,1,23],[14,3,14,-28,23],[14,1,24],[23,2,25,26],[23,1,26],[23,3,25,26,27],[23,2,26,27],[23,1,28],[27,1,16],[27,2,16,27],[25,2,-14,-3],[25,1,-32],[26,1,29],[26,3,-20,-29,-30],[26,4,-21,-29,-15,-30],[16,3,-33,30,-34],[30,1,2],[22,2,-4,14],[24,3,14,-4,23],[28,1,-35],[28,1,-2],[17,2,-36,-18],[29,1,-17],[29,1,-19],[29,1,-18]],n.DOUBLEDOT=2,n.DOUBLECOLON=3,n.DOUBLESLASH=4,n.NOTEQUAL=5,n.LESSTHANOREQUAL=6,n.GREATERTHANOREQUAL=7,n.AND=8,n.OR=9,n.MOD=10,n.DIV=11,n.MULTIPLYOPERATOR=12,n.FUNCTIONNAME=13,n.AXISNAME=14,n.LITERAL=15,n.NUMBER=16,n.ASTERISKNAMETEST=17,n.QNAME=18,n.NCNAMECOLONASTERISK=19,n.NODETYPE=20,n.PROCESSINGINSTRUCTIONWITHLITERAL=21,n.EQUALS=22,n.LESSTHAN=23,n.GREATERTHAN=24,n.PLUS=25,n.MINUS=26,n.BAR=27,n.SLASH=28,n.LEFTPARENTHESIS=29,n.RIGHTPARENTHESIS=30,n.COMMA=31,n.AT=32,n.LEFTBRACKET=33,n.RIGHTBRACKET=34,n.DOT=35,n.DOLLAR=36,n.prototype.tokenize=function(t){for(var r=[],e=[],s=t+"\x00",o=0,i=s.charAt(o++);;){for(;" "==i||"	"==i||"\r"==i||"\n"==i;)i=s.charAt(o++);if("\x00"==i||o>=s.length)break;if("("!=i)if(")"!=i)if("["!=i)if("]"!=i)if("@"!=i)if(","!=i)if("|"!=i)if("+"!=i)if("-"!=i)if("="!=i)if("$"!=i)if("."!=i)if("'"!=i&&'"'!=i)if(i>="0"&&"9">=i){var u=i;for(i=s.charAt(o++);i>="0"&&"9">=i;)u+=i,i=s.charAt(o++);if("."==i&&s.charAt(o)>="0"&&s.charAt(o)<="9")for(u+=i,u+=s.charAt(o++),i=s.charAt(o++);i>="0"&&"9">=i;)u+=i,i=s.charAt(o++);r.push(n.NUMBER),e.push(u)}else if("*"!=i)if(":"!=i||":"!=s.charAt(o))if("/"!=i)if("!"!=i||"="!=s.charAt(o))if("<"!=i)if(">"!=i){if("_"!=i&&!Utilities.isLetter(i.charCodeAt(0)))throw new Error("Unexpected character "+i);var a=i;for(i=s.charAt(o++);Utilities.isNCNameChar(i.charCodeAt(0));)a+=i,i=s.charAt(o++);if(r.length>0){var c=r[r.length-1];if(c!=n.AT&&c!=n.DOUBLECOLON&&c!=n.LEFTPARENTHESIS&&c!=n.LEFTBRACKET&&c!=n.AND&&c!=n.OR&&c!=n.MOD&&c!=n.DIV&&c!=n.MULTIPLYOPERATOR&&c!=n.SLASH&&c!=n.DOUBLESLASH&&c!=n.BAR&&c!=n.PLUS&&c!=n.MINUS&&c!=n.EQUALS&&c!=n.NOTEQUAL&&c!=n.LESSTHAN&&c!=n.LESSTHANOREQUAL&&c!=n.GREATERTHAN&&c!=n.GREATERTHANOREQUAL){if("and"==a){r.push(n.AND),e.push(a);continue}if("or"==a){r.push(n.OR),e.push(a);continue}if("mod"==a){r.push(n.MOD),e.push(a);continue}if("div"==a){r.push(n.DIV),e.push(a);continue}}}if(":"==i){if("*"==s.charAt(o)){r.push(n.NCNAMECOLONASTERISK),e.push(a+":*"),o++,i=s.charAt(o++);continue}if("_"==s.charAt(o)||Utilities.isLetter(s.charCodeAt(o))){for(a+=":",i=s.charAt(o++);Utilities.isNCNameChar(i.charCodeAt(0));)a+=i,i=s.charAt(o++);if("("==i){r.push(n.FUNCTIONNAME),e.push(a);continue}r.push(n.QNAME),e.push(a);continue}if(":"==s.charAt(o)){r.push(n.AXISNAME),e.push(a);continue}}if("("==i){if("comment"==a||"text"==a||"node"==a){r.push(n.NODETYPE),e.push(a);continue}if("processing-instruction"==a){")"==s.charAt(o)?r.push(n.NODETYPE):r.push(n.PROCESSINGINSTRUCTIONWITHLITERAL),e.push(a);continue}r.push(n.FUNCTIONNAME),e.push(a);continue}r.push(n.QNAME),e.push(a)}else{if("="==s.charAt(o)){r.push(n.GREATERTHANOREQUAL),e.push(">="),o++,i=s.charAt(o++);continue}r.push(n.GREATERTHAN),e.push(">"),i=s.charAt(o++)}else{if("="==s.charAt(o)){r.push(n.LESSTHANOREQUAL),e.push("<="),o++,i=s.charAt(o++);continue}r.push(n.LESSTHAN),e.push("<"),i=s.charAt(o++)}else r.push(n.NOTEQUAL),e.push("!="),o++,i=s.charAt(o++);else{if(i=s.charAt(o++),"/"==i){r.push(n.DOUBLESLASH),e.push("//"),i=s.charAt(o++);continue}r.push(n.SLASH),e.push("/")}else r.push(n.DOUBLECOLON),e.push("::"),o++,i=s.charAt(o++);else{if(r.length>0){var c=r[r.length-1];if(c!=n.AT&&c!=n.DOUBLECOLON&&c!=n.LEFTPARENTHESIS&&c!=n.LEFTBRACKET&&c!=n.AND&&c!=n.OR&&c!=n.MOD&&c!=n.DIV&&c!=n.MULTIPLYOPERATOR&&c!=n.SLASH&&c!=n.DOUBLESLASH&&c!=n.BAR&&c!=n.PLUS&&c!=n.MINUS&&c!=n.EQUALS&&c!=n.NOTEQUAL&&c!=n.LESSTHAN&&c!=n.LESSTHANOREQUAL&&c!=n.GREATERTHAN&&c!=n.GREATERTHANOREQUAL){r.push(n.MULTIPLYOPERATOR),e.push(i),i=s.charAt(o++);continue}}r.push(n.ASTERISKNAMETEST),e.push(i),i=s.charAt(o++)}else{for(var h=i,l="";(i=s.charAt(o++))!=h;)l+=i;r.push(n.LITERAL),e.push(l),i=s.charAt(o++)}else{if(i=s.charAt(o++),"."==i){r.push(n.DOUBLEDOT),e.push(".."),i=s.charAt(o++);continue}if(i>="0"&&"9">=i){var u="."+i;for(i=s.charAt(o++);i>="0"&&"9">=i;)u+=i,i=s.charAt(o++);r.push(n.NUMBER),e.push(u);continue}r.push(n.DOT),e.push(".")}else r.push(n.DOLLAR),e.push(i),i=s.charAt(o++);else r.push(n.EQUALS),e.push(i),i=s.charAt(o++);else r.push(n.MINUS),e.push(i),i=s.charAt(o++);else r.push(n.PLUS),e.push(i),i=s.charAt(o++);else r.push(n.BAR),e.push(i),i=s.charAt(o++);else r.push(n.COMMA),e.push(i),i=s.charAt(o++);else r.push(n.AT),e.push(i),i=s.charAt(o++);else r.push(n.RIGHTBRACKET),e.push(i),i=s.charAt(o++);else r.push(n.LEFTBRACKET),e.push(i),i=s.charAt(o++);else r.push(n.RIGHTPARENTHESIS),e.push(i),i=s.charAt(o++);else r.push(n.LEFTPARENTHESIS),e.push(i),i=s.charAt(o++)}return r.push(1),e.push("[EOF]"),[r,e]},n.SHIFT="s",n.REDUCE="r",n.ACCEPT="a",n.prototype.parse=function(t){var r,e,o=this.tokenize(t);if(void 0!=o){r=o[0],e=o[1];var t,i,u,a=0,c=[],h=[],l=[];for(c.push(0),h.push(1),l.push("_S"),i=r[a],u=e[a++];;)switch(t=c[c.length-1],n.actionTable[t].charAt(i-1)){case n.SHIFT:h.push(-i),l.push(u),c.push(n.actionTableNumber[t].charCodeAt(i-1)-32),i=r[a],u=e[a++];break;case n.REDUCE:for(var p=n.productions[n.actionTableNumber[t].charCodeAt(i-1)-32][1],f=[],g=0;p>g;g++)h.pop(),f.unshift(l.pop()),c.pop();var d=c[c.length-1];h.push(n.productions[n.actionTableNumber[t].charCodeAt(i-1)-32][0]),void 0==this.reduceActions[n.actionTableNumber[t].charCodeAt(i-1)-32]?l.push(f[0]):l.push(this.reduceActions[n.actionTableNumber[t].charCodeAt(i-1)-32](f)),c.push(n.gotoTable[d].charCodeAt(n.productions[n.actionTableNumber[t].charCodeAt(i-1)-32][0]-2)-33);break;case n.ACCEPT:return new s(l.pop());default:throw new Error("XPath parse error")}}},s.prototype=new Object,s.prototype.constructor=s,s.superclass=Object.prototype,s.prototype.toString=function(){return this.expression.toString()},s.prototype.evaluate=function(t){if(t.contextNode=t.expressionContextNode,t.contextSize=1,t.contextPosition=1,t.caseInsensitive=!1,null!=t.contextNode){var r=t.contextNode;9!=r.nodeType&&(r=r.ownerDocument);try{t.caseInsensitive=r.implementation.hasFeature("HTML","2.0")}catch(e){t.caseInsensitive=!0}}return this.expression.evaluate(t)},s.XML_NAMESPACE_URI="http://www.w3.org/XML/1998/namespace",s.XMLNS_NAMESPACE_URI="http://www.w3.org/2000/xmlns/",o.prototype=new Object,o.prototype.constructor=o,o.superclass=Object.prototype,o.prototype.init=function(){},o.prototype.toString=function(){return"<Expression>"},o.prototype.evaluate=function(t){throw new Error("Could not evaluate expression.")},i.prototype=new o,i.prototype.constructor=i,i.superclass=o.prototype,i.prototype.init=function(t){this.rhs=t},u.prototype=new i,u.prototype.constructor=u,u.superclass=i.prototype,u.prototype.init=function(t){u.superclass.init.call(this,t)},u.prototype.evaluate=function(t){return this.rhs.evaluate(t).number().negate()},u.prototype.toString=function(){return"-"+this.rhs.toString()},a.prototype=new o,a.prototype.constructor=a,a.superclass=o.prototype,a.prototype.init=function(t,r){this.lhs=t,this.rhs=r},c.prototype=new a,c.prototype.constructor=c,c.superclass=a.prototype,c.prototype.init=function(t,r){c.superclass.init.call(this,t,r)},c.prototype.toString=function(){return"("+this.lhs.toString()+" or "+this.rhs.toString()+")"},c.prototype.evaluate=function(t){var r=this.lhs.evaluate(t).bool();return r.booleanValue()?r:this.rhs.evaluate(t).bool()},h.prototype=new a,h.prototype.constructor=h,h.superclass=a.prototype,h.prototype.init=function(t,r){h.superclass.init.call(this,t,r)},h.prototype.toString=function(){return"("+this.lhs.toString()+" and "+this.rhs.toString()+")"},h.prototype.evaluate=function(t){var r=this.lhs.evaluate(t).bool();return r.booleanValue()?this.rhs.evaluate(t).bool():r},l.prototype=new a,l.prototype.constructor=l,l.superclass=a.prototype,l.prototype.init=function(t,r){l.superclass.init.call(this,t,r)},l.prototype.toString=function(){return"("+this.lhs.toString()+" = "+this.rhs.toString()+")"},l.prototype.evaluate=function(t){return this.lhs.evaluate(t).equals(this.rhs.evaluate(t))},p.prototype=new a,p.prototype.constructor=p,p.superclass=a.prototype,p.prototype.init=function(t,r){p.superclass.init.call(this,t,r)},p.prototype.toString=function(){return"("+this.lhs.toString()+" != "+this.rhs.toString()+")"},p.prototype.evaluate=function(t){return this.lhs.evaluate(t).notequal(this.rhs.evaluate(t))},f.prototype=new a,f.prototype.constructor=f,f.superclass=a.prototype,f.prototype.init=function(t,r){f.superclass.init.call(this,t,r)},f.prototype.evaluate=function(t){return this.lhs.evaluate(t).lessthan(this.rhs.evaluate(t))},f.prototype.toString=function(){return"("+this.lhs.toString()+" < "+this.rhs.toString()+")"},g.prototype=new a,g.prototype.constructor=g,g.superclass=a.prototype,g.prototype.init=function(t,r){g.superclass.init.call(this,t,r)},g.prototype.evaluate=function(t){return this.lhs.evaluate(t).greaterthan(this.rhs.evaluate(t))},g.prototype.toString=function(){return"("+this.lhs.toString()+" > "+this.rhs.toString()+")"},d.prototype=new a,d.prototype.constructor=d,d.superclass=a.prototype,d.prototype.init=function(t,r){d.superclass.init.call(this,t,r)},d.prototype.evaluate=function(t){return this.lhs.evaluate(t).lessthanorequal(this.rhs.evaluate(t))},d.prototype.toString=function(){return"("+this.lhs.toString()+" <= "+this.rhs.toString()+")"},E.prototype=new a,E.prototype.constructor=E,E.superclass=a.prototype,E.prototype.init=function(t,r){E.superclass.init.call(this,t,r)},E.prototype.evaluate=function(t){return this.lhs.evaluate(t).greaterthanorequal(this.rhs.evaluate(t))},E.prototype.toString=function(){return"("+this.lhs.toString()+" >= "+this.rhs.toString()+")"},m.prototype=new a,m.prototype.constructor=m,m.superclass=a.prototype,m.prototype.init=function(t,r){m.superclass.init.call(this,t,r)},m.prototype.evaluate=function(t){return this.lhs.evaluate(t).number().plus(this.rhs.evaluate(t).number())},m.prototype.toString=function(){return"("+this.lhs.toString()+" + "+this.rhs.toString()+")"},N.prototype=new a,N.prototype.constructor=N,N.superclass=a.prototype,N.prototype.init=function(t,r){N.superclass.init.call(this,t,r)},N.prototype.evaluate=function(t){return this.lhs.evaluate(t).number().minus(this.rhs.evaluate(t).number())},N.prototype.toString=function(){return"("+this.lhs.toString()+" - "+this.rhs.toString()+")"},A.prototype=new a,A.prototype.constructor=A,A.superclass=a.prototype,A.prototype.init=function(t,r){A.superclass.init.call(this,t,r)},A.prototype.evaluate=function(t){return this.lhs.evaluate(t).number().multiply(this.rhs.evaluate(t).number())},A.prototype.toString=function(){return"("+this.lhs.toString()+" * "+this.rhs.toString()+")"},y.prototype=new a,y.prototype.constructor=y,y.superclass=a.prototype,y.prototype.init=function(t,r){y.superclass.init.call(this,t,r)},y.prototype.evaluate=function(t){return this.lhs.evaluate(t).number().div(this.rhs.evaluate(t).number())},y.prototype.toString=function(){return"("+this.lhs.toString()+" div "+this.rhs.toString()+")"},v.prototype=new a,v.prototype.constructor=v,v.superclass=a.prototype,v.prototype.init=function(t,r){v.superclass.init.call(this,t,r)},v.prototype.evaluate=function(t){return this.lhs.evaluate(t).number().mod(this.rhs.evaluate(t).number())},v.prototype.toString=function(){return"("+this.lhs.toString()+" mod "+this.rhs.toString()+")"},b.prototype=new a,b.prototype.constructor=b,b.superclass=a.prototype,b.prototype.init=function(t,r){b.superclass.init.call(this,t,r)},b.prototype.evaluate=function(t){return this.lhs.evaluate(t).nodeset().union(this.rhs.evaluate(t).nodeset());
},b.prototype.toString=function(){return this.lhs.toString()+" | "+this.rhs.toString()},T.prototype=new o,T.prototype.constructor=T,T.superclass=o.prototype,T.prototype.init=function(t,r,e){T.superclass.init.call(this),this.filter=t,this.filterPredicates=r,this.locationPath=e},T.prototype.evaluate=function(t){var r,e=new F;if(e.variableResolver=t.variableResolver,e.functionResolver=t.functionResolver,e.namespaceResolver=t.namespaceResolver,e.expressionContextNode=t.expressionContextNode,e.virtualRoot=t.virtualRoot,e.caseInsensitive=t.caseInsensitive,null==this.filter)r=[t.contextNode];else{var n=this.filter.evaluate(t);if(!Utilities.instance_of(n,_)){if(null!=this.filterPredicates&&this.filterPredicates.length>0||null!=this.locationPath)throw new Error("Path expression filter must evaluate to a nodset if predicates or location path are used");return n}if(r=n.toArray(),null!=this.filterPredicates)for(var o=0;o<this.filterPredicates.length;o++){var i=this.filterPredicates[o],u=[];for(e.contextSize=r.length,e.contextPosition=1;e.contextPosition<=e.contextSize;e.contextPosition++)e.contextNode=r[e.contextPosition-1],this.predicateMatches(i,e)&&u.push(e.contextNode);r=u}}if(null!=this.locationPath){if(this.locationPath.absolute)if(9!=r[0].nodeType)if(null!=e.virtualRoot)r=[e.virtualRoot];else if(null==r[0].ownerDocument){for(var a=r[0];null!=a.parentNode;)a=a.parentNode;r=[a]}else r=[r[0].ownerDocument];else r=[r[0]];for(var c=0;c<this.locationPath.steps.length;c++){for(var h=this.locationPath.steps[c],u=[],o=0;o<r.length;o++)switch(e.contextNode=r[o],h.axis){case w.ANCESTOR:if(e.contextNode===e.virtualRoot)break;var l;for(l=2==e.contextNode.nodeType?this.getOwnerElement(e.contextNode):e.contextNode.parentNode;null!=l&&(h.nodeTest.matches(l,e)&&u.push(l),l!==e.virtualRoot);)l=l.parentNode;break;case w.ANCESTORORSELF:for(var l=e.contextNode;null!=l&&(h.nodeTest.matches(l,e)&&u.push(l),l!==e.virtualRoot);l=2==l.nodeType?this.getOwnerElement(l):l.parentNode);break;case w.ATTRIBUTE:var p=e.contextNode.attributes;if(null!=p)for(var f=0;f<p.length;f++){var l=p.item(f);h.nodeTest.matches(l,e)&&u.push(l)}break;case w.CHILD:for(var l=e.contextNode.firstChild;null!=l;l=l.nextSibling)h.nodeTest.matches(l,e)&&u.push(l);break;case w.DESCENDANT:for(var g=[e.contextNode.firstChild];g.length>0;)for(var l=g.pop();null!=l;)h.nodeTest.matches(l,e)&&u.push(l),null!=l.firstChild?(g.push(l.nextSibling),l=l.firstChild):l=l.nextSibling;break;case w.DESCENDANTORSELF:h.nodeTest.matches(e.contextNode,e)&&u.push(e.contextNode);for(var g=[e.contextNode.firstChild];g.length>0;)for(var l=g.pop();null!=l;)h.nodeTest.matches(l,e)&&u.push(l),null!=l.firstChild?(g.push(l.nextSibling),l=l.firstChild):l=l.nextSibling;break;case w.FOLLOWING:if(e.contextNode===e.virtualRoot)break;var g=[];null!=e.contextNode.firstChild?g.unshift(e.contextNode.firstChild):g.unshift(e.contextNode.nextSibling);for(var l=e.contextNode.parentNode;null!=l&&9!=l.nodeType&&l!==e.virtualRoot;l=l.parentNode)g.unshift(l.nextSibling);do for(var l=g.pop();null!=l;)h.nodeTest.matches(l,e)&&u.push(l),null!=l.firstChild?(g.push(l.nextSibling),l=l.firstChild):l=l.nextSibling;while(g.length>0);break;case w.FOLLOWINGSIBLING:if(e.contextNode===e.virtualRoot)break;for(var l=e.contextNode.nextSibling;null!=l;l=l.nextSibling)h.nodeTest.matches(l,e)&&u.push(l);break;case w.NAMESPACE:var a={};if(1==e.contextNode.nodeType){a.xml=s.XML_NAMESPACE_URI,a.xmlns=s.XMLNS_NAMESPACE_URI;for(var l=e.contextNode;null!=l&&1==l.nodeType;l=l.parentNode)for(var f=0;f<l.attributes.length;f++){var d=l.attributes.item(f),E=String(d.name);if("xmlns"==E)void 0==a[""]&&(a[""]=d.value);else if(E.length>6&&"xmlns:"==E.substring(0,6)){var m=E.substring(6,E.length);void 0==a[m]&&(a[m]=d.value)}}for(var m in a){var N=new NamespaceNode(m,a[m],e.contextNode);h.nodeTest.matches(N,e)&&u.push(N)}}break;case w.PARENT:l=null,e.contextNode!==e.virtualRoot&&(l=2==e.contextNode.nodeType?this.getOwnerElement(e.contextNode):e.contextNode.parentNode),null!=l&&h.nodeTest.matches(l,e)&&u.push(l);break;case w.PRECEDING:var g;g=null!=e.virtualRoot?[e.virtualRoot]:9==e.contextNode.nodeType?[e.contextNode]:[e.contextNode.ownerDocument];t:for(;g.length>0;)for(var l=g.pop();null!=l;){if(l==e.contextNode)break t;h.nodeTest.matches(l,e)&&u.unshift(l),null!=l.firstChild?(g.push(l.nextSibling),l=l.firstChild):l=l.nextSibling}break;case w.PRECEDINGSIBLING:if(e.contextNode===e.virtualRoot)break;for(var l=e.contextNode.previousSibling;null!=l;l=l.previousSibling)h.nodeTest.matches(l,e)&&u.push(l);break;case w.SELF:h.nodeTest.matches(e.contextNode,e)&&u.push(e.contextNode)}r=u;for(var o=0;o<h.predicates.length;o++){var i=h.predicates[o],u=[];for(e.contextSize=r.length,e.contextPosition=1;e.contextPosition<=e.contextSize;e.contextPosition++)e.contextNode=r[e.contextPosition-1],this.predicateMatches(i,e)&&u.push(e.contextNode);r=u}}}var n=new _;return n.addArray(r),n},T.prototype.predicateMatches=function(t,r){var e=t.evaluate(r);return Utilities.instance_of(e,U)?r.contextPosition==e.numberValue():e.booleanValue()},T.prototype.toString=function(){if(void 0!=this.filter){var t=this.filter.toString();if(Utilities.instance_of(this.filter,I)&&(t="'"+t+"'"),void 0!=this.filterPredicates)for(var r=0;r<this.filterPredicates.length;r++)t=t+"["+this.filterPredicates[r].toString()+"]";return void 0!=this.locationPath&&(this.locationPath.absolute||(t+="/"),t+=this.locationPath.toString()),t}return this.locationPath.toString()},T.prototype.getOwnerElement=function(t){if(t.ownerElement)return t.ownerElement;try{if(t.selectSingleNode)return t.selectSingleNode("..")}catch(r){}for(var e=9==t.nodeType?t:t.ownerDocument,n=e.getElementsByTagName("*"),s=0;s<n.length;s++)for(var o=n.item(s),i=o.attributes,u=0;u<i.length;u++){var a=i.item(u);if(a===t)return o}return null},S.prototype=new Object,S.prototype.constructor=S,S.superclass=Object.prototype,S.prototype.init=function(t,r){this.absolute=t,this.steps=r},S.prototype.toString=function(){var t;t=this.absolute?"/":"";for(var r=0;r<this.steps.length;r++)0!=r&&(t+="/"),t+=this.steps[r].toString();return t},w.prototype=new Object,w.prototype.constructor=w,w.superclass=Object.prototype,w.prototype.init=function(t,r,e){this.axis=t,this.nodeTest=r,this.predicates=e},w.prototype.toString=function(){var t;switch(this.axis){case w.ANCESTOR:t="ancestor";break;case w.ANCESTORORSELF:t="ancestor-or-self";break;case w.ATTRIBUTE:t="attribute";break;case w.CHILD:t="child";break;case w.DESCENDANT:t="descendant";break;case w.DESCENDANTORSELF:t="descendant-or-self";break;case w.FOLLOWING:t="following";break;case w.FOLLOWINGSIBLING:t="following-sibling";break;case w.NAMESPACE:t="namespace";break;case w.PARENT:t="parent";break;case w.PRECEDING:t="preceding";break;case w.PRECEDINGSIBLING:t="preceding-sibling";break;case w.SELF:t="self"}t+="::",t+=this.nodeTest.toString();for(var r=0;r<this.predicates.length;r++)t+="["+this.predicates[r].toString()+"]";return t},w.ANCESTOR=0,w.ANCESTORORSELF=1,w.ATTRIBUTE=2,w.CHILD=3,w.DESCENDANT=4,w.DESCENDANTORSELF=5,w.FOLLOWING=6,w.FOLLOWINGSIBLING=7,w.NAMESPACE=8,w.PARENT=9,w.PRECEDING=10,w.PRECEDINGSIBLING=11,w.SELF=12,R.prototype=new Object,R.prototype.constructor=R,R.superclass=Object.prototype,R.prototype.init=function(t,r){this.type=t,this.value=r},R.prototype.toString=function(){switch(this.type){case R.NAMETESTANY:return"*";case R.NAMETESTPREFIXANY:return this.value+":*";case R.NAMETESTRESOLVEDANY:return"{"+this.value+"}*";case R.NAMETESTQNAME:return this.value;case R.NAMETESTRESOLVEDNAME:return"{"+this.namespaceURI+"}"+this.value;case R.COMMENT:return"comment()";case R.TEXT:return"text()";case R.PI:return void 0!=this.value?'processing-instruction("'+this.value+'")':"processing-instruction()";case R.NODE:return"node()"}return"<unknown nodetest type>"},R.prototype.matches=function(t,r){switch(this.type){case R.NAMETESTANY:return 2==t.nodeType||1==t.nodeType||t.nodeType==L.XPATH_NAMESPACE_NODE?!0:!1;case R.NAMETESTPREFIXANY:if(2==t.nodeType||1==t.nodeType){var e=r.namespaceResolver.getNamespace(this.value,r.expressionContextNode);if(null==e)throw new Error("Cannot resolve QName "+this.value);return!0}return!1;case R.NAMETESTQNAME:if(2==t.nodeType||1==t.nodeType||t.nodeType==L.XPATH_NAMESPACE_NODE){var n=Utilities.resolveQName(this.value,r.namespaceResolver,r.expressionContextNode,!1);if(null==n[0])throw new Error("Cannot resolve QName "+this.value);n[0]=String(n[0]),n[1]=String(n[1]),""==n[0]&&(n[0]=null);var s=Utilities.resolveQName(t.nodeName,r.namespaceResolver,t,1==t.nodeType);return s[0]=String(s[0]),s[1]=String(s[1]),""==s[0]&&(s[0]=null),r.caseInsensitive?n[0]==s[0]&&String(n[1]).toLowerCase()==String(s[1]).toLowerCase():n[0]==s[0]&&n[1]==s[1]}return!1;case R.COMMENT:return 8==t.nodeType;case R.TEXT:return 3==t.nodeType||4==t.nodeType;case R.PI:return 7==t.nodeType&&(null==this.value||t.nodeName==this.value);case R.NODE:return 9==t.nodeType||1==t.nodeType||2==t.nodeType||3==t.nodeType||4==t.nodeType||8==t.nodeType||7==t.nodeType}return!1},R.NAMETESTANY=0,R.NAMETESTPREFIXANY=1,R.NAMETESTQNAME=2,R.COMMENT=3,R.TEXT=4,R.PI=5,R.NODE=6,O.prototype=new o,O.prototype.constructor=O,O.superclass=o.prototype,O.prototype.init=function(t){this.variable=t},O.prototype.toString=function(){return"$"+this.variable},O.prototype.evaluate=function(t){return t.variableResolver.getVariable(this.variable,t)},x.prototype=new o,x.prototype.constructor=x,x.superclass=o.prototype,x.prototype.init=function(t,r){this.functionName=t,this.arguments=r},x.prototype.toString=function(){for(var t=this.functionName+"(",r=0;r<this.arguments.length;r++)r>0&&(t+=", "),t+=this.arguments[r].toString();return t+")"},x.prototype.evaluate=function(t){var r=t.functionResolver.getFunction(this.functionName,t);if(void 0==r)throw new Error("Unknown function "+this.functionName);var e=[t].concat(this.arguments);return r.apply(t.functionResolver.thisArg,e)},I.prototype=new o,I.prototype.constructor=I,I.superclass=o.prototype,I.prototype.init=function(t){this.str=t},I.prototype.toString=function(){return this.str},I.prototype.evaluate=function(t){return this},I.prototype.string=function(){return this},I.prototype.number=function(){return new U(this.str)},I.prototype.bool=function(){return new D(this.str)},I.prototype.nodeset=function(){throw new Error("Cannot convert string to nodeset")},I.prototype.stringValue=function(){return this.str},I.prototype.numberValue=function(){return this.number().numberValue()},I.prototype.booleanValue=function(){return this.bool().booleanValue()},I.prototype.equals=function(t){return Utilities.instance_of(t,D)?this.bool().equals(t):Utilities.instance_of(t,U)?this.number().equals(t):Utilities.instance_of(t,_)?t.compareWithString(this,J.equals):new D(this.str==t.str)},I.prototype.notequal=function(t){return Utilities.instance_of(t,D)?this.bool().notequal(t):Utilities.instance_of(t,U)?this.number().notequal(t):Utilities.instance_of(t,_)?t.compareWithString(this,J.notequal):new D(this.str!=t.str)},I.prototype.lessthan=function(t){return Utilities.instance_of(t,_)?t.compareWithNumber(this.number(),J.greaterthanorequal):this.number().lessthan(t.number())},I.prototype.greaterthan=function(t){return Utilities.instance_of(t,_)?t.compareWithNumber(this.number(),J.lessthanorequal):this.number().greaterthan(t.number())},I.prototype.lessthanorequal=function(t){return Utilities.instance_of(t,_)?t.compareWithNumber(this.number(),J.greaterthan):this.number().lessthanorequal(t.number())},I.prototype.greaterthanorequal=function(t){return Utilities.instance_of(t,_)?t.compareWithNumber(this.number(),J.lessthan):this.number().greaterthanorequal(t.number())},U.prototype=new o,U.prototype.constructor=U,U.superclass=o.prototype,U.prototype.init=function(t){this.num=Number(t)},U.prototype.toString=function(){return this.num},U.prototype.evaluate=function(t){return this},U.prototype.string=function(){return new I(this.num)},U.prototype.number=function(){return this},U.prototype.bool=function(){return new D(this.num)},U.prototype.nodeset=function(){throw new Error("Cannot convert number to nodeset")},U.prototype.stringValue=function(){return this.string().stringValue()},U.prototype.numberValue=function(){return this.num},U.prototype.booleanValue=function(){return this.bool().booleanValue()},U.prototype.negate=function(){return new U(-this.num)},U.prototype.equals=function(t){return Utilities.instance_of(t,D)?this.bool().equals(t):Utilities.instance_of(t,I)?this.equals(t.number()):Utilities.instance_of(t,_)?t.compareWithNumber(this,J.equals):new D(this.num==t.num)},U.prototype.notequal=function(t){return Utilities.instance_of(t,D)?this.bool().notequal(t):Utilities.instance_of(t,I)?this.notequal(t.number()):Utilities.instance_of(t,_)?t.compareWithNumber(this,J.notequal):new D(this.num!=t.num)},U.prototype.lessthan=function(t){return Utilities.instance_of(t,_)?t.compareWithNumber(this,J.greaterthanorequal):Utilities.instance_of(t,D)||Utilities.instance_of(t,I)?this.lessthan(t.number()):new D(this.num<t.num)},U.prototype.greaterthan=function(t){return Utilities.instance_of(t,_)?t.compareWithNumber(this,J.lessthanorequal):Utilities.instance_of(t,D)||Utilities.instance_of(t,I)?this.greaterthan(t.number()):new D(this.num>t.num)},U.prototype.lessthanorequal=function(t){return Utilities.instance_of(t,_)?t.compareWithNumber(this,J.greaterthan):Utilities.instance_of(t,D)||Utilities.instance_of(t,I)?this.lessthanorequal(t.number()):new D(this.num<=t.num)},U.prototype.greaterthanorequal=function(t){return Utilities.instance_of(t,_)?t.compareWithNumber(this,J.lessthan):Utilities.instance_of(t,D)||Utilities.instance_of(t,I)?this.greaterthanorequal(t.number()):new D(this.num>=t.num)},U.prototype.plus=function(t){return new U(this.num+t.num)},U.prototype.minus=function(t){return new U(this.num-t.num)},U.prototype.multiply=function(t){return new U(this.num*t.num)},U.prototype.div=function(t){return new U(this.num/t.num)},U.prototype.mod=function(t){return new U(this.num%t.num)},D.prototype=new o,D.prototype.constructor=D,D.superclass=o.prototype,D.prototype.init=function(t){this.b=Boolean(t)},D.prototype.toString=function(){return this.b.toString()},D.prototype.evaluate=function(t){return this},D.prototype.string=function(){return new I(this.b)},D.prototype.number=function(){return new U(this.b)},D.prototype.bool=function(){return this},D.prototype.nodeset=function(){throw new Error("Cannot convert boolean to nodeset")},D.prototype.stringValue=function(){return this.string().stringValue()},D.prototype.numberValue=function(){return this.num().numberValue()},D.prototype.booleanValue=function(){return this.b},D.prototype.not=function(){return new D(!this.b)},D.prototype.equals=function(t){return Utilities.instance_of(t,I)||Utilities.instance_of(t,U)?this.equals(t.bool()):Utilities.instance_of(t,_)?t.compareWithBoolean(this,J.equals):new D(this.b==t.b)},D.prototype.notequal=function(t){return Utilities.instance_of(t,I)||Utilities.instance_of(t,U)?this.notequal(t.bool()):Utilities.instance_of(t,_)?t.compareWithBoolean(this,J.notequal):new D(this.b!=t.b)},D.prototype.lessthan=function(t){return Utilities.instance_of(t,_)?t.compareWithNumber(this.number(),J.greaterthanorequal):this.number().lessthan(t.number())},D.prototype.greaterthan=function(t){return Utilities.instance_of(t,_)?t.compareWithNumber(this.number(),J.lessthanorequal):this.number().greaterthan(t.number())},D.prototype.lessthanorequal=function(t){return Utilities.instance_of(t,_)?t.compareWithNumber(this.number(),J.greaterthan):this.number().lessthanorequal(t.number())},D.prototype.greaterthanorequal=function(t){return Utilities.instance_of(t,_)?t.compareWithNumber(this.number(),J.lessthan):this.number().greaterthanorequal(t.number())},C.prototype=new Object,C.prototype.constructor=C,C.superclass=Object.prototype,C.prototype.init=function(t){this.left=null,this.right=null,this.node=t,this.depth=1},C.prototype.balance=function(){var t=null==this.left?0:this.left.depth,r=null==this.right?0:this.right.depth;if(t>r+1){var e=null==this.left.left?0:this.left.left.depth,n=null==this.left.right?0:this.left.right.depth;n>e&&this.left.rotateRR(),this.rotateLL()}else if(r>t+1){var s=null==this.right.right?0:this.right.right.depth,o=null==this.right.left?0:this.right.left.depth;o>s&&this.right.rotateLL(),this.rotateRR()}},C.prototype.rotateLL=function(){var t=this.node,r=this.right;this.node=this.left.node,this.right=this.left,this.left=this.left.left,this.right.left=this.right.right,this.right.right=r,this.right.node=t,this.right.updateInNewLocation(),this.updateInNewLocation()},C.prototype.rotateRR=function(){var t=this.node,r=this.left;this.node=this.right.node,this.left=this.right,this.right=this.right.right,this.left.right=this.left.left,this.left.left=r,this.left.node=t,this.left.updateInNewLocation(),this.updateInNewLocation()},C.prototype.updateInNewLocation=function(){this.getDepthFromChildren()},C.prototype.getDepthFromChildren=function(){this.depth=null==this.node?0:1,null!=this.left&&(this.depth=this.left.depth+1),null!=this.right&&this.depth<=this.right.depth&&(this.depth=this.right.depth+1)},C.prototype.order=function(t,r){if(t===r)return 0;for(var e=0,n=0,s=t;null!=s;s=s.parentNode)e++;for(var o=r;null!=o;o=o.parentNode)n++;if(e>n){for(;e>n;)t=t.parentNode,e--;if(t==r)return 1}else if(n>e){for(;n>e;)r=r.parentNode,n--;if(t==r)return-1}for(;t.parentNode!=r.parentNode;)t=t.parentNode,r=r.parentNode;for(;null!=t.previousSibling&&null!=r.previousSibling;)t=t.previousSibling,r=r.previousSibling;return null==t.previousSibling?-1:1},C.prototype.add=function(t){if(t===this.node)return!1;var r=this.order(t,this.node),e=!1;return-1==r?null==this.left?(this.left=new C(t),e=!0):(e=this.left.add(t),e&&this.balance()):1==r&&(null==this.right?(this.right=new C(t),e=!0):(e=this.right.add(t),e&&this.balance())),e&&this.getDepthFromChildren(),e},_.prototype=new o,_.prototype.constructor=_,_.superclass=o.prototype,_.prototype.init=function(){this.tree=null,this.size=0},_.prototype.toString=function(){var t=this.first();return null==t?"":this.stringForNode(t)},_.prototype.evaluate=function(t){return this},_.prototype.string=function(){return new I(this.toString())},_.prototype.stringValue=function(){return this.toString()},_.prototype.number=function(){return new U(this.string())},_.prototype.numberValue=function(){return Number(this.string())},_.prototype.bool=function(){return new D(null!=this.tree)},_.prototype.booleanValue=function(){return null!=this.tree},_.prototype.nodeset=function(){return this},_.prototype.stringForNode=function(t){return 9==t.nodeType&&(t=t.documentElement),1==t.nodeType?this.stringForNodeRec(t):t.isNamespaceNode?t.namespace:t.nodeValue},_.prototype.stringForNodeRec=function(t){for(var r="",e=t.firstChild;null!=e;e=e.nextSibling)3==e.nodeType?r+=e.nodeValue:1==e.nodeType&&(r+=this.stringForNodeRec(e));return r},_.prototype.first=function(){var t=this.tree;if(null==t)return null;for(;null!=t.left;)t=t.left;return t.node},_.prototype.add=function(t){var r;null==this.tree?(this.tree=new C(t),r=!0):r=this.tree.add(t),r&&this.size++},_.prototype.addArray=function(t){for(var r=0;r<t.length;r++)this.add(t[r])},_.prototype.toArray=function(){var t=[];return this.toArrayRec(this.tree,t),t},_.prototype.toArrayRec=function(t,r){null!=t&&(this.toArrayRec(t.left,r),r.push(t.node),this.toArrayRec(t.right,r))},_.prototype.compareWithString=function(t,r){for(var e=this.toArray(),n=0;n<e.length;n++){var s=e[n],o=new I(this.stringForNode(s)),i=r(o,t);if(i.booleanValue())return i}return new D(!1)},_.prototype.compareWithNumber=function(t,r){for(var e=this.toArray(),n=0;n<e.length;n++){var s=e[n],o=new U(this.stringForNode(s)),i=r(o,t);if(i.booleanValue())return i}return new D(!1)},_.prototype.compareWithBoolean=function(t,r){return r(this.bool(),t)},_.prototype.compareWithNodeSet=function(t,r){for(var e=this.toArray(),n=0;n<e.length;n++)for(var s=e[n],o=new I(this.stringForNode(s)),i=t.toArray(),u=0;u<i.length;u++){var a=i[u],t=new I(this.stringForNode(a)),c=r(o,t);if(c.booleanValue())return c}return new D(!1)},_.prototype.equals=function(t){return Utilities.instance_of(t,I)?this.compareWithString(t,J.equals):Utilities.instance_of(t,U)?this.compareWithNumber(t,J.equals):Utilities.instance_of(t,D)?this.compareWithBoolean(t,J.equals):this.compareWithNodeSet(t,J.equals)},_.prototype.notequal=function(t){return Utilities.instance_of(t,I)?this.compareWithString(t,J.notequal):Utilities.instance_of(t,U)?this.compareWithNumber(t,J.notequal):Utilities.instance_of(t,D)?this.compareWithBoolean(t,J.notequal):this.compareWithNodeSet(t,J.notequal)},_.prototype.lessthan=function(t){return Utilities.instance_of(t,I)?this.compareWithNumber(t.number(),J.lessthan):Utilities.instance_of(t,U)?this.compareWithNumber(t,J.lessthan):Utilities.instance_of(t,D)?this.compareWithBoolean(t,J.lessthan):this.compareWithNodeSet(t,J.lessthan)},_.prototype.greaterthan=function(t){return Utilities.instance_of(t,I)?this.compareWithNumber(t.number(),J.greaterthan):Utilities.instance_of(t,U)?this.compareWithNumber(t,J.greaterthan):Utilities.instance_of(t,D)?this.compareWithBoolean(t,J.greaterthan):this.compareWithNodeSet(t,J.greaterthan)},_.prototype.lessthanorequal=function(t){return Utilities.instance_of(t,I)?this.compareWithNumber(t.number(),J.lessthanorequal):Utilities.instance_of(t,U)?this.compareWithNumber(t,J.lessthanorequal):Utilities.instance_of(t,D)?this.compareWithBoolean(t,J.lessthanorequal):this.compareWithNodeSet(t,J.lessthanorequal)},_.prototype.greaterthanorequal=function(t){return Utilities.instance_of(t,I)?this.compareWithNumber(t.number(),J.greaterthanorequal):Utilities.instance_of(t,U)?this.compareWithNumber(t,J.greaterthanorequal):Utilities.instance_of(t,D)?this.compareWithBoolean(t,J.greaterthanorequal):this.compareWithNodeSet(t,J.greaterthanorequal)},_.prototype.union=function(t){var r=new _;return r.tree=this.tree,r.size=this.size,r.addArray(t.toArray()),r},L.prototype=new Object,L.prototype.constructor=L,L.superclass=Object.prototype,L.prototype.toString=function(){return'{ "'+this.prefix+'", "'+this.namespaceURI+'" }'};var J=new Object;J.equals=function(t,r){return t.equals(r)},J.notequal=function(t,r){return t.notequal(r)},J.lessthan=function(t,r){return t.lessthan(r)},J.greaterthan=function(t,r){return t.greaterthan(r)},J.lessthanorequal=function(t,r){return t.lessthanorequal(r)},J.greaterthanorequal=function(t,r){return t.greaterthanorequal(r)},F.prototype=new Object,F.prototype.constructor=F,F.superclass=Object.prototype,P.prototype=new Object,P.prototype.constructor=P,P.superclass=Object.prototype,P.prototype.getVariable=function(t,r){var e=Utilities.splitQName(t);if(null!=e[0]&&(e[0]=r.namespaceResolver.getNamespace(e[0],r.expressionContextNode),null==e[0]))throw new Error("Cannot resolve QName "+fn);return this.getVariableWithName(e[0],e[1],r.expressionContextNode)},P.prototype.getVariableWithName=function(t,r,e){return null},M.prototype=new Object,M.prototype.constructor=M,M.superclass=Object.prototype,M.prototype.addStandardFunctions=function(){this.functions["{}last"]=Functions.last,this.functions["{}position"]=Functions.position,this.functions["{}count"]=Functions.count,this.functions["{}id"]=Functions.id,this.functions["{}local-name"]=Functions.localName,this.functions["{}namespace-uri"]=Functions.namespaceURI,this.functions["{}name"]=Functions.name,this.functions["{}string"]=Functions.string,this.functions["{}concat"]=Functions.concat,this.functions["{}starts-with"]=Functions.startsWith,this.functions["{}contains"]=Functions.contains,this.functions["{}substring-before"]=Functions.substringBefore,this.functions["{}substring-after"]=Functions.substringAfter,this.functions["{}substring"]=Functions.substring,this.functions["{}string-length"]=Functions.stringLength,this.functions["{}normalize-space"]=Functions.normalizeSpace,this.functions["{}translate"]=Functions.translate,this.functions["{}boolean"]=Functions.boolean_,this.functions["{}not"]=Functions.not,this.functions["{}true"]=Functions.true_,this.functions["{}false"]=Functions.false_,this.functions["{}lang"]=Functions.lang,this.functions["{}number"]=Functions.number,this.functions["{}sum"]=Functions.sum,this.functions["{}floor"]=Functions.floor,this.functions["{}ceiling"]=Functions.ceiling,this.functions["{}round"]=Functions.round},M.prototype.addFunction=function(t,r,e){this.functions["{"+t+"}"+r]=e},M.prototype.getFunction=function(t,r){var e=Utilities.resolveQName(t,r.namespaceResolver,r.contextNode,!1);if(null==e[0])throw new Error("Cannot resolve QName "+t);return this.getFunctionWithName(e[0],e[1],r.contextNode)},M.prototype.getFunctionWithName=function(t,r,e){return this.functions["{"+t+"}"+r]},B.prototype=new Object,B.prototype.constructor=B,B.superclass=Object.prototype,B.prototype.getNamespace=function(t,r){if("xml"==t)return s.XML_NAMESPACE_URI;if("xmlns"==t)return s.XMLNS_NAMESPACE_URI;for(9==r.nodeType?r=r.documentElement:2==r.nodeType?r=T.prototype.getOwnerElement(r):1!=r.nodeType&&(r=r.parentNode);null!=r&&1==r.nodeType;){for(var e=r.attributes,n=0;n<e.length;n++){var o=e.item(n),i=o.nodeName;if("xmlns"==i&&""==t||i=="xmlns:"+t)return String(o.nodeValue)}r=r.parentNode}return null},Functions=new Object,Functions.last=function(){var t=arguments[0];if(1!=arguments.length)throw new Error("Function last expects ()");return new U(t.contextSize)},Functions.position=function(){var t=arguments[0];if(1!=arguments.length)throw new Error("Function position expects ()");return new U(t.contextPosition)},Functions.count=function(){var t,r=arguments[0];if(2!=arguments.length||!Utilities.instance_of(t=arguments[1].evaluate(r),_))throw new Error("Function count expects (node-set)");return new U(t.size)},Functions.id=function(){var t,r=arguments[0];if(2!=arguments.length)throw new Error("Function id expects (object)");t=arguments[1].evaluate(r),t=Utilities.instance_of(t,_)?t.toArray().join(" "):t.stringValue();for(var e=t.split(/[\x0d\x0a\x09\x20]+/),n=0,s=new _,o=9==r.contextNode.nodeType?r.contextNode:r.contextNode.ownerDocument,i=0;i<e.length;i++){var u;u=o.getElementById?o.getElementById(e[i]):Utilities.getElementById(o,e[i]),null!=u&&(s.add(u),n++)}return s},Functions.localName=function(){var t,r=arguments[0];if(1==arguments.length)t=r.contextNode;else{if(2!=arguments.length)throw new Error("Function local-name expects (node-set?)");t=arguments[1].evaluate(r).first()}return new I(null==t?"":t.localName?t.localName:t.baseName)},Functions.namespaceURI=function(){var t,r=arguments[0];if(1==arguments.length)t=r.contextNode;else{if(2!=arguments.length)throw new Error("Function namespace-uri expects (node-set?)");t=arguments[1].evaluate(r).first()}return new I(null==t?"":t.namespaceURI)},Functions.name=function(){var t,r=arguments[0];if(1==arguments.length)t=r.contextNode;else{if(2!=arguments.length)throw new Error("Function name expects (node-set?)");t=arguments[1].evaluate(r).first()}return new I(null==t?"":1==t.nodeType||2==t.nodeType?t.nodeName:null==t.localName?"":t.localName)},Functions.string=function(){var t=arguments[0];if(1==arguments.length)return _.prototype.stringForNode(t.contextNode);if(2==arguments.length)return arguments[1].evaluate(t).string();throw new Error("Function string expects (object?)")},Functions.concat=function(){var t=arguments[0];if(arguments.length<3)throw new Error("Function concat expects (string, string, string*)");for(var r="",e=1;e<arguments.length;e++)r+=arguments[e].evaluate(t).stringValue();return new I(r)},Functions.startsWith=function(){var t=arguments[0];if(3!=arguments.length)throw new Error("Function startsWith expects (string, string)");var r=arguments[1].evaluate(t).stringValue(),e=arguments[2].evaluate(t).stringValue();return new D(r.substring(0,e.length)==e)},Functions.contains=function(){var t=arguments[0];if(3!=arguments.length)throw new Error("Function contains expects (string, string)");var r=arguments[1].evaluate(t).stringValue(),e=arguments[2].evaluate(t).stringValue();return new D(-1!=r.indexOf(e))},Functions.substringBefore=function(){var t=arguments[0];if(3!=arguments.length)throw new Error("Function substring-before expects (string, string)");var r=arguments[1].evaluate(t).stringValue(),e=arguments[2].evaluate(t).stringValue();return new I(r.substring(0,r.indexOf(e)))},Functions.substringAfter=function(){var t=arguments[0];if(3!=arguments.length)throw new Error("Function substring-after expects (string, string)");var r=arguments[1].evaluate(t).stringValue(),e=arguments[2].evaluate(t).stringValue();if(0==e.length)return new I(r);var n=r.indexOf(e);return new I(-1==n?"":r.substring(r.indexOf(e)+1))},Functions.substring=function(){var t=arguments[0];if(3!=arguments.length&&4!=arguments.length)throw new Error("Function substring expects (string, number, number?)");var r=arguments[1].evaluate(t).stringValue(),e=Math.round(arguments[2].evaluate(t).numberValue())-1,n=4==arguments.length?e+Math.round(arguments[3].evaluate(t).numberValue()):void 0;return new I(r.substring(e,n))},Functions.stringLength=function(){var t,r=arguments[0];if(1==arguments.length)t=_.prototype.stringForNode(r.contextNode);else{if(2!=arguments.length)throw new Error("Function string-length expects (string?)");t=arguments[1].evaluate(r).stringValue()}return new U(t.length)},Functions.normalizeSpace=function(){var t,r=arguments[0];if(1==arguments.length)t=_.prototype.stringForNode(r.contextNode);else{if(2!=arguments.length)throw new Error("Function normalize-space expects (string?)");t=arguments[1].evaluate(r).stringValue()}for(var e=0,n=t.length-1;Utilities.isSpace(t.charCodeAt(n));)n--;for(var s="";n>=e&&Utilities.isSpace(t.charCodeAt(e));)e++;for(;n>=e;)if(Utilities.isSpace(t.charCodeAt(e)))for(s+=" ";n>=e&&Utilities.isSpace(t.charCodeAt(e));)e++;else s+=t.charAt(e),e++;return new I(s)},Functions.translate=function(){var t=arguments[0];if(4!=arguments.length)throw new Error("Function translate expects (string, string, string)");for(var r=arguments[1].evaluate(t).stringValue(),e=arguments[2].evaluate(t).stringValue(),n=arguments[3].evaluate(t).stringValue(),s=[],o=0;o<e.length;o++){var i=e.charCodeAt(o);if(void 0==s[i]){var u=o>n.length?"":n.charAt(o);s[i]=u}}for(var a="",o=0;o<r.length;o++){var t=r.charCodeAt(o),c=s[t];a+=void 0==c?r.charAt(o):c}return new I(a)},Functions.boolean_=function(){var t=arguments[0];if(2!=arguments.length)throw new Error("Function boolean expects (object)");return arguments[1].evaluate(t).bool()},Functions.not=function(){var t=arguments[0];if(2!=arguments.length)throw new Error("Function not expects (object)");return arguments[1].evaluate(t).bool().not()},Functions.true_=function(){if(1!=arguments.length)throw new Error("Function true expects ()");return new D(!0)},Functions.false_=function(){if(1!=arguments.length)throw new Error("Function false expects ()");return new D(!1)},Functions.lang=function(){var t=arguments[0];if(2!=arguments.length)throw new Error("Function lang expects (string)");for(var r,e=t.contextNode;null!=e&&9!=e.nodeType;e=e.parentNode){var n=e.getAttributeNS(s.XML_NAMESPACE_URI,"lang");if(null!=n){r=String(n);break}}if(null==r)return new D(!1);var o=arguments[1].evaluate(t).stringValue();return new D(r.substring(0,o.length)==o&&(r.length==o.length||"-"==r.charAt(o.length)))},Functions.number=function(){var t=arguments[0];if(1!=arguments.length&&2!=arguments.length)throw new Error("Function number expects (object?)");return 1==arguments.length?new U(_.prototype.stringForNode(t.contextNode)):arguments[1].evaluate(t).number()},Functions.sum=function(){var t,r=arguments[0];if(2!=arguments.length||!Utilities.instance_of(t=arguments[1].evaluate(r),_))throw new Error("Function sum expects (node-set)");t=t.toArray();for(var e=0,n=0;n<t.length;n++)e+=new U(_.prototype.stringForNode(t[n])).numberValue();return new U(e)},Functions.floor=function(){var t=arguments[0];if(2!=arguments.length)throw new Error("Function floor expects (number)");return new U(Math.floor(arguments[1].evaluate(t).numberValue()));
},Functions.ceiling=function(){var t=arguments[0];if(2!=arguments.length)throw new Error("Function ceiling expects (number)");return new U(Math.ceil(arguments[1].evaluate(t).numberValue()))},Functions.round=function(){var t=arguments[0];if(2!=arguments.length)throw new Error("Function round expects (number)");return new U(Math.round(arguments[1].evaluate(t).numberValue()))},Utilities=new Object,Utilities.splitQName=function(t){var r=t.indexOf(":");return-1==r?[null,t]:[t.substring(0,r),t.substring(r+1)]},Utilities.resolveQName=function(t,r,e,n){var s=Utilities.splitQName(t);return null!=s[0]?s[0]=r.getNamespace(s[0],e):n?(s[0]=r.getNamespace("",e),null==s[0]&&(s[0]="")):s[0]="",s},Utilities.isSpace=function(t){return 9==t||13==t||10==t||32==t},Utilities.isLetter=function(t){return t>=65&&90>=t||t>=97&&122>=t||t>=192&&214>=t||t>=216&&246>=t||t>=248&&255>=t||t>=256&&305>=t||t>=308&&318>=t||t>=321&&328>=t||t>=330&&382>=t||t>=384&&451>=t||t>=461&&496>=t||t>=500&&501>=t||t>=506&&535>=t||t>=592&&680>=t||t>=699&&705>=t||902==t||t>=904&&906>=t||908==t||t>=910&&929>=t||t>=931&&974>=t||t>=976&&982>=t||986==t||988==t||990==t||992==t||t>=994&&1011>=t||t>=1025&&1036>=t||t>=1038&&1103>=t||t>=1105&&1116>=t||t>=1118&&1153>=t||t>=1168&&1220>=t||t>=1223&&1224>=t||t>=1227&&1228>=t||t>=1232&&1259>=t||t>=1262&&1269>=t||t>=1272&&1273>=t||t>=1329&&1366>=t||1369==t||t>=1377&&1414>=t||t>=1488&&1514>=t||t>=1520&&1522>=t||t>=1569&&1594>=t||t>=1601&&1610>=t||t>=1649&&1719>=t||t>=1722&&1726>=t||t>=1728&&1742>=t||t>=1744&&1747>=t||1749==t||t>=1765&&1766>=t||t>=2309&&2361>=t||2365==t||t>=2392&&2401>=t||t>=2437&&2444>=t||t>=2447&&2448>=t||t>=2451&&2472>=t||t>=2474&&2480>=t||2482==t||t>=2486&&2489>=t||t>=2524&&2525>=t||t>=2527&&2529>=t||t>=2544&&2545>=t||t>=2565&&2570>=t||t>=2575&&2576>=t||t>=2579&&2600>=t||t>=2602&&2608>=t||t>=2610&&2611>=t||t>=2613&&2614>=t||t>=2616&&2617>=t||t>=2649&&2652>=t||2654==t||t>=2674&&2676>=t||t>=2693&&2699>=t||2701==t||t>=2703&&2705>=t||t>=2707&&2728>=t||t>=2730&&2736>=t||t>=2738&&2739>=t||t>=2741&&2745>=t||2749==t||2784==t||t>=2821&&2828>=t||t>=2831&&2832>=t||t>=2835&&2856>=t||t>=2858&&2864>=t||t>=2866&&2867>=t||t>=2870&&2873>=t||2877==t||t>=2908&&2909>=t||t>=2911&&2913>=t||t>=2949&&2954>=t||t>=2958&&2960>=t||t>=2962&&2965>=t||t>=2969&&2970>=t||2972==t||t>=2974&&2975>=t||t>=2979&&2980>=t||t>=2984&&2986>=t||t>=2990&&2997>=t||t>=2999&&3001>=t||t>=3077&&3084>=t||t>=3086&&3088>=t||t>=3090&&3112>=t||t>=3114&&3123>=t||t>=3125&&3129>=t||t>=3168&&3169>=t||t>=3205&&3212>=t||t>=3214&&3216>=t||t>=3218&&3240>=t||t>=3242&&3251>=t||t>=3253&&3257>=t||3294==t||t>=3296&&3297>=t||t>=3333&&3340>=t||t>=3342&&3344>=t||t>=3346&&3368>=t||t>=3370&&3385>=t||t>=3424&&3425>=t||t>=3585&&3630>=t||3632==t||t>=3634&&3635>=t||t>=3648&&3653>=t||t>=3713&&3714>=t||3716==t||t>=3719&&3720>=t||3722==t||3725==t||t>=3732&&3735>=t||t>=3737&&3743>=t||t>=3745&&3747>=t||3749==t||3751==t||t>=3754&&3755>=t||t>=3757&&3758>=t||3760==t||t>=3762&&3763>=t||3773==t||t>=3776&&3780>=t||t>=3904&&3911>=t||t>=3913&&3945>=t||t>=4256&&4293>=t||t>=4304&&4342>=t||4352==t||t>=4354&&4355>=t||t>=4357&&4359>=t||4361==t||t>=4363&&4364>=t||t>=4366&&4370>=t||4412==t||4414==t||4416==t||4428==t||4430==t||4432==t||t>=4436&&4437>=t||4441==t||t>=4447&&4449>=t||4451==t||4453==t||4455==t||4457==t||t>=4461&&4462>=t||t>=4466&&4467>=t||4469==t||4510==t||4520==t||4523==t||t>=4526&&4527>=t||t>=4535&&4536>=t||4538==t||t>=4540&&4546>=t||4587==t||4592==t||4601==t||t>=7680&&7835>=t||t>=7840&&7929>=t||t>=7936&&7957>=t||t>=7960&&7965>=t||t>=7968&&8005>=t||t>=8008&&8013>=t||t>=8016&&8023>=t||8025==t||8027==t||8029==t||t>=8031&&8061>=t||t>=8064&&8116>=t||t>=8118&&8124>=t||8126==t||t>=8130&&8132>=t||t>=8134&&8140>=t||t>=8144&&8147>=t||t>=8150&&8155>=t||t>=8160&&8172>=t||t>=8178&&8180>=t||t>=8182&&8188>=t||8486==t||t>=8490&&8491>=t||8494==t||t>=8576&&8578>=t||t>=12353&&12436>=t||t>=12449&&12538>=t||t>=12549&&12588>=t||t>=44032&&55203>=t||t>=19968&&40869>=t||12295==t||t>=12321&&12329>=t},Utilities.isNCNameChar=function(t){return t>=48&&57>=t||t>=1632&&1641>=t||t>=1776&&1785>=t||t>=2406&&2415>=t||t>=2534&&2543>=t||t>=2662&&2671>=t||t>=2790&&2799>=t||t>=2918&&2927>=t||t>=3047&&3055>=t||t>=3174&&3183>=t||t>=3302&&3311>=t||t>=3430&&3439>=t||t>=3664&&3673>=t||t>=3792&&3801>=t||t>=3872&&3881>=t||46==t||45==t||95==t||Utilities.isLetter(t)||t>=768&&837>=t||t>=864&&865>=t||t>=1155&&1158>=t||t>=1425&&1441>=t||t>=1443&&1465>=t||t>=1467&&1469>=t||1471==t||t>=1473&&1474>=t||1476==t||t>=1611&&1618>=t||1648==t||t>=1750&&1756>=t||t>=1757&&1759>=t||t>=1760&&1764>=t||t>=1767&&1768>=t||t>=1770&&1773>=t||t>=2305&&2307>=t||2364==t||t>=2366&&2380>=t||2381==t||t>=2385&&2388>=t||t>=2402&&2403>=t||t>=2433&&2435>=t||2492==t||2494==t||2495==t||t>=2496&&2500>=t||t>=2503&&2504>=t||t>=2507&&2509>=t||2519==t||t>=2530&&2531>=t||2562==t||2620==t||2622==t||2623==t||t>=2624&&2626>=t||t>=2631&&2632>=t||t>=2635&&2637>=t||t>=2672&&2673>=t||t>=2689&&2691>=t||2748==t||t>=2750&&2757>=t||t>=2759&&2761>=t||t>=2763&&2765>=t||t>=2817&&2819>=t||2876==t||t>=2878&&2883>=t||t>=2887&&2888>=t||t>=2891&&2893>=t||t>=2902&&2903>=t||t>=2946&&2947>=t||t>=3006&&3010>=t||t>=3014&&3016>=t||t>=3018&&3021>=t||3031==t||t>=3073&&3075>=t||t>=3134&&3140>=t||t>=3142&&3144>=t||t>=3146&&3149>=t||t>=3157&&3158>=t||t>=3202&&3203>=t||t>=3262&&3268>=t||t>=3270&&3272>=t||t>=3274&&3277>=t||t>=3285&&3286>=t||t>=3330&&3331>=t||t>=3390&&3395>=t||t>=3398&&3400>=t||t>=3402&&3405>=t||3415==t||3633==t||t>=3636&&3642>=t||t>=3655&&3662>=t||3761==t||t>=3764&&3769>=t||t>=3771&&3772>=t||t>=3784&&3789>=t||t>=3864&&3865>=t||3893==t||3895==t||3897==t||3902==t||3903==t||t>=3953&&3972>=t||t>=3974&&3979>=t||t>=3984&&3989>=t||3991==t||t>=3993&&4013>=t||t>=4017&&4023>=t||4025==t||t>=8400&&8412>=t||8417==t||t>=12330&&12335>=t||12441==t||12442==t||183==t||720==t||721==t||903==t||1600==t||3654==t||3782==t||12293==t||t>=12337&&12341>=t||t>=12445&&12446>=t||t>=12540&&12542>=t},Utilities.coalesceText=function(t){for(var r=t.firstChild;null!=r;r=r.nextSibling)if(3==r.nodeType||4==r.nodeType){var e=r.nodeValue,n=r;for(r=r.nextSibling;null!=r&&(3==r.nodeType||4==r.nodeType);){e+=r.nodeValue;var s=r;r=r.nextSibling,s.parentNode.removeChild(s)}if(4==n.nodeType){var o=n.parentNode;if(null==n.nextSibling)o.removeChild(n),o.appendChild(o.ownerDocument.createTextNode(e));else{var i=n.nextSibling;o.removeChild(n),o.insertBefore(o.ownerDocument.createTextNode(e),i)}}else n.nodeValue=e;if(null==r)break}else 1==r.nodeType&&Utilities.coalesceText(r)},Utilities.instance_of=function(t,r){for(;null!=t;){if(t.constructor===r)return!0;if(t===Object)return!1;t=t.constructor.superclass}return!1},Utilities.getElementById=function(t,r){if(1==t.nodeType&&(t.getAttribute("id")==r||t.getAttributeNS(null,"id")==r))return t;for(var e=t.firstChild;null!=e;e=e.nextSibling){var n=Utilities.getElementById(e,r);if(null!=n)return n}return null},V.prototype={},V.prototype.constructor=V,V.superclass=Object.prototype,V.prototype.toString=function(){var t=this.exception?": "+this.exception.toString():"";switch(this.code){case V.INVALID_EXPRESSION_ERR:return"Invalid expression"+t;case V.TYPE_ERR:return"Type error"+t}},V.INVALID_EXPRESSION_ERR=51,V.TYPE_ERR=52,W.prototype={},W.prototype.constructor=W,W.superclass=Object.prototype,W.prototype.evaluate=function(t,r,e){this.context.expressionContextNode=t;var n=this.xpath.evaluate(this.context);return new G(n,r)},H.prototype={},H.prototype.constructor=H,H.superclass=Object.prototype,H.prototype.getNamespace=function(t,r){return null==this.xpathNSResolver?null:this.xpathNSResolver.lookupNamespaceURI(t)},q.prototype={},q.prototype.constructor=q,q.superclass=Object.prototype,q.prototype.lookupNamespaceURI=function(t){return this.namespaceResolver.getNamespace(t,this.node)},G.prototype={},G.prototype.constructor=G,G.superclass=Object.prototype,G.prototype.iterateNext=function(){if(this.resultType!=G.UNORDERED_NODE_ITERATOR_TYPE&&this.resultType!=G.ORDERED_NODE_ITERATOR_TYPE)throw new V(V.TYPE_ERR);return this.nodes[this.iteratorIndex++]},G.prototype.snapshotItem=function(t){if(this.resultType!=G.UNORDERED_NODE_SNAPSHOT_TYPE&&this.resultType!=G.ORDERED_NODE_SNAPSHOT_TYPE)throw new V(V.TYPE_ERR);return this.nodes[t]},G.ANY_TYPE=0,G.NUMBER_TYPE=1,G.STRING_TYPE=2,G.BOOLEAN_TYPE=3,G.UNORDERED_NODE_ITERATOR_TYPE=4,G.ORDERED_NODE_ITERATOR_TYPE=5,G.UNORDERED_NODE_SNAPSHOT_TYPE=6,G.ORDERED_NODE_SNAPSHOT_TYPE=7,G.ANY_UNORDERED_NODE_TYPE=8,G.FIRST_ORDERED_NODE_TYPE=9;try{var j=!0;try{document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("XPath",null)&&(j=!1)}catch(k){}j&&Y(document,new n)}catch(k){}e.exports=Q}
,
function(e,t){function n(e){for(var t=arguments.length;--t>0;){var n=arguments[t];D["parse"+n]=D["intercept"+n]=e}}function i(e){var t=$(e,"*test","value");this.appendIf(t),y(this,e),this.appendEnd()}function a(e){var t=$(e,"test","value");this.appendElse(t||null),y(this,e),this.appendEnd()}function s(e){var t=$(e,"*test","value");this.appendElse(t||null),y(this,e),this.appendEnd()}function r(e){var t=$(e,"value","test"),n=this.getAttribute(S);this.setAttribute(S,{value:t,first:!0}),y(this,e,!0),this.setAttribute(S,n)}function l(e){var t=this.getAttribute(S),n=$(e,"*test","if","value");t.value&&(n="("+t.value+")==("+n+")"),t.first?(t.first=!1,this.appendIf(n)):this.appendElse(n),y(this,e),this.appendEnd()}function p(e){this.appendElse(null),y(this,e),this.appendEnd()}function h(e){if(1==e.nodeType)var t=$(e,"*list","values","items","value"),n=N(e,"*var","name","id","item"),i=N(e,"status");else var n=N(e).replace(/\s*\$\{([\s\S]*)\}\s*$/,"$1");E(this,n,t,i||null),y(this,e),this.appendEnd()}function u(e){var t=N(e,"*name","id");if(1==e.nodeType){var n=N(e,"value");if(n){var i=this.parseText(n,0);1==i.length?(i=i[0],i instanceof Array?this.appendVar(t,i[1]):(console.warn("标签:"+e.tagName+"的value属性"+n+"建议设置为表达式，您的输入没有表达式，系统自动按静态文本处理"),this.appendVar(t,JSON.stringify(i)))):(this.appendCapture(t),this.appendAll(i),this.appendEnd())}else this.appendCapture(t),y(this,e),this.appendEnd()}else{var a=I(t);if(a){for(var s in a)this.appendVar(s,a[s]);y(this,e)}else this.appendCapture(t),y(this,e),this.appendEnd()}}function o(e){var t=N(e,"value","#text");t=this.parseText(t,w),this.appendAll(t),2==e.nodeType&&console.error(" c:out attribute is unsafe!!")}function c(e){var t=N(e,"*name"),n=A(t);this.appendPlugin(b,JSON.stringify(n)),y(this,e),this.appendEnd()}function d(e){var t=N(e,"*name","id"),n=A(t);this.appendText("<script>//<![CDATA[\n"),this.appendPlugin("org.xidea.lite.parse.ClientPlugin",JSON.stringify(n)),y(this,e),this.appendEnd(),this.appendText("//]]></script>")}function f(e){1==e.nodeType?v.apply(this,arguments):2==e.nodeType&&g.apply(this,arguments)}function v(e){var t=N(e,"path"),n=N(e,"xpath"),i=N(e,"selector"),a=this.currentURI;try{if(null!=t)if("#"==t.charAt()&&(console.warn("装饰器命名节点改用${pageName}模式了:(,您实用的模式还是:"+t),t="$"+t.substring(1)),"$"==t.charAt())r=this.getAttribute(t),T(this,e);else{var s=this.createURI(t),r=this.loadXML(s);this.setCurrentURI(s)}else var r=this.loadXML(this.currentURI),r=e.ownerDocument;if(null==r)this.appendText("<strong style='color:red'>没找到包含节点："+this.currentURI+e.value+"</strong>");else{if(null!=i){var l=R.apply(r,i);if(l&&l.length)for(var p=0;p<l.length;p++)this.parse(l[p]);else console.warn("empty selection:"+i)}else if(null!=n){r=U(r,n)}this.parse(r)}}finally{this.setCurrentURI(a)}}function g(e){var t=e.value.match(/^([^#]*)(?:#(.*))?$/),n=t[1],i=t[2];if(n){var a=n.replace(/^[\$#]([\w\$_]+)$/,"$$$1");if("$"==a.charAt())r=this.getAttribute(a);else var s=this.createURI(n),r=this.loadXML(s)}else var r=e.ownerDocument;if(null==r)this.appendText("<strong style='color:red'>没找到包含节点："+this.currentURI+e.value+"</strong>");else for(var l=U(r,i),p=e.ownerElement||e.selectSingleNode(".."),h=l.length;h--;){var u=l.item(h);m(p,u)}y(this,e)}function m(e,t){if(2==t.nodeType){var n=e.getAttributeNS(t.namespaceURI,t.name);e.setAttributeNS(t.namespaceURI,t.name,n+t.value)}else if(1==t.nodeType)for(var i=t.attributes,a=0;a<i.length;a++)m(e,i.item(a))}var E=t(41).appendForStart,y=t(41).parseChildRemoveAttr,I=t(41).findLiteParamMap,A=t(41).parseDefName,T=t(41).setNodeURI,x=t(40).findELEnd,R=t(14).querySelectorAll,U=t(14).selectByXPath,N=t(14).findXMLAttribute,$=t(14).findXMLAttributeAsEL,b=(t(13).URI,t(6).PLUGIN_DEFINE),w=t(6).EL_TYPE,L=t(6).XT_TYPE,P=t(6).XA_TYPE,S="http://www.xidea.org/lite/core/c:choose@value",D={xmlns:function(){},parseExtension:function(e){var t=N(e,"*namespace","ns"),n=N(e,"file"),i=N(e,"package");if(i)a=i;else if(n)var a=this.loadText(this.createURI(n))+"\n";else var a=N(e,"#text")+"\n";this.addExtension(t,a)},parseComment:function(){},seek:function(e){var t=x(e,0);if(!(t>0))return console.warn("表达式解析异常，请检查是否手误：[fileName:"+this.currentURI+",text:"+e+"]"),-1;try{var n=e.substring(1,t),i=this.parseEL(n);switch(this.textType){case L:this.appendXT(i);break;case P:this.appendXA(null,i);break;default:this.appendEL(i)}return t}catch(a){return console.error("表达式解析异常，请检查是否手误：[fileName:"+this.currentURI+",el:"+n+"]",a),-1}},"seek!":function(e){var t=x(e,0);if(!(t>0))return console.warn("表达式解析异常，请检查是否手误：[fileName:"+this.currentURI+",el:"+n+"]"),-1;try{var n=e.substring(1,t);return this.appendEL(n),t}catch(i){return console.error("表达式解析异常，请检查是否手误：[fileName:"+this.currentURI+",el:"+n+"]",i),-1}},"seek#":function(e){var t=x(e,0);if(!(t>0))return console.warn("表达式解析异常，请检查是否手误：[fileName:"+this.currentURI+",el:"+n+"]"),-1;try{var n=e.substring(1,t);return this.appendPlugin("org.xidea.lite.EncodePlugin","{}"),this.appendEL(n),this.appendEnd(),t}catch(i){return console.error("表达式解析异常，请检查是否手误：[fileName:"+this.currentURI+",el:"+n+"]",i),-1}},parseDateFormat:function(e){var t=$(e,"value","date","time","#text").replace(/^\s+|\s+$/g,"")||"null",n=N(e,"pattern");if(n){var i=n.replace(/^\s*\$\{([\s\S]+)\}\s*$/,"$1");i==n&&(i=JSON.stringify(n))}else i='"YYYY-MM-DD"';this.appendPlugin("org.xidea.lite.DatePlugin","{}"),this.appendEL(i),this.appendEL(t),this.appendEnd()}};e.Core=D,D.parseTime=D.parseDate=D.parseDateFormat,n(i,"if"),n(a,"else"),n(s,"elseif","elif"),n(h,"for","foreach"),n(u,"var","set"),n(o,"out"),n(c,"def","macro"),n(d,"client"),n(r,"choose"),n(l,"when"),n(p,"otherwise"),n(f,"include")}
,
function(e,t,r){function i(e,t){var r=this.getAttribute(c);if(!r){this.setAttribute(c,!0);var i=e.documentElement,n=i.localName||i.nodeName.replace(/^w+\:/,"");if(("extends"==n||"extend"==n)&&i.namespaceURI==t)return void a.call(this,i);try{var s=i.getAttributeNodeNS(t,"extends")||i.getAttributeNodeNS(t,"extend")}catch(d){for(var l=i.attributes,p=l.length-1;p-- >0;){var o=l.item(p);if(o.namespaceURI==t&&/^(?:w+\:)?extends?$/.test(o.nodeName)){s=o;break}}}if(null!=s)return void a.call(this,s);var h=this.configMap.layout;if(h){var u=this.createURI(h);return void(u!=String(this.currentURI)&&(this.setAttribute("$page",e),this.parse(u)))}}this.next(e)}function a(e){var t=this.getAttribute("#extends"),r=1==e.nodeType?e:e.ownerElement||e.selectSingleNode(".."),i=r==r.ownerDocument.documentElement,a={blockMap:{},parse:!1,root:i};if(t){if(!t.parse)return;i?(a.root,a=t,a.parse=!1):a.root=!1}this.setAttribute("#extends",a);var n=f(e,"*path","value","parent"),s=this.createURI(n),d=this.loadXML(s);i||(d=d.documentElement);var l=this.mark();v(this,e),this.reset(l);var n=this.currentURI;try{this.setCurrentURI(s),a.parse=!0,this.parse(d)}finally{this.setCurrentURI(n)}this.setAttribute("#extends",t)}function n(e){var t=this.getAttribute("#extends"),r=f(e,"name","id");if(t){var i=t.blockMap,a=r&&r in i&&i[r];if(t.parse)if(a){var n=this.currentURI;try{u(this,a),t.parse=!0,l(this,a)}finally{this.setCurrentURI(n)}}else l(this,e);else a||(i[r]=e)}else l(this,e)}function s(e,t){var r=e.createURI(t);return e.loadText(r)}function d(e){for(var t=this,r=e.nodeName.match(/lazy/i),i=t.currentURI,a=f(e,"path"),n=t.createURI(a),d=t.loadXML(n),l=a.replace(/\.\w+$/,".css"),o=a.replace(/\.\w+$/,".js"),c=d.createDocumentFragment(),u=d.getElementsByTagName("body")[0],y=d.getElementsByTagName("link"),x=y.length-1;x-- >0;){var N=y[x];N.parentNode&&N.parentNode.removeChild(N),c.appendChild(N)}var b=s(t,l);if(b){var I=d.createElementNS(h,"link");I.setAttribute("rel","stylesheet"),I.setAttribute("type","text/css"),I.setAttribute("href",l),c.appendChild(I)}if(u){for(var N=u.firstChild;null!=N;){var w=N.nextSibling;c.appendChild(N),N=w}u.parentNode.removeChild(u);for(var y=d.getElementsByTagName("script"),x=y.length-1;x-- >0;){var N=y[x];N.parentNode&&N.parentNode.removeChild(N),c.appendChild(N)}}else c.appendChild(d.documentElement);var b=s(t,o);if(b){var I=d.createElementNS(h,"script");b=m(b,"__define_run__"),I.appendChild(d.createTextNode(b)),c.appendChild(I)}try{if(1==e.nodeType&&e.removeAttribute("path"),r){var A={},R=p(t,e,A);v(t,e),R&&t.appendText("</"+R+">"),t.appendPlugin(g,JSON.stringify(A)),this.parse(c),t.appendEnd()}else this.parse(c)}finally{this.currentURI=i}}function l(e,t){if(t.nodeName.match(/lazy/i)){var r={},i=p(e,t,r);e.appendPlugin(g,JSON.stringify(r)),v(e,t),e.appendEnd(),i&&e.append("</"+i+">")}else v(e,t)}function p(e,t,r){var i=o(e);if(1==t.nodeType){for(var a=t.attributes,n=0,s=a.length;s>n;n++){var d=a.item(n),l=d.name;l.match(/\:|^id$/i)||(r[l]=d.value)}e.appendText('<div data-lazy-widget-id="',i,'"');for(var l in r)e.appendText(" ",l,'="',r[l],'"');return e.appendText(">"),r.id=i,"div"}t.ownerElement.setAttribute("data-lazy-widget-id",i),r.id=i}function o(e){var t=e.__increaceBlockID||0;return e.__increaceBlockID=++t}var c="http://www.xidea.org/lite/core/c:layout-processed",h="http://www.w3.org/1999/xhtml",u=t(41).setNodeURI,v=t(41).parseChildRemoveAttr,f=t(14).findXMLAttribute,m=t(30).wrapScript,g="org.xidea.lite.ModulePlugin";e.parse$9=i,e.parseExtends=e.interceptExtends=a,e.parseBlock=e.interceptBlock=n,e.parseWidget=e.interceptWidget=d,e.parseLazyWidget=e.interceptLazyWidget=d}
,
function(e,n){var r=n(40).findELEnd,t=n(6).PLUGIN_DEFINE,i=n(41).parseDefName,s=n(41).findLiteParamMap,a=n(41).appendForStart;e.seekxa=function(e){var n=r(e,0);if(!(n>0))return console.warn("XML属性表达式解析异常，请检查是否手误：[fileName:"+this.currentURI+",el:"+t+"]"),-1;try{var t=e.substring(1,n);if(/^\s*([\w\-]+|"[^"]+"|'[^']+')\s*\:/.test(t)){var i=s(t);for(var a in i)this.appendXA(a,i[a])}else this.appendXA(null,t);return n}catch(u){return console.error("XML属性表达式解析异常，请检查是否手误：[fileName:"+this.currentURI+",el:"+t+"]",u),-1}},e.seekxt=function(e){var n=r(e,0);if(!(n>0))return console.warn("XML文本表达式解析异常，请检查是否手误：[fileName:"+this.currentURI+",el:"+t+"]"),-1;try{var t=e.substring(1,n);return this.appendXT(t),n}catch(i){return console.error("XML文本表达式解析异常，请检查是否手误：[fileName:"+this.currentURI+",el:"+t+"]",i),-1}},e.seekEnd=function(){return this.appendEnd(),0},e.seekDef=function(e){var n=r(e);if(n>0){var s=e.substring(1,n),a=i(s);return this.appendPlugin(t,JSON.stringify(a)),n}},e.seekVar=function(e){var n=r(e);if(n>0){var t=e.substring(1,n);if(/^\s*(?:\w+|['"][^"]+['"])\s*$/.test(t))this.appendCapture(t.replace(/['"]/g,""));else{var i=s(t);for(var a in i)this.appendVar(a,i[a])}return n}},e.seekClient=function(e){var n=r(e);if(n>0){var t=e.substring(1,n),s=i(t);return this.appendPlugin("org.xidea.lite.parse.ClientPlugin",JSON.stringify(s)),n}},e.seekIf=function(e){var n=r(e,0);return n>0?(this.appendIf(e.substring(1,n)),n):void 0},e.seekElse=function(e){if("$"==e.charAt())return this.appendEnd(),this.appendElse(null),0;var n=r(e);return n>0?(this.appendEnd(),this.appendElse(e.substring(1,n)||null),n):void 0},e.seekElif=function(e){var n=r(e);return n>0?(this.appendEnd(),this.appendElse(e.substring(1,n)||null),n):void 0},e.seekFor=function(e){var n=r(e);if(n>0){var t=e.substring(1,n);return a(this,t),n}},e.seekOut=function(e){var n=r(e);if(n>0){var t=e.substring(1,n);return this.appendEL(t),n}}}
,
function(e,r){function n(e,r){W[e]=r,Z[r]=e}function t(e){return Z[e]}function a(e){return W[e]}function c(e){switch(e){case N:case I:case z:return!0;default:return!1}}function s(e){return e[_(e[0])]}function u(e){var r=_(e);return c(e)?r+1:r}function _(e){if(0>e)return 1;var r=(e&E)>>6;return r+2}function P(e){var r=e&re||e&ne||e&te,n=e&ae||e&ce||e&se;return n?r?null:!1:!0}function O(e,r){var n=i(e),t=i(r),a=P(n),c=P(t);return a===!1||c===!1?ae:a===!0&&c===!0?te:te|ae}function i(e){var r=e[0];if(r>0){var n=e[1],t=e[2];switch(r){case q:return ce;case z:return se;case h:return O(n,t);case U:case L:case Y:case B:case g:case p:case H:case J:case j:case v:return te;case l:case Q:case V:case m:case C:case G:case w:case x:case b:return ne;case K:case F:return i(n)|i(t);case S:if(t[0]==I)if(n[0]==N&&"for"==n[1]){if("index"==t[1]||"lastIndex"==t[1])return te}else if("length"==t[1]){var a=i(n);return a&se?ue:a&ce||a&ae?a&ae||a&ne||a&te?re|te:te:re}return ue;case d:if(n[0]==N)switch(n[1]){case"encodeURI":case"encodeURIComponent":case"decodeURI":case"decodeURIComponent":return ae;case"parseInt":case"parseInt":return te;case"isFinite":case"isNaN":return ne}else if(n[0]==S&&(t=n[2],n=n[1],t[0]==I)){var c=t[1];if(n[0]==N){var s=n[1];if("JSON"==s){if("stringify"==c)return ae}else if("Math"==s)return te}}return ue;default:return ue}}else switch(r){case I:var u=e[1];if(null==u)return re;switch(typeof u){case"boolean":return ne;case"number":return te;case"string":return ae;case"object":return u instanceof Array?ce:se}return ue;case N:return ue;case R:return ce;case A:return se;default:return ue}}function T(e,r,n,t){var a=_e(e[0]),c=_e(r[0]);return n?(a>c&&(n="("+n+")"),n):(t&&a>=c&&(t="("+t+")"),t)}var f=60,o=3840,E=192,I=-1,N=-2,R=-3,A=-4,S=96,d=97,l=28,v=29,U=30,L=31,Y=88,B=89,g=90,h=84,p=85,k=80,y=81,M=82,Q=332,V=333,m=334,C=335,D=4428,G=76,w=77,x=78,b=79,H=1096,J=840,j=584,K=328,F=72,X=68,$=69,q=64,z=65,W={},Z={};n(I,"value"),n(N,"var"),n(R,"[]"),n(A,"{}"),n(S,"."),n(d,"()"),n(l,"!"),n(v,"~"),n(U,"+"),n(L,"-"),n(Y,"*"),n(B,"/"),n(g,"%"),n(h,"+"),n(p,"-"),n(k,"<<"),n(y,">>"),n(M,">>>"),n(Q,"<"),n(V,">"),n(m,"<="),n(C,">="),n(D," in "),n(G,"=="),n(w,"!="),n(x,"==="),n(b,"!=="),n(H,"&"),n(J,"^"),n(j,"|"),n(K,"&&"),n(F,"||"),n(X,"?"),n($,":"),n(q,","),n(z,":");var ee=0,re=1<<ee++,ne=1<<ee++,te=1<<ee++,ae=1<<ee++,ce=1<<ee++,se=1<<ee++,ue=(1<<ee++)-1;if("function"==typeof r){e.getTokenParam=s,e.hasTokenParam=c,e.getTokenParamIndex=_,e.getTokenLength=u,e.findTokenType=t,e.findTokenText=a,e.getELType=i,e.addELQute=T,e.BIT_ARGS=E,e.BIT_PRIORITY=f,e.BIT_PRIORITY_SUB=o,e.OP_ADD=h,e.OP_AND=K,e.OP_BIT_AND=H,e.OP_BIT_NOT=v,e.OP_BIT_OR=j,e.OP_BIT_XOR=J,e.OP_DIV=B,e.OP_EQ=G,e.OP_EQ_STRICT=x,e.OP_GET=S,e.OP_GT=V,e.OP_GTEQ=C,e.OP_IN=D,e.OP_INVOKE=d,e.OP_JOIN=q,e.OP_LSH=k,e.OP_LT=Q,e.OP_LTEQ=m,e.OP_MOD=g,e.OP_MUL=Y,e.OP_NE=w,e.OP_NEG=L,e.OP_NE_STRICT=b,e.OP_NOT=l,e.OP_OR=F,e.OP_POS=U,e.OP_PUT=z,e.OP_QUESTION=X,e.OP_QUESTION_SELECT=$,e.OP_RSH=y,e.OP_SUB=p,e.OP_URSH=M,e.TYPE_ANY=ue,e.TYPE_ARRAY=ce,e.TYPE_BOOLEAN=ne,e.TYPE_MAP=se,e.TYPE_NULL=re,e.TYPE_NUMBER=te,e.TYPE_STRING=ae,e.TYPE_TOKEN_MAP=W,e.VALUE_CONSTANTS=I,e.VALUE_LIST=R,e.VALUE_MAP=A,e.VALUE_VAR=N;var _e=(r(22).evaluate,r(24).getPriority)}}
,
function(r,e){function t(r,e){var t=r[0];return 0>=t?n(r,e):3==l(t)?u(r,e):c(r,e)}function n(r,e){var t=r[1];switch(r[0]){case S:return t&&"RegExp"==t["class"]&&t.literal||JSON.stringify(t);case $:if("for"==t){var n=e.getForName();n&&(t=n)}return e.getVarName(t);case d:return"[]";case A:return"{}"}}function a(r,e){var n=e[1],a=e[2];if(a[0]==S&&n[0]==$){var i=o(n),u=o(a);if("string"==typeof u){var c=r.findForAttribute(i,u);if(c)return c}}var f=t(n,r),s=t(a,r);return f=O(e,n,f),r.genGetCode(f,s)}function i(r,e,n){var i=a(r,e),u=t(n,r);return i.match(/\)$/)?i.slice(0,-1)+","+u+")":(i=i.replace(s,"($1)$2"),i+"("+u.slice(1,-1)+")")}function u(r,e){var n=r[0],u=r[1],c=r[2];if(n==_)return a(e,r);if(n==g&&u[0]==_)return i(e,u,c);var f=v(r[0]),l=t(u,e),S=t(c,e);switch(n){case g:return S=S.slice(1,-1),l=l.replace(s,"($1)$2"),l+"("+S+")";case E:return"[]"==l?"["+S+"]":l.slice(0,-1)+","+S+"]";case N:return S=JSON.stringify(o(r))+":"+S+"}","{}"==l?"{"+S:l.slice(0,-1)+","+S;case T:return null;case P:var d=t(u[1],e),l=t(u[2],e);return d+"?"+l+":"+S}return l=O(r,u,l),S=O(r,c,null,S),l+f+S}function c(r,e){var n=r[0],a=r[1],i=t(a,e);o(r);i=O(r,a,null,i);var u=v(n);return u+i}var f=/^"[a-zA-Z_\$][_\$\w]*"$/,s=/^(\d+)(\.\w+)$/;({getForName:String,findForAttribute:function(r,e){},genGetCode:function(r,e){return f.test(e)?r+"."+e.slice(1,-1):r+"["+e+"]"}});if("function"==typeof e){r.stringifyJSEL=t;var o=e(35).getTokenParam,l=e(35).getTokenParamIndex,v=e(35).findTokenText,O=e(35).addELQute,_=e(35).OP_GET,g=(e(35).OP_IN,e(35).OP_INVOKE),E=e(35).OP_JOIN,N=e(35).OP_PUT,T=e(35).OP_QUESTION,P=e(35).OP_QUESTION_SELECT,S=e(35).VALUE_CONSTANTS,d=e(35).VALUE_LIST,A=e(35).VALUE_MAP,$=e(35).VALUE_VAR}}
,
function(t,s){function r(t){this.value=t.replace(/^\s+|\s+$/g,""),this.start=0,this.end=this.value.length}r.prototype={parse:function(){this.skipComment();var t=this.value.charAt(this.start);if('"'==t)return this.findString();if("-"==t||t>="0"&&"9">=t)return this.findNumber();if("["==t)return this.findList();if("{"==t)return this.findMap();var s=this.findId();if("true".equals(s))return Boolean.TRUE;if("false".equals(s))return Boolean.FALSE;if("null".equals(s))return null;throw new Error("语法错误:"+this.value+"@"+this.start)},findMap:function(){this.start++,this.skipComment();for(var t={};;){var s=this.parse();this.skipComment();var r=this.value.charAt(this.start++);if(":"!=r)throw new Error("错误对象语法:"+this.value+"@"+this.start);var a=this.parse();if(this.skipComment(),r=this.value.charAt(this.start++),"}"==r)return t[s]=a,t;if(","!=r)throw new Error("错误对象语法:"+this.value+"@"+this.start);t.put(s,a)}},findList:function(){var t=[];if(this.start++,this.skipComment(),"]"==this.value.charAt(this.start))return this.start++,t;for(t.push(this.parse());;){this.skipComment();var s=this.value.charAt(this.start++);if("]"==s)return t;if(","!=s)throw new Error("错误数组语法:"+this.value+"@"+this.start);this.skipComment(),t.push(this.parse())}},findNumber:function(){var t=this.start,s=!1,r=this.value.charAt(t++);if("-"==r&&(r=this.value.charAt(t++)),"0"==r)return t<this.end?this.parseZero():(this.start=t,0);for(var a=r-"0";t<this.end&&(r=this.value.charAt(t++),r>="0"&&"9">=r);)a=10*a+(r-"0");if("."==r){for(r=this.value.charAt(t++);r>="0"&&"9">=r&&(s=!0,t<this.end);)r=this.value.charAt(t++);if(!s)return this.start=t-2,a}if("E"==r||"e"==r)for(s=!0,r=this.value.charAt(t++),("+"==r||"-"==r)&&(r=this.value.charAt(t++));r>="0"&&"9">=r&&t<this.end;)r=this.value.charAt(t++);else r=this.value.charAt(t-1),("0">r||r>"9")&&t--;return s?1*this.value.substring(this.start,this.start=t):(this.start=t,a)},parseZero:function(){var t=this.value.substr(this.start);return t=t.replace(/([+-]?0(?:x[0-9a-f]+|\.?[0-9]*))[\s\S]*/i,"$1"),this.start+=t.length,t.indexOf(".")<0?parseInt(t):parseFloat(t)},findId:function(){var t=this.start;if(/[\w\$_]/.test(this.value.charAt(t++))){for(;t<this.end&&/[\w\$_]/.test(this.value.charAt(t));)t++;return this.value.substring(this.start,this.start=t)}throw new Error("无效id")},findString:function(){for(var t=this.value.charAt(this.start++),s=[];this.start<this.end;){var r=this.value.charAt(this.start++);switch(r){case"\\":var a=this.value.charAt(this.start++);switch(a){case"b":s.push("\b");break;case"f":s.push("\f");break;case"n":s.push("\n");break;case"r":s.push("\r");break;case"t":s.push("	");break;case"v":s.push(11);break;case" ":s.push(" ");break;case"\\":case"/":s.push(a);break;case"'":s.push("'");break;case'"':s.push('"');break;case"u":var r=this.value.substring(this.start,this.start+4);r=parseInt(r,16),s.push(String.fromCharCode(r)),this.start+=4;break;case"x":var r=this.value.substring(this.start,this.start+2);r=parseInt(r,16),s.push(String.fromCharCode(r)),this.start+=2;break;default:s.push(r),s.push(a)}break;case'"':case"'":if(r==t)return s.join("");default:s.push(r)}}throw new Error("未结束字符串:"+this.value+"@"+this.start)},skipComment:function(){for(;;){for(;this.start<this.end;){var t=this.value.charAt(this.start);if(" "!=t&&"	"!=t)break;this.start++}if(!(this.start<this.end&&"/"==this.value.charAt(this.start)))break;this.start++;var s=this.value.charAt(this.start++);if("/"==s){var r=this.value.indexOf("\n",this.start),a=this.value.indexOf("\r",this.start),i=Math.min(r,a);0>i&&(i=Math.max(r,a)),i>0?this.start=i:this.start=this.end}else if("*"==s){var i=this.value.indexOf("*/",this.start);if(!(i>0))throw new Error("未結束注釋:"+this.value+"@"+this.start);this.start=i+2}}},skipSpace:function(t){for(;this.start<this.end;){var s=this.value.charAt(this.start);if(" "!=s&&"	"!=s&&"\r"!=s&&"\n"!=s)break;this.start++}if(t>"\x00"&&this.start<this.end){var r=this.value.charAt(this.start);if(t==r)return!0}return!1}},"function"==typeof s&&(t.JSONTokenizer=r)}
,
function(e,r){function t(){}function a(e,r,t,a,o){function m(e){if(e>65535){e-=65536;var r=55296+(e>>10),t=56320+(1023&e);return String.fromCharCode(r,t)}return String.fromCharCode(e)}function h(e){var r=e.slice(1,-1);return r in t?t[r]:"#"===r.charAt(0)?m(parseInt(r.substr(1).replace("x","0x"))):(o.error("entity not found:"+e),e)}function g(r){if(r>D){var t=e.substring(D,r).replace(/&#?\w+;/g,h);x&&p(D),a.characters(t,0,r-D),D=r}}function p(r,t){for(;r>=b&&(t=v.exec(e));)w=t.index,b=w+t[0].length,x.lineNumber++;x.columnNumber=r-w+1}for(var w=0,b=0,v=/.*(?:\r\n?|\n)|.*$/g,x=a.locator,N=[{currentNSMap:r}],F={},D=0;;){try{var k=e.indexOf("<",D);if(0>k){if(!e.substr(D).match(/^\s*$/)){var E=a.doc,C=E.createTextNode(e.substr(D));E.appendChild(C),a.currentElement=C}return}switch(k>D&&g(k),e.charAt(k+1)){case"/":var $=e.indexOf(">",k+3),A=e.substring(k+2,$),M=N.pop();0>$?(A=e.substring(k+2).replace(/[\s<].*/,""),o.error("end tag name: "+A+" is not complete:"+M.tagName),$=k+1+A.length):A.match(/\s</)&&(A=A.replace(/[\s<].*/,""),o.error("end tag name: "+A+" maybe not complete"),$=k+1+A.length);var O=M.localNSMap,T=M.tagName==A,S=T||M.tagName&&M.tagName.toLowerCase()==A.toLowerCase();if(S){if(a.endElement(M.uri,M.localName,A),O)for(var q in O)a.endPrefixMapping(q);T||o.fatalError("end tag name: "+A+" is not match the current start tagName:"+M.tagName)}else N.push(M);$++;break;case"?":x&&p(k),$=f(e,k,a);break;case"!":x&&p(k),$=l(e,k,a,o);break;default:x&&p(k);var y=new d,I=N[N.length-1].currentNSMap,$=s(e,k,y,I,h,o),L=y.length;if(!y.closed&&u(e,$,y.tagName,F)&&(y.closed=!0,t.nbsp||o.warning("unclosed xml attribute")),x&&L){for(var _=n(x,{}),R=0;L>R;R++){var P=y[R];p(P.offset),P.locator=n(x,{})}a.locator=_,c(y,a,I)&&N.push(y),a.locator=x}else c(y,a,I)&&N.push(y);"http://www.w3.org/1999/xhtml"!==y.uri||y.closed?$++:$=i(e,$,y.tagName,h,a)}}catch(B){o.error("element parse error: "+B),$=-1}$>D?D=$:g(Math.max(k,D)+1)}}function n(e,r){return r.lineNumber=e.lineNumber,r.columnNumber=e.columnNumber,r}function s(e,r,t,a,n,s){for(var c,i,u=++r,o=b;;){var l=e.charAt(u);switch(l){case"=":if(o===v)c=e.slice(r,u),o=N;else{if(o!==x)throw new Error("attribute equal must after attrName");o=N}break;case"'":case'"':if(o===N||o===v){if(o===v&&(s.warning('attribute value must after "="'),c=e.slice(r,u)),r=u+1,u=e.indexOf(l,r),!(u>0))throw new Error("attribute value no end '"+l+"' match");i=e.slice(r,u).replace(/&#?\w+;/g,n),t.add(c,i,r-1),o=D}else{if(o!=F)throw new Error('attribute value must after "="');i=e.slice(r,u).replace(/&#?\w+;/g,n),t.add(c,i,r),s.warning('attribute "'+c+'" missed start quot('+l+")!!"),r=u+1,o=D}break;case"/":switch(o){case b:t.setTagName(e.slice(r,u));case D:case k:case E:o=E,t.closed=!0;case F:case v:case x:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),o==b&&t.setTagName(e.slice(r,u)),u;case">":switch(o){case b:t.setTagName(e.slice(r,u));case D:case k:case E:break;case F:case v:i=e.slice(r,u),"/"===i.slice(-1)&&(t.closed=!0,i=i.slice(0,-1));case x:o===x&&(i=c),o==F?(s.warning('attribute "'+i+'" missed quot(")!!'),t.add(c,i.replace(/&#?\w+;/g,n),r)):("http://www.w3.org/1999/xhtml"===a[""]&&i.match(/^(?:disabled|checked|selected)$/i)||s.warning('attribute "'+i+'" missed value!! "'+i+'" instead!!'),t.add(i,i,r));break;case N:throw new Error("attribute value missed!!")}return u;case"":l=" ";default:if(" ">=l)switch(o){case b:t.setTagName(e.slice(r,u)),o=k;break;case v:c=e.slice(r,u),o=x;break;case F:var i=e.slice(r,u).replace(/&#?\w+;/g,n);s.warning('attribute "'+i+'" missed quot(")!!'),t.add(c,i,r);case D:o=k}else switch(o){case x:t.tagName;"http://www.w3.org/1999/xhtml"===a[""]&&c.match(/^(?:disabled|checked|selected)$/i)||s.warning('attribute "'+c+'" missed value!! "'+c+'" instead2!!'),t.add(c,c,r),r=u,o=v;break;case D:s.warning('attribute space is required"'+c+'"!!');case k:o=v,r=u;break;case N:o=F,r=u;break;case E:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function c(e,r,t){for(var a=e.tagName,n=null,s=e.length;s--;){var c=e[s],i=c.qName,u=c.value,l=i.indexOf(":");if(l>0)var f=c.prefix=i.slice(0,l),d=i.slice(l+1),m="xmlns"===f&&d;else d=i,f=null,m="xmlns"===i&&"";c.localName=d,m!==!1&&(null==n&&(n={},o(t,t={})),t[m]=n[m]=u,c.uri="http://www.w3.org/2000/xmlns/",r.startPrefixMapping(m,u))}for(var s=e.length;s--;){c=e[s];var f=c.prefix;f&&("xml"===f&&(c.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==f&&(c.uri=t[f||""]))}var l=a.indexOf(":");l>0?(f=e.prefix=a.slice(0,l),d=e.localName=a.slice(l+1)):(f=null,d=e.localName=a);var h=e.uri=t[f||""];if(r.startElement(h,d,a,e),!e.closed)return e.currentNSMap=t,e.localNSMap=n,!0;if(r.endElement(h,d,a),n)for(f in n)r.endPrefixMapping(f)}function i(e,r,t,a,n){if(/^(?:script|textarea)$/i.test(t)){var s=e.indexOf("</"+t+">",r),c=e.substring(r+1,s);if(/[&<]/.test(c))return/^script$/i.test(t)?(n.characters(c,0,c.length),s):(c=c.replace(/&#?\w+;/g,a),n.characters(c,0,c.length),s)}return r+1}function u(e,r,t,a){var n=a[t];return null==n&&(n=e.lastIndexOf("</"+t+">"),r>n&&(n=e.lastIndexOf("</"+t)),a[t]=n),r>n}function o(e,r){for(var t in e)r[t]=e[t]}function l(e,r,t,a){var n=e.charAt(r+2);switch(n){case"-":if("-"===e.charAt(r+3)){var s=e.indexOf("-->",r+4);return s>r?(t.comment(e,r+4,s-r-4),s+3):(a.error("Unclosed comment"),-1)}return-1;default:if("CDATA["==e.substr(r+3,6)){var s=e.indexOf("]]>",r+9);return t.startCDATA(),t.characters(e,r+9,s-r-9),t.endCDATA(),s+3}var c=h(e,r),i=c.length;if(i>1&&/!doctype/i.test(c[0][0])){var u=c[1][0],o=i>3&&/^public$/i.test(c[2][0])&&c[3][0],l=i>4&&c[4][0],f=c[i-1];return t.startDTD(u,o&&o.replace(/^(['"])(.*?)\1$/,"$2"),l&&l.replace(/^(['"])(.*?)\1$/,"$2")),t.endDTD(),f.index+f[0].length}}return-1}function f(e,r,t){var a=e.indexOf("?>",r);if(a){var n=e.substring(r,a).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(n){n[0].length;return t.processingInstruction(n[1],n[2]),a+2}return-1}return-1}function d(e){}function m(e,r){return e.__proto__=r,e}function h(e,r){var t,a=[],n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(n.lastIndex=r,n.exec(e);t=n.exec(e);)if(a.push(t),t[1])return a}var g=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,p=new RegExp("[\\-\\.0-9"+g.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),w=new RegExp("^"+g.source+p.source+"*(?::"+g.source+p.source+"*)?$"),b=0,v=1,x=2,N=3,F=4,D=5,k=6,E=7;t.prototype={parse:function(e,r,t){var n=this.domBuilder;n.startDocument(),o(r,r={}),a(e,r,t,n,this.errorHandler),n.endDocument()}},d.prototype={setTagName:function(e){if(!w.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},add:function(e,r,t){if(!w.test(e))throw new Error("invalid attribute:"+e);this[this.length++]={qName:e,value:r,offset:t}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},m({},m.prototype)instanceof m||(m=function(e,r){function t(){}t.prototype=r,t=new t;for(r in e)t[r]=e[r];return t}),e.XMLReader=t}
,
function(e,t){function n(e,t){for(var n in e)t[n]=e[n]}function r(e,t){function r(){}var i=e.prototype;if(Object.create){var o=Object.create(t.prototype);i.__proto__=o}i instanceof t||(r.prototype=t.prototype,r=new r,n(i,r),e.prototype=i=r),i.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),i.constructor=e)}function i(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,ie[e]),this.message=ie[e],Error.captureStackTrace&&Error.captureStackTrace(this,i);return n.code=e,t&&(this.message=this.message+": "+t),n}function o(){}function a(e,t){this._node=e,this._refresh=t,u(this)}function u(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);F(e,"length",r.length),n(r,e),e._inc=t}}function s(){}function l(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function c(e,t,n,r){if(r?t[l(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var i=e.ownerDocument;i&&(r&&g(i,e,r),v(i,e,n))}}function h(e,t,n){var r=l(t,n);if(!(r>=0))throw i(ae,new Error(e.tagName+"@"+n));for(var o=t.length-1;o>r;)t[r]=t[++r];if(t.length=o,e){var a=e.ownerDocument;a&&(g(a,e,n),n.ownerElement=null)}}function p(e){if(this._features={},e)for(var t in e)this._features=e[t]}function d(){}function f(e){return"<"==e&&"&lt;"||">"==e&&"&gt;"||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function m(e,t){if(t(e))return!0;if(e=e.firstChild)do if(m(e,t))return!0;while(e=e.nextSibling)}function N(){}function v(e,t,n){e&&e._inc++;var r=n.namespaceURI;"http://www.w3.org/2000/xmlns/"==r&&(t._nsMap[n.prefix?n.localName:""]=n.value)}function g(e,t,n,r){e&&e._inc++;var i=n.namespaceURI;"http://www.w3.org/2000/xmlns/"==i&&delete t._nsMap[n.prefix?n.localName:""]}function w(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var i=t.firstChild,o=0;i;)r[o++]=i,i=i.nextSibling;r.length=o}}}function E(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,w(e.ownerDocument,e),t}function y(e,t,n){var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===te){var i=t.firstChild;if(null==i)return t;var o=t.lastChild}else i=o=t;var a=n?n.previousSibling:e.lastChild;i.previousSibling=a,o.nextSibling=n,a?a.nextSibling=i:e.firstChild=i,null==n?e.lastChild=o:n.previousSibling=o;do i.parentNode=e;while(i!==o&&(i=i.nextSibling));return w(e.ownerDocument||e,e),t.nodeType==te&&(t.firstChild=t.lastChild=null),t}function b(e,t){var n=t.parentNode;if(n){var r=e.lastChild;n.removeChild(t);var r=e.lastChild}var r=e.lastChild;return t.parentNode=e,t.previousSibling=r,t.nextSibling=null,r?r.nextSibling=t:e.firstChild=t,e.lastChild=t,w(e.ownerDocument,e,t),t}function T(){this._nsMap={}}function _(){}function D(){}function S(){}function I(){}function C(){}function A(){}function R(){}function x(){}function O(){}function U(){}function M(){}function B(){}function P(e,t){var n=[],r=9==this.nodeType?this.documentElement:this,i=r.prefix,o=r.namespaceURI;if(o&&null==i){var i=r.lookupPrefix(o);if(null==i)var a=[{namespace:o,prefix:null}]}return V(this,n,e,t,a),n.join("")}function L(e,t,n){var r=e.prefix||"",i=e.namespaceURI;if(!r&&!i)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===i||"http://www.w3.org/2000/xmlns/"==i)return!1;for(var o=n.length;o--;){var a=n[o];if(a.prefix==r)return a.namespace!=i}return!0}function V(e,t,n,r,i){if(r){if(e=r(e),!e)return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case X:i||(i=[]);var o=(i.length,e.attributes),a=o.length,u=e.firstChild,s=e.tagName;n=$===e.namespaceURI||n,t.push("<",s);for(var l=0;a>l;l++){var c=o.item(l);"xmlns"==c.prefix?i.push({prefix:c.localName,namespace:c.value}):"xmlns"==c.nodeName&&i.push({prefix:"",namespace:c.value})}for(var l=0;a>l;l++){var c=o.item(l);if(L(c,n,i)){var h=c.prefix||"",p=c.namespaceURI,d=h?" xmlns:"+h:" xmlns";t.push(d,'="',p,'"'),i.push({prefix:h,namespace:p})}V(c,t,n,r,i)}if(L(e,n,i)){var h=e.prefix||"",p=e.namespaceURI,d=h?" xmlns:"+h:" xmlns";t.push(d,'="',p,'"'),i.push({prefix:h,namespace:p})}if(u||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(s)){if(t.push(">"),n&&/^script$/i.test(s))for(;u;)u.data?t.push(u.data):V(u,t,n,r,i),u=u.nextSibling;else for(;u;)V(u,t,n,r,i),u=u.nextSibling;t.push("</",s,">")}else t.push("/>");return;case K:case te:for(var u=e.firstChild;u;)V(u,t,n,r,i),u=u.nextSibling;return;case G:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,f),'"');case H:return t.push(e.data.replace(/[<&]/g,f));case W:return t.push("<![CDATA[",e.data,"]]>");case Q:return t.push("<!--",e.data,"-->");case ee:var m=e.publicId,N=e.systemId;if(t.push("<!DOCTYPE ",e.name),m)t.push(' PUBLIC "',m),N&&"."!=N&&t.push('" "',N),t.push('">');else if(N&&"."!=N)t.push(' SYSTEM "',N,'">');else{var v=e.internalSubset;v&&t.push(" [",v,"]"),t.push(">")}return;case J:return t.push("<?",e.target," ",e.data,"?>");case q:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function k(e,t,n){var r;switch(t.nodeType){case X:r=t.cloneNode(!1),r.ownerDocument=e;case te:break;case G:n=!0}if(r||(r=t.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,n)for(var i=t.firstChild;i;)r.appendChild(k(e,i,n)),i=i.nextSibling;return r}function j(e,t,n){var r=new t.constructor;for(var i in t){var a=t[i];"object"!=typeof a&&a!=r[i]&&(r[i]=a)}switch(t.childNodes&&(r.childNodes=new o),r.ownerDocument=e,r.nodeType){case X:var u=t.attributes,l=r.attributes=new s,c=u.length;l._ownerElement=r;for(var h=0;c>h;h++)r.setAttributeNode(j(e,u.item(h),!0));break;case G:n=!0}if(n)for(var p=t.firstChild;p;)r.appendChild(j(e,p,n)),p=p.nextSibling;return r}function F(e,t,n){e[t]=n}function Y(e){switch(e.nodeType){case X:case te:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(Y(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}var $="http://www.w3.org/1999/xhtml",z={},X=z.ELEMENT_NODE=1,G=z.ATTRIBUTE_NODE=2,H=z.TEXT_NODE=3,W=z.CDATA_SECTION_NODE=4,q=z.ENTITY_REFERENCE_NODE=5,Z=z.ENTITY_NODE=6,J=z.PROCESSING_INSTRUCTION_NODE=7,Q=z.COMMENT_NODE=8,K=z.DOCUMENT_NODE=9,ee=z.DOCUMENT_TYPE_NODE=10,te=z.DOCUMENT_FRAGMENT_NODE=11,ne=z.NOTATION_NODE=12,re={},ie={},oe=(re.INDEX_SIZE_ERR=(ie[1]="Index size error",1),re.DOMSTRING_SIZE_ERR=(ie[2]="DOMString size error",2),re.HIERARCHY_REQUEST_ERR=(ie[3]="Hierarchy request error",3)),ae=(re.WRONG_DOCUMENT_ERR=(ie[4]="Wrong document",4),re.INVALID_CHARACTER_ERR=(ie[5]="Invalid character",5),re.NO_DATA_ALLOWED_ERR=(ie[6]="No data allowed",6),re.NO_MODIFICATION_ALLOWED_ERR=(ie[7]="No modification allowed",7),re.NOT_FOUND_ERR=(ie[8]="Not found",8)),ue=(re.NOT_SUPPORTED_ERR=(ie[9]="Not supported",9),re.INUSE_ATTRIBUTE_ERR=(ie[10]="Attribute in use",10));re.INVALID_STATE_ERR=(ie[11]="Invalid state",11),re.SYNTAX_ERR=(ie[12]="Syntax error",12),re.INVALID_MODIFICATION_ERR=(ie[13]="Invalid modification",13),re.NAMESPACE_ERR=(ie[14]="Invalid namespace",14),re.INVALID_ACCESS_ERR=(ie[15]="Invalid access",15);i.prototype=Error.prototype,n(re,i),o.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)V(this[r],n,e,t);return n.join("")}},a.prototype.item=function(e){return u(this),this[e]},r(a,o),s.prototype={length:0,item:o.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new i(ue);var n=this.getNamedItem(e.nodeName);return c(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new i(ue);return t=this.getNamedItemNS(e.namespaceURI,e.localName),c(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return h(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return h(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},p.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return n&&(!t||t in n)?!0:!1},createDocument:function(e,t,n){var r=new N;if(r.implementation=this,r.childNodes=new o,r.doctype=n,n&&r.appendChild(n),t){var i=r.createElementNS(e,t);r.appendChild(i)}return r},createDocumentType:function(e,t,n){var r=new A;return r.name=e,r.nodeName=e,r.publicId=t,r.systemId=n,r}},d.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return y(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return E(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return j(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==H&&e.nodeType==H?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(n[r]==e)return r;t=t.nodeType==G?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==G?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){var t=this.lookupPrefix(e);return null==t}},n(z,d),n(z,d.prototype),N.prototype={nodeName:"#document",nodeType:K,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==te){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return null==this.documentElement&&e.nodeType==X&&(this.documentElement=e),y(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),E(this,e)},importNode:function(e,t){return k(this,e,t)},getElementById:function(e){var t=null;return m(this.documentElement,function(n){return n.nodeType==X&&n.getAttribute("id")==e?(t=n,!0):void 0}),t},createElement:function(e){var t=new T;t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new o;var n=t.attributes=new s;return n._ownerElement=t,t},createDocumentFragment:function(){var e=new U;return e.ownerDocument=this,e.childNodes=new o,e},createTextNode:function(e){var t=new S;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new I;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new C;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new M;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new _;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new O;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new T,r=t.split(":"),i=n.attributes=new s;return n.childNodes=new o,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,i._ownerElement=n,n},createAttributeNS:function(e,t){var n=new _,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},r(N,d),T.prototype={nodeType:X,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===te?this.insertBefore(e,null):b(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new a(this,function(t){var n=[];return m(t,function(r){r===t||r.nodeType!=X||"*"!==e&&r.tagName!=e||n.push(r)}),n})},getElementsByTagNameNS:function(e,t){return new a(this,function(n){var r=[];return m(n,function(i){i===n||i.nodeType!==X||"*"!==e&&i.namespaceURI!==e||"*"!==t&&i.localName!=t||r.push(i)}),r})}},N.prototype.getElementsByTagName=T.prototype.getElementsByTagName,N.prototype.getElementsByTagNameNS=T.prototype.getElementsByTagNameNS,r(T,d),_.prototype.nodeType=G,r(_,d),D.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(ie[oe])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){var r=this.data.substring(0,e),i=this.data.substring(e+t);n=r+n+i,this.nodeValue=this.data=n,this.length=n.length}},r(D,d),S.prototype={nodeName:"#text",nodeType:H,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},r(S,D),I.prototype={nodeName:"#comment",nodeType:Q},r(I,D),C.prototype={nodeName:"#cdata-section",nodeType:W},r(C,D),A.prototype.nodeType=ee,r(A,d),R.prototype.nodeType=ne,r(R,d),x.prototype.nodeType=Z,r(x,d),O.prototype.nodeType=q,r(O,d),U.prototype.nodeName="#document-fragment",U.prototype.nodeType=te,r(U,d),M.prototype.nodeType=J,r(M,d),B.prototype.serializeToString=function(e,t,n){return P.call(e,t,n)},d.prototype.toString=P;try{Object.defineProperty&&(Object.defineProperty(a.prototype,"length",{get:function(){return u(this),this.$$length}}),Object.defineProperty(d.prototype,"textContent",{get:function(){return Y(this)},set:function(e){switch(this.nodeType){case X:case te:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),F=function(e,t,n){e["$$"+t]=n})}catch(se){}e.DOMImplementation=p,e.XMLSerializer=B}
,
function(e,r){function a(e,r){r=r||0;var a=e.length,s=r+1;if(s>=a)return-1;var i=0,n=0;do{var f=e.charAt(s);switch(f){case"\\":s++;break;case"'":case'"':i==f?i=0:0==i&&(i=f);break;case"{":case"[":case"(":0==i&&n++;break;case"}":case"]":case")":if(0==i&&(n--,0>n))return s;break;case"/":if(0==i){var u=t(e,r,s);if(u){var l=c(e,s);l>0?s=l:console.error("无效状态")}}}}while(++s<a);return-1}function t(e,r,a){for(var t=a-1;t>r;t--){var c=e.charAt(t);if(!/\s/.test(c)){if(/[\w\$]/.test(c))return!1;switch(c){case"]":case")":case"}":return!1;default:return!0}}}return!0}function c(e,r){var a=e.length,t=0;for(r++;a>r;r++){var c=e.charAt(r);if("["==c)t=1;else if("]"==c)t=0;else if("\\"==c)r++;else if(0==t&&"/"==c)for(;a>r;)switch(c=e.charAt(r++)){case"g":case"i":case"m":break;default:return r-1}}return-1}e.findELEnd=a}
,
function(e,r){function n(e){var r=e,n=r.indexOf("("),t=[],a=[];if(n>0){var s=r.substring(n+1);for(s=s.replace(/^\s+|\)\s*$/g,""),r=c(r.substring(0,n)),n=0;s;){if(n=s.indexOf(",",n),n>0){var i=s.substring(0,n);try{new Function(i),s=s.substring(n+1).replace(/^\s+|\s+$/g,""),n=0}catch(o){n++;continue}}else{i=s,s=null;try{new Function(i)}catch(o){throw console.error("函数定义中参数表语法错误:"+i+e,o),o}}var u=i.indexOf("=",n);if(u>0)a.push(c(i.substring(0,u))),t.push(JSON.parse(i.substring(u+1)));else{if(t.length){var l="函数定义中参数表语法错误:默认参数值能出现在参数表最后:"+e;throw console.error(l),new Error(l)}a.push(c(i))}}return{name:r,params:a,defaults:t}}return{name:r}}function t(e){for(var r={};e;){var n=e.match(/^\s*([\w\$\_]+|'[^']*'|"[^"]*")\s*(?:[\:=]\s*([\s\S]+))\s*$/);if(!n)throw console.error("非法参数信息",e);e=n[2];var t=n[1].replace(/^['"]|['"]$/g,""),s=a(e),i=e.substring(0,s);r[t]=i,e=e.substring(s+1)}return r}function a(e){var r=0;do{var n=e.indexOf(",",r+1),t=e.indexOf(";",r+1);if(r=t>0&&n>0?Math.min(n,t):Math.max(n,t),0>=r)break;var a=e.substring(0,r);try{return new Function(a),r}catch(s){r+=1}}while(r>=0);return e.length}function s(e,r){r.nodeType||r.length&&(r=r.item(0));var n=9==r.nodeType?r:r.ownerDocument;if(n){var t=n.documentURI;if(/^lite:\//.test(t))e.setCurrentURI(e.createURI(t));else if(t){var a=l(n.documentElement),s=a&&a.indexOf("|@");s>0&&(t=a.substring(s+2)),e.setCurrentURI(e.createURI(t))}}}function i(e,r,n){if(1==r.nodeType){var t=r.firstChild;if(n)for(;t;)(3!=t.nodeType||String(t.data).replace(/\s+/g,""))&&e.parse(t),t=t.nextSibling;else for(;t;)e.parse(t),t=t.nextSibling}else if(2==r.nodeType){var a=r.ownerElement||r.selectSingleNode("..");a.removeAttributeNode(r),e.parse(a)}else e.parse(r)}function o(e,r,n,t){if(!n){var a=r.match(f);if(!a)throw console.error("非法 for 循环信息",value);var r=a[1],t=a[2],n=a[3]}var s=u(n);if(2==s.length){var i=s[0],o=s[1];n="Math.abs("+i+"-"+o+")+1",e.appendFor(r,n,t||null),e.appendVar(r,r+"+"+i+"-1")}else{if(1!=s.length)throw console.error("for表达式无效："+n),new Error("for 表达式无效：list="+n+";var="+r);e.appendFor(r,n,t||null)}}function u(e){try{return new Function("return "+e.replace(/\.\./g,".%%.")),[e]}catch(r){for(var n=0;;){if(n=e.indexOf("..",n+1),!(n>0))return[];try{var t=e.substring(0,n),a=e.substring(n+2);new Function("return "+t+"-"+a);var s=t.replace(/^\s*\[/,"");if(s!=t)try{new Function("return "+t),s=t}catch(r){}return s!=t?(a=a.replace(/\]\s*$/,""),console.debug("[start,last] 语法 不是通用表达式，只能在for循环中使用。",e),[s,a]):(console.warn("range for 表达式(非通用表达式)推荐模式为：[start,last]，您提供的表达式为"+e),[t,a])}catch(r){}}}}function c(e){e=e.replace(/^\s+|\s+$/g,"");try{new Function("return "+e)}catch(r){throw console.error("无效id:"+e,r),r}return e}e.parseDefName=n,e.findLiteParamMap=t,e.parseChildRemoveAttr=i,e.setNodeURI=s,e.appendForStart=o;var l=r(14).getLiteTagInfo,f=/\s*([\$\w_]+)\s*(?:\(\s*([\w\$_]+)\))?\s*(?:\:|in)([\s\S]*)/}
,
function(e,r){function t(e,r,t){if(e=String(e).replace(/\r\n?/g,"\n"),e.search(u)<0)return e;for(var n=s(e,r,t),a=[],i=0;i<n.length;i++){var c=n[i];switch(c.charAt()){case"'":case'"':a.push(c);break;case"/":var l=c.match(/^\/(?:(\*\s*@)|\/|\*)/);(!l||l[1])&&a.push(c);break;default:a.push(c.replace(/(\n)+|([^\S\r\n])+/gm,"$1$2").replace(/(?:([\r\n])+\s*)+/g,"$1"))}}return a.join("")}function n(e,r,n){e=e.replace(/^\/\*[\s\S]*?\*\/\s*/g,"");var s=f.indexOf(e);if(s>=0){if(s%2==0){var a=f.splice(s,2);return f.push(a[0],a[1]),a[1]}return e}var i=e,c=e.slice(e.length/10,e.length/1.1);if(c.length<200||c.match(u))try{i=t(e,r,n)}catch(l){i=t("this.x="+e,r,n).replace(/^this.x=|(});$/g,"$1")}return f.push(e,i),f.length>64&&(f.shift(),f.shift()),i}function s(e,r,t){function n(e,r){e&&(v==r?f[f.length-1]+=e:(f.push(e),v=r))}function s(e){var n=f.length-1,s=f[n],a=s.match(/(?:(\([\w\s,]*\))(\{\s*(?:return\s*)?))?$/);if(a)var c=a[1],l=a[2];var u=c&&c.replace(/[\s()]/g,"").split(",")||[],h=i(e,r,{root:t,params:u||[]}),g=String(h).replace(/^\s+|\s+$/g,"");if(l)s=s.slice(0,s.length-a[0].length+1),f[n]=s+g.replace(/^[^(]+.|\}[^}]*$/g,"");else{var o=g.match(/^function\([\w\s,]*\)\{\s*return/);o?f[n]=s+g.substring(o[0].length).replace(/;?\s*\}[^}]*$/,""):f[n]=s+"("+g+")()"}}var l,u=/'(?:\\.|[^'])*'|"(?:\\.|[^"])*"|\/\/.*|\/\*[\s\S]*?\*\/|\/(?=[^*\/].*\/(?:[img]*\b|[^\w]))|<(?=(?:[A-Za-z_][\w_\-\.]*(?:\:[\w\-\.]*)?)(?:\s*\/?>|\s+\w))/i,f=[],v=-1;for(e=e.replace(/\r\n|\r/g,"\n"),u.lastIndex=0;(l=u.exec(e))&&l;){var w=l.index,l=l[0],b="<"==l;if("/"==l||b){n(e.substring(0,w),g);var m=(b?a:c)(f,e.substring(w));m?(l=m,b?s(l):n(l,p)):n(l.replace(/^\//,"	/"),g)}else switch(n(e.substring(0,w),g),l.charAt()){case"'":case'"':n(l,o);break;case"/":var m=l.charAt(1);if("*"==m||"/"==m){n(l,h);break}default:n(l,g)}e=e.substring(l.length+w)}return n(e,g),f}function a(e,r){var t=r.match(/^<([a-z_][\w_\-\.]*(?:\:[a-z_][\w_\-\.]*)?)(?:\s*[\/>]|\s+[\w_])/i);if(!t)return null;t=t[1],t=t.replace(/\.\-/g,"\\$&");var n=new RegExp("<(/)?"+t,"g"),s=0;for(n.lastIndex=0;t=n.exec(r);)if(t[1]){if(0==--s)return r.substring(0,t.index+t[0].length+1);if(0>s)return null}else s++}function i(e,t,n){var s=e.match(/^([\w\-\/\.]+)(#.*)?$/);if(s){var a=s[2],i=["<c:include path='",s[1],"' "];a&&a.length>1?i.push('selector="',a.substr(1).replace(/["]/g,"&#34;"),'"/>'):i.push("/>"),e=i.join("")}var c=new(r(28).DOMParser)({locator:{systemId:t||n.root},xmlns:{c:"http://www.xidea.org/lite/core",h:"http://www.xidea.org/lite/html-ext"}});return e=c.parseFromString(e,"text/html"),r(43).parseLite(e,n)}function c(e,r){for(var t=e.length;t--;){var n=e[t];if(!/^\/[\/*]|^\s+$/.test(n)){if(n=n.replace(/\s+$/,""),/^['"]|^\/.+\/$/.test(n))break;if(/\b(?:new|instanceof|typeof)$/.test(n))return l(r);if(/(?:[)\]}]|[\w_]|--|\+\+)$/.test(n))break;return l(r)}}}function l(e){for(var r,t=0,n=1;r=e.charAt(n++);){if("\n"==r||"\r"==r)return;if("["==r)t=1;else if("]"==r)t=0;else if("\\"==r)n++;else if(0==t&&"/"==r){e:for(;r=e.charAt(n++);)switch(r){case"g":case"i":case"m":break;default:if(/\w/.test(r))return null;break e}return e=e.substring(0,n-1)}}}var u=/^[\t ]{2}|^\s*\/\/|\/\**[\r\n]/m,f=[],h=0,g=1,o=2,p=3;"function"==typeof r&&(e.partitionJavaScript=s,e.compressJS=n)}
,
function(n,e){function r(n,e){var r=n&&n.documentURI,i=e&&e.root||r&&r.replace(/[^\/\\]+$/,""),s=new o(i&&new t(i));r&&s.setCurrentURI(r),n=s.loadXML(n),s.parse(n);try{e instanceof Array&&(e={params:e});var c=new a,u=c.translate(s.toList(),e);return n=new Function("return "+u).apply(),n.toString=function(){return u},n}catch(f){throw console.error("translate error",f,u),f}}if("function"==typeof e){n.parseLite=r,n.LiteEngine=e(44).LiteEngine;var t=e(20).ParseConfig,a=e(9).JSTranslator,o=e(45).ParseContext}}
,
function(e,t,r,n){function i(e,r){r=r||{},this.litecache=r.litecache,this.released=r.released,e=t(46).resolve(e||"./"),e=e.replace(/[\\\/]*$/,"/"),this.root=e,this.templateMap={},this.renderTask={},this.released||(this.compiler=a(this,r.configurator))}function a(e,r){var n=e.root;try{if(r instanceof Function)throw new Error;var i=t(49).configRootKey,a=[i,n];r&&a.push("-configurator",r);var o=t(47).fork(c+"/process.js",a);return o.on("message",function(t){e.onChange(t.path,t.code,t.config)}),o}catch(s){var l=t(49).setupCompiler,p=l(n,function(t){var r=t.action;("remove"==r||"add"==r||"error"==r)&&e.onChange(t.path,t.code,t.config)},r);return{send:p}}}function o(e,r,n){n.headersSent||(n.statusCode||(n.statusCode=200),null==n.getHeader("content-type")&&n.setHeader("content-type",e.contentType||"text/html;charset=utf-8"));try{e.render(r,n)}catch(i){var a="<pre>"+t(48).inspect(i,!0)+"\n\n"+(i.message+i.stack);throw n.end(a),i}}function s(e){return e.slice(1).replace(/[^\w\_]/g,"_")}var c=n.replace(/[^\/]+$/,""),l=t(50).Template;e.getTemplateId=s,e.LiteEngine=i,i.prototype.requestCompile=function(e){if(this.released){var r=s(e),n=t(46).join(this.litecache,r+".js");this.onChange(e,null,{liteFile:n})}else this.compiler.send(e)},i.prototype.createTemplate=function(e,t){return new l(e,t)},i.prototype.onChange=function(e,r,n){if(n&&n.liteFile)try{var i=t(n.liteFile);i=this.createTemplate(i.template,i.config)}catch(a){console.error(a),r="function(context,out){var err = 'template:"+n.liteFile+" not found!!';console.error(err);out.push(err);return out.join('')}";var i=this.createTemplate(r,n)}else{var c=this.litecache;if(c)var l=s(e),p=t(46).join(this.litecache,l+".js");if(!r||null!=n.error)return delete this.templateMap[e],p&&delete t.cache[t.resolve(p)],void console.info("clear template cache:",e);if(p&&this.updateLitecache(p,r,n))try{var i=t(p);i=this.createTemplate(i.template||r,i.config)}catch(a){console.error(a);var i=this.createTemplate(r,n)}else var i=this.createTemplate(r,n);this.templateMap[e]=i}var h=this.renderTask[e];if(h){delete this.renderTask[e];for(var u=0;u<h.length;u++){var f=h[u];f[0]=i,o.apply(null,f)}}},i.prototype.updateLitecache=function(e,r,n){var i=t(0),a=e.replace(/[^\\\/]+$/,"");if(i.existsSync(a)){if(r){var o=["exports.template=",r,";\nexports.config = ",JSON.stringify(n)].join("");return i.writeFileSync(e,o),e}i.existsSync(e)&&i.unlinkSync(e)}else console.error("litecache dir not exists:"+a)},i.prototype.render=function(e,r,n,i){e=e.replace(/\\/g,"/").replace(/^\/?/,"/");var a=String(n.headers.cookie),s=a.replace(/(?:^|&[\s\S]*;\s*)LITE_DEBUG=(\w+)[\s\S]*$/,"$1");if(s=s==a?!1:s,"model"==s)i.end(JSON.stringify(r));else if("source"==s)t(0).readFile(t(46).resolve(this.root,e.replace(/^[\\\/]/,"")),"binary",function(e,t){e?(i.writeHead(404,{"Content-Type":"text/plain"}),i.end(e+"\n")):(i.writeHead(200,{"Content-Type":"text/plain;charset=utf8"}),i.end(t,"binary"))});else{var c=this.templateMap[e];c?o(c,r,i):((this.renderTask[e]||(this.renderTask[e]=[])).push([e,r,i]),this.requestCompile(e))}}}
,
function(t,e){function n(t,e){t=t||new y,this.config=t,this.currentURI=h,this.configMap=t.getConfig(e),this.textType=0,this._path=e,this._attributeMap=[[],[],{}],this._result=new c,this._context=this,this._result._context=this,this._resources=[],r(this,t.getExtensionMap(e))}function r(t,e){var n=new x;for(var r in e)for(var o=e[r],a=o.length,u=0;a>u;u++)n.addExtension(r,o[u]);t._nodeParsers=[s,d,i],t._textParsers=[n],t._extensionParser=n,t._topChain=l(t)}function i(t,e,n){return e._extensionParser.parse(t,e,n)}function s(t,e){return"string"==typeof t?g(t,e,e._textParsers):void console.error("未知节点类型",typeof t,t)}function o(t){return function(){var e=this._result;return e[t].apply(e,arguments)}}function a(t,e){if("string"==typeof e)return t=t[2],e in t?t[e]:null;for(var n=t[0],r=t[1],i=n.length;i--;)if(e===n[i])return r[i]}function u(t,e,n){if("string"==typeof e)t[2][e]=n;else{for(var r=t[0],i=t[1],s=r.length;s--;)if(e===r[s])return i[s]=n,void(void 0===n&&(i.splice(s,1),r.splice(s,1)));r.push(e),i.push(n)}}var c=e(12).ResultContext,f=e(13).URI,h=new f("lite:///"),p=e(14).loadLiteXML,l=e(15).buildTopChain,x=e(16).ExtensionParser,d=(e(17).Extension,e(18).parseDefaultXMLNode),g=e(19).parseText,_=e(6).XA_TYPE,v=e(6).EL_TYPE,w=e(6).XT_TYPE,y=e(20).ParseConfig;t.ParseContext=n,n.prototype={parseText:function(t,e){switch(e){case _:case w:case v:break;default:throw console.error("未知编码模式："+e),new Error}var n=this.mark(),r=this.textType;this._context.textType=e,s(t,this),this._context.textType=r;var i=this.reset(n);return i},parse:function(t){var e=t.nodeType;if(e>0)this._topChain.next(t);else{if(t instanceof f){var n=this.currentURI;this.setCurrentURI(t),t=this.loadXML(t),"string"==typeof t&&(t=t.replace(/#.*[\r\n]*/,""))}if("string"!=typeof t){var r=t.length,i=t.nodeType;if(void 0===i&&"undefined"!=typeof t.item){if(0===r)return;for(var s=0;r>s;s++)this._topChain.next(t.item(s));return}}this._topChain.next(t),n&&this.setCurrentURI(n)}},createURI:function(t){var e=this.config.root.toString();if(!t)return t;t=String(t),0==t.indexOf(e)&&(t=t.substring(e.length-1));var n=this.currentURI;return n?n.resolve(t):(t=t.replace(/^[\\\/]/,"./"),h.resolve(t))},loadText:function(t){if("lite"==t.scheme){var n=t.path+(t.query||"");n=n.replace(/^\//,"./"),t=this.config.root.resolve(n)}if("file"!=t.scheme){var r=new XMLHttpRequest;return r.open("GET",t,!1),r.send(""),r.responseText}var i=e(0),n=t.path;return i.existsSync(n)?i.readFileSync(n).toString():void 0},loadXML:function(t){var e=+new Date;if(t instanceof f||(/^\s*</.test(t)?n=p(t,this.config.root):t=new f(t)),t instanceof f){var n=p(t,this.config.root);this._context._loadTime+=new Date-e}var r=n&&n.documentElement;return r&&(r.setAttribute("xmlns:xhtml","http://www.w3.org/1999/xhtml"),r.setAttribute("xmlns:c","http://www.xidea.org/lite/core")),n},setAttribute:function(t,e){u(this._context._attributeMap,t,e)},getAttribute:function(t){return a(this._context._attributeMap,t)},addNodeParser:function(t){this._nodeParsers.push(t)},addTextParser:function(t){this._textParsers.push(t)},addExtension:function(t,e){this._extensionParser.addExtension(t,e)},getConfig:function(t){return this.configMap[t]},getConfigMap:function(){return this.configMap},setCurrentURI:function(t){this._context.addResource(t=new f(t)),this._context.currentURI=t},addResource:function(t){for(var e=this._resources,n=0;n<e.length;n++)if(e[n]+""==t)return;this._resources.push(t)},getResources:function(){return this._resources},createNew:function(){var t=new n(this.config,this.currentURI);return t.config=this.config,t.configMap=this.configMap,t._resources=this._resources,t},_loadTime:0};var T=c.prototype;for(var P in T)T[P]instanceof Function&&(n.prototype[P]=o(P))}
,
function(o,e,r){console.log("read module err!!!path\nError: ENOENT: no such file or directory, open 'path'")}
,
function(o,e,r){console.log("read module err!!!child_process\nError: ENOENT: no such file or directory, open 'child_process'")}
,
function(o,e,r){console.log("read module err!!!util\nError: ENOENT: no such file or directory, open 'util'")}
,
function(o,e){function r(o,r,n){function i(o,e){for(var r=s[o]={},n=0;n<e.length;n++){var i=e[n];r[i]=!0;var c=a[i];null==c&&(c=a[i]={},t(i)),c[o]=!0}}function t(n){c.watch(e(46).join(o,n),function(o,e){for(var i in a[n]){var t=s[i];t&&t[n]&&(delete s[i],r({path:i,action:"remove"}))}})}var c=e(0),s={},a={},f=e(51).LiteCompiler,u=new f(o);if(u.waitPromise=!0,n)try{if("string"==typeof n){var l=configurators.split("#"),v=l[0],p=l[1],n=e(v)[p];n(u)}else n instanceof Function&&n(u)}catch(d){console.error("filter init error:"+d)}return function(e){try{if(c.existsSync(o+e))var n=u.compile(e);else n={resources:["./"],litecode:[],jscode:'function(c,out){out.push("File Not Found:'+e+'");return out.join()}',config:{}};var t=n.resources;i(e,t),r({path:e,action:"add",code:n.jscode,config:n.config})}catch(s){throw s}}}var n="-lite-engine-child-process-root";o.configRootKey=n;var i=process.argv,t=i[2]==n;if(t){var c=i[3].replace(/\/?$/,"/");if("-configurator"==i[4]&&i[5])var s=i[5];var a=r(c,function(o){process.send(o)},s);process.on("message",function(o){a(o)})}o.setupCompiler=r}
,
function(exports,require){function Template(code,config){try{this.impl=code instanceof Function?code:eval("["+code+"][0]")}catch(e){this.impl=function(){throw e}}this.config=config,this.contentType=config.contentType,this.encoding=config.encoding}function wrapResponse(e,t){var n=[],i=[],o=0;return{push:function(){for(var t=arguments.length,n=0;t>n;n++){var r=arguments[n];o>1024&&(e.write(i.join("")),i=[],o=0),i.push(r),o+=r.length}},join:function(){var o=i.pop(),r=o&&o.match(/<\/html>\s*$/i);r&&(r=r[0],i.push(o.slice(0,-r.length))),e.write(i.join("")),i=[],doMutiLazyLoad(t,n,e,function(){e.end(r||"")})},flush:function(){e.write(i.join("")),i=[],o=0},wait:modelWait,lazy:function(e){n.push(e)}}}function doMutiLazyLoad(e,t,n,i){function o(t,o){function c(){var p=t.next();if(p.done){var l=o.join("");return e.lazyAppend(n,s,l,a,r),++a>=r&&i(),l}p.value.then(c)}var s=t.name.replace(/^[^\d]+|[^\d]+$/g,"");o.flush=function(){},o.wait=modelWait,t=t(o),c()}var r=t.length,a=0;if(r)for(var c=0;r>c;c++)o(t[c],[]);else i()}Template.prototype.render=function(e,t){try{this.impl.call(null,e,wrapResponse(t,this))}catch(n){console.warn(this.impl+"");var i=require(48).inspect(n,!0)+"\n\n"+(n.message+n.stack);throw t.end(i),n}},Template.prototype.lazyAppend=function(e,t,n,i,o){n=JSON.stringify(n).replace(/<\/script>/gi,"<\\/script>"),e.write("<script>__widget_loaded__(\"*[data-lazy-widget-id='"+t+"']\","+n+")</script>")};try{var modelWait=Function("return function* modelWait(){var i = arguments.length;while(i--){if (arguments[i] instanceof Promise) {this.flush();yield arguments[i]}}}")()}catch(e){console.error("es6 yield is not support!!");var modelWait=function(){return{done:!0}}}exports.wrapResponse=wrapResponse,exports.Template=Template}
,
function(e,t){function i(e,i){i=i||{};var o=t(46),e=String(o.resolve(e||"./")).replace(/\\/g,"/"),r=(i.compileDir,i.configPath||o.resolve(e,"lite.xml"));if(t(0).existsSync(r)){var c=s(r);this.config=new n(e,c)}else if(!i.configPath&&(r=o.resolve(e,"WEB-INF/lite.xml"),t(0).existsSync(r))){var c=s(r);this.config=new n(e,c)}this.config=this.config||new n(e,null),this.translator=new a({waitPromise:!0}),console.info("LiteCompiler root:",e)}function o(e,o,n,r,a){function s(t){f.readdir(t,function(i,n){for(var c=0;c<n.length;c++){var u=n[c],h=t+"/"+u,v=f.statSync(h);if(v.isFile()){var m=g.relative(e,h).replace(/^[\/\\]?|\\/g,"/");if(a&&a.test(m))continue;if(r?r.test(m):/\.xhtml$/.test(m)){console.log("compile:",g.join(o,m));var x=p.compile(m),d=["exports.template=",x.jscode,";\nexports.config = ",JSON.stringify(x.config)].join(""),w=l(m);f.writeFile(g.join(o,w)+".js",d,function(e,t){})}}else"."!=u.charAt()&&v.isDirectory()&&s(h)}})}var f=t(0),g=t(46);e=f.realpathSync(e||"./"),o=o||g.join(e,".litecode"),f.existsSync(o)||f.mkdirSync(o);var p=new i(e);r=r&&r.length&&new RegExp(r.map(c).join("|")),a=a&&a.length&&new RegExp(a.map(c).join("|")),s(e)}var n=t(20).ParseConfig,r=t(45).ParseContext,a=t(9).JSTranslator,s=t(14).loadLiteXML,c=t(13).buildURIMatcher,l=t(44).getTemplateId;e.LiteCompiler=i,e.execute=function(e){for(var t={},i="",n=2;n<e.length;n++){var r=e[n];"-"==r.charAt()?(i=r.substr(1),t[i]=[]):t[i].push(r)}var a=t.root&&t.root[0],s=t.output&&t.output[0];o(a,s,t.translator,t.includes,t.excludes)},i.prototype.createParseContext=function(e){return new r(this.config,e)},i.prototype.compile=function(e){var t=(this.config.root,this.createParseContext(e)),i=t.createURI(e);t.parse(i);var o=t.toList();if(o.length)var n=l(e),r=this.translator.translate(o,{name:n});else var r="function(){}";for(var a=t.getResources(),s=t.getConfigMap(),c=a.length;c--;)a[c]=a[c].path;return{resources:a,litecode:o,jscode:r,config:s}}},[])
function WebCompiler(e,t){"/"==e.charAt()&&(e=location.href.replace(/([^\/])\/[^\/].*$/,"$1"+e)),this.base=e,this.config=new ParseConfig(e,t)}var exports=exports||window,PHPTranslator=require(1).PHPTranslator,ParseContext=require(2).ParseContext,ParseConfig=require(3).ParseConfig,parseConfig=require(4).parseConfig,URI=require(5).URI,base64Encode=require(5).base64Encode;require(0).readFileSync=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(),t.responseText},WebCompiler.prototype.compile=function(e){try{var t=+new Date,i=new ParseContext(this.config,e);this.litecode="",this.phpcode="",this.path=e,i.parse(i.createURI(e)),this.compileTime=new Date-t-(i._loadTime||0);for(var r=i.getResources(),o=i.getConfigMap(),n=r.length;n--;)r[n]=r[n].path;var a=i.toList();this.litecode=JSON.stringify([r,a,o]);var t=+new Date,s=new PHPTranslator({waitPromise:!0});this.phpcode=s.translate(a,{name:e.replace(/[\.\/\-!%]/g,"_")}),this.translateTime=new Date-t}finally{this.phpcode||(this.litecode?prompt("build phpcode failed!!"+this.path):prompt("build litecode failed!!"+this.path))}},WebCompiler.prototype.save=function(){var e="compileTime="+this.compileTime+"&translateTime="+this.translateTime+"&LITE_ACTION=save&LITE_PATH="+encodeURIComponent(this.path)+"&LITE_CODE="+base64Encode(this.litecode)+"&LITE_PHP="+base64Encode(this.phpcode),t=new XMLHttpRequest;t.open("POST",this.base,!1),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(e);try{return window.eval("("+t.responseText+")"),!0}catch(i){return console.info("编译失败:",t.responseText),!1}};